<html lang="zh-CN" data-theme="light" class="translated-ltr"><head><script data-astro-exec="">
			const url = window.location.href;
			const expectedUrl = url.replace(
				/^https:\/\/(?!beta)(\w+\.)?tradingview\.com/,
				'https://www.tradingview.com',
			);
			if (url !== expectedUrl) {
				window.location.replace(expectedUrl);
			}
		</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/pine-script-docs/static/favicon.ico"><link rel="icon" type="image/svg+xml" href="/pine-script-docs/favicon.svg"><title>概念/警报</title><meta name="og:title" content="Concepts / Alerts"><meta name="twitter:title" content="Concepts / Alerts"><meta name="description" content="Everything you need to know about Pine Script™."><meta name="og:description" content="Everything you need to know about Pine Script™."><meta name="twitter:description" content="Everything you need to know about Pine Script™."><meta name="keywords" content="tradingview, pine, script, indicators, strategies"><meta name="og:image" content="/pine-script-docs/meta-image.png"><meta name="twitter:image" content="/pine-script-docs/meta-image.png"><meta name="og:image:width" content="1200"><meta name="og:image:height" content="630"><meta name="og:url" content="../../concepts/alerts/"><meta name="twitter:url" content="../../concepts/alerts/"><meta name="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TradingView"><link rel="canonical" href="../../concepts/alerts/"><link rel="sitemap" href="/pine-script-docs/sitemap-index.xml"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="none"><link rel="stylesheet" href="/pine-script-docs/_astro/index.jN9AZoBe.css">
<link rel="stylesheet" href="/pine-script-docs/_astro/index.C8b720yZ.css"><script type="module" src="/pine-script-docs/_astro/hoisted.D4iEV6y6.js" data-astro-exec=""></script><style type="text/css" media="screen">.monaco-editor-tv-pine-light { 
.mtk1 { color: #131722; }
.mtk2 { color: #ffffff; }
.mtk3 { color: #808080; }
.mtk4 { color: #ff0000; }
.mtk5 { color: #0451a5; }
.mtk6 { color: #0000ff; }
.mtk7 { color: #098658; }
.mtk8 { color: #008000; }
.mtk9 { color: #9598a1; }
.mtk10 { color: #dd0000; }
.mtk11 { color: #cc2929; }
.mtk12 { color: #f57f17; }
.mtk13 { color: #000000; }
.mtk14 { color: #383838; }
.mtk15 { color: #0c3299; }
.mtk16 { color: #2962ff; }
.mtk17 { color: #8e24aa; }
.mtk18 { color: #22ab94; }
.mtk19 { color: #cd3131; }
.mtk20 { color: #863b00; }
.mtk21 { color: #af00db; }
.mtk22 { color: #800000; }
.mtk23 { color: #e00000; }
.mtk24 { color: #3030c0; }
.mtk25 { color: #666666; }
.mtk26 { color: #778899; }
.mtk27 { color: #c700c7; }
.mtk28 { color: #a31515; }
.mtk29 { color: #388e3c; }
.mtk30 { color: #4f76ac; }
.mtk31 { color: #008080; }
.mtk32 { color: #001188; }
.mtk33 { color: #2a2e39; }
.mtk34 { color: #4864aa; }
.mtki { font-style: italic; }
.mtkb { font-weight: bold; }
.mtku { text-decoration: underline; text-underline-position: under; }
.mtks { text-decoration: line-through; }
.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; } }</style><link type="text/css" rel="stylesheet" charset="UTF-8" href="https://www.gstatic.com/_/translate_http/_/ss/k=translate_http.tr.26tY-h6gH9w.L.W.O/am=GAY/d=0/rs=AN8SPfrev-A3NvrBP0gNq8zXCqKY7IcBLA/m=el_main_css"></head> <body> <div id="search-content-blur" hidden=""></div> <script data-astro-exec="">
	/* eslint-disable @typescript-eslint/typedef */
	window.ThemeProvider = (() => {
		function getCurrent() {
			return (
				// eslint-disable-next-line no-restricted-syntax
				typeof localStorage !== 'undefined' &&
				localStorage.getItem('tv-docs-theme')
			);
		}
		const storedTheme = getCurrent();
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ?
				'light'
			:	'dark');
		document.documentElement.dataset.theme =
			theme === 'light' ? 'light' : 'dark';
		document.documentElement.classList.toggle(
			'theme-dark',
			theme === 'dark',
		); // add support for ui-lib themes
		document.documentElement.classList.toggle(
			'sl-theme-dark',
			theme === 'dark',
		); // add support for shoelace themes

		return {
			updatePickers(themeArg = storedTheme || 'auto') {
				let currentTheme = themeArg;
				if (currentTheme === 'unknown') {
					currentTheme = getCurrent() || 'auto';
				}
				document
					.querySelectorAll('docs-theme-select')
					.forEach((picker) => {
						const select = picker.querySelector('select');
						if (select) select.value = currentTheme;
						/** @type {HTMLTemplateElement | null} */
						const tmpl = document.querySelector(`#theme-icons`);
						const newIcon =
							tmpl &&
							tmpl.content.querySelector('.' + currentTheme);
						if (newIcon) {
							const oldIcon =
								picker.querySelector('svg.label-icon');
							if (oldIcon) {
								oldIcon.replaceChildren(
									...newIcon.cloneNode(true).childNodes,
								);
							}
						}
					});
			},
		};
	})();
	/* eslint-enable @typescript-eslint/typedef */
</script><template id="theme-icons"><svg width="16px" height="16px" viewBox="0 0 28 28" class="light" data-icon="theme/sun-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg><svg width="16px" height="16px" viewBox="0 0 28 28" class="dark" data-icon="theme/moon-28">  <symbol id="ai:local:theme/moon-28"><path fill="currentColor" fill-rule="evenodd" d="M21 7.02A9.23 9.23 0 0 0 15.2 5 9.1 9.1 0 0 0 6 14c0 4.97 4.12 9 9.2 9a9.33 9.33 0 0 0 5.8-2.02A7 7 0 0 1 14.36 14 7 7 0 0 1 21 7.02Zm-3.95-.3a7.91 7.91 0 0 0-1.85-.22A7.6 7.6 0 0 0 7.5 14a7.6 7.6 0 0 0 7.7 7.5 8 8 0 0 0 1.85-.22A8.46 8.46 0 0 1 12.86 14c0-3.1 1.69-5.8 4.19-7.28Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/moon-28"></use>  </svg><svg width="16px" height="16px" viewBox="0 0 28 28" class="auto" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8V4Zm0 9v2h1v-2H8Zm6-3V9h-2v1h2ZM3 9v1h2V9H3Zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm4.2-6-.7-.7-1.4 1.4.7.7L12.7 6ZM5 13.7l-.7-.7 1.4-1.4.7.7L5 13.7Zm7.7-.7-.7.7-1.4-1.4.7-.7 1.4 1.4ZM4.3 6l.7-.7 1.4 1.4-.7.7L4.3 6Zm3 17 14-14 .8.7L8 23.7l-.7-.7Zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9Z"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg></template> <div class="backdrop" data-mobile-menu-backdrop="" data-astro-cid-h2irkosh=""></div> <div class="menu-container" data-astro-cid-h2irkosh=""> <div class="header" data-astro-cid-h2irkosh=""> <div class="header-group" data-astro-cid-h2irkosh="">    <docs-theme-select class="" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;黑暗的&nbsp;&nbsp;</font></font></option><option value="light" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;明亮&nbsp;&nbsp;</font></font></option><option value="auto" selected="true" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;自动&nbsp;&nbsp;</font></font></option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </div> <div class="header-group" data-astro-cid-h2irkosh="">  <div class="not-content" style="stroke-width:2px" data-astro-cid-pkzv2hgs=""> <button id="mobile-menu-back-button" title="Close menu" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-primary stvb-icon">  <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-h2irkosh="" data-icon="theme/arrow-back">  <symbol id="ai:local:theme/arrow-back"><g fill="none"><g clip-path="url(#a)"><path stroke="var(--arrow-fill-color, #131722)" d="m17 20-6-6 6-6"></path></g><defs><clipPath id="a"><path fill="#fff" d="M28 28H0V0h28z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/arrow-back"></use>  </svg>  </button> </div>  </div> </div> <aside id="nav" class="keep-visible" style="--navbar-right-border-width: 0px" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-mobile="" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="Docs sidebar" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎使用 Pine Script™ v5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初识Pine Script™</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一步</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个指标</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模型</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/time-series" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间序列</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份标识</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量声明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型系统</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Concepts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey="">Alerts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/backgrounds" data-astro-cid-omxx3dey="">Backgrounds</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-coloring" data-astro-cid-omxx3dey="">Bar coloring</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-plotting" data-astro-cid-omxx3dey="">Bar plotting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey="">Bar states</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey="">Chart information</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/colors" data-astro-cid-omxx3dey="">Colors</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/fills" data-astro-cid-omxx3dey="">Fills</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey="">Inputs</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/levels" data-astro-cid-omxx3dey="">Levels</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey="">Libraries</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/lines-and-boxes" data-astro-cid-omxx3dey="">Lines and boxes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey="">Non-standard charts data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey="">Other timeframes and data</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/plots" data-astro-cid-omxx3dey="">Plots</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey="">Repainting</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey="">Sessions</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey="">Strategies</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/tables" data-astro-cid-omxx3dey="">Tables</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/text-and-shapes" data-astro-cid-omxx3dey="">Text and shapes</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey="">Time</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey="">Timeframes</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Writing scripts</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey="">Style guide</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey="">Debugging</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey="">Profiling and optimization</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey="">Publishing scripts</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey="">Limitations</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq" data-astro-cid-omxx3dey="">FAQ</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey="">Error messages</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey="">Release notes</a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey="">Migration guides</div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey="">To Pine Script™ version 5</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey="">To Pine Script™ version 4</a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey="">To Pine Script™ version 3</a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey="">Where can I get more information?</a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  </div>   <header class="header" data-astro-cid-d74r2unp=""> <nav role="navigation" aria-label="主导航" data-astro-cid-d74r2unp=""> <mobile-menu-button id="mobile-menu-button-wc" data-astro-cid-oojooh3d=""> <!-- Annoyingly I need to wrap this. TODO: improve this --> <div id="mobile-menu-button-header" data-astro-cid-oojooh3d=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button title="Open navigation menu" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-secondary stvb-icon stvb-icon-force-color stvb-force-no-border">  <svg width="28" height="28" viewBox="0 0 24 24" data-astro-cid-oojooh3d="" data-icon="theme/bars">  <symbol id="ai:local:theme/bars"><path fill="currentColor" d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"></path></symbol><use xlink:href="#ai:local:theme/bars"></use>  </svg>  </button> </div>  </div> </mobile-menu-button>   <div data-hide-when-search="" data-astro-cid-d74r2unp=""> <div class="header-logo" data-astro-cid-tycb33lk=""> <a href="/pine-script-docs/" aria-label="主页按钮" data-astro-cid-tycb33lk=""> <div class="documentation-logo logo" data-astro-cid-tycb33lk=""><svg width="188" height="44" viewBox="0 0 188 44" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M26.9989 28.0001L18.4281 20.7531L11.3382 23.2611C10.402 23.5923 9.60771 22.5041 10.2085 21.7134L21.0877 7.39502C21.4749 6.88536 22.2346 6.86567 22.6478 7.35459L34.7627 21.6923C35.1531 22.1543 35.0472 22.8544 34.5376 23.1802L26.9989 28.0001ZM32.4978 22.1105L27.1641 25.5207L19.7195 19.2258C19.1767 18.7669 18.4312 18.6305 17.7611 18.8676L13.8245 20.2602L21.9253 9.59841L32.4978 22.1105Z" fill="currentColor"></path>
<path d="M33.432 28.0842L38.3592 34.7471C38.7427 35.2657 38.3724 36 37.7274 36H6.27248C5.62746 36 5.25722 35.2657 5.64074 34.7471L10.8523 27.6996C10.9484 27.5697 11.0822 27.4725 11.2356 27.4214L17.6878 25.2707C17.9285 25.1904 18.1932 25.2314 18.3984 25.3806L26.2854 31.1166C26.5445 31.3051 26.8922 31.3173 27.1639 31.1475L32.3838 27.885C32.7316 27.6677 33.1881 27.7544 33.432 28.0842Z" fill="currentColor"></path>
<path d="M59.56 13.96C63.016 13.96 65.536 16.456 65.536 19.696C65.536 22.936 63.016 25.432 59.56 25.432H57.376V31H53.896V13.96H59.56ZM59.512 22.168C61.096 22.168 62.152 21.088 62.152 19.696C62.152 18.304 61.096 17.224 59.512 17.224H57.376V22.168H59.512ZM70.8636 14.944C70.8636 16.096 69.9276 17.032 68.7516 17.032C67.6236 17.032 66.6636 16.096 66.6636 14.944C66.6636 13.792 67.6236 12.856 68.7516 12.856C69.9276 12.856 70.8636 13.792 70.8636 14.944ZM67.1196 31V19H70.4076V31H67.1196ZM73.0849 31V19H76.3729V20.368C76.9969 19.408 78.2449 18.736 79.8049 18.736C82.7089 18.736 84.4369 20.848 84.4369 23.968V31H81.1489V24.52C81.1489 22.792 80.4049 21.736 79.0369 21.736C77.5249 21.736 76.3729 22.84 76.3729 25.144V31H73.0849ZM86.2041 25C86.2041 21.448 88.8681 18.736 92.5161 18.736C95.6601 18.736 98.4201 20.752 98.4201 24.64C98.4201 24.928 98.4201 25.264 98.3721 25.768H89.3961C89.5881 27.376 91.0041 28.264 92.5881 28.264C94.0761 28.264 95.1561 27.568 95.6841 26.752L98.1321 28.576C97.0281 30.184 95.0841 31.264 92.5641 31.264C88.9881 31.264 86.2041 28.792 86.2041 25ZM92.4201 21.448C91.1961 21.448 89.8281 22.072 89.5161 23.536H95.1321C94.8441 22.12 93.6441 21.448 92.4201 21.448ZM104.412 28.24L107.076 26.008C107.916 27.28 109.38 28.024 110.772 28.024C112.14 28.024 113.052 27.352 113.052 26.368C113.052 25.408 112.356 24.736 110.676 24.16L109.236 23.656C106.5 22.696 105.036 21.112 105.036 18.784C105.036 15.568 107.484 13.672 110.796 13.672C112.884 13.672 114.708 14.392 116.172 16.024L113.868 18.4C113.052 17.416 111.996 16.936 110.82 16.936C109.644 16.936 108.54 17.44 108.54 18.448C108.54 19.48 109.38 19.936 111.18 20.584L112.548 21.088C115.044 22 116.604 23.584 116.604 26.152C116.58 29.2 114.156 31.288 110.628 31.288C107.916 31.288 105.636 30.112 104.412 28.24ZM129.859 27.808C128.827 29.872 126.667 31.264 124.171 31.264C120.619 31.264 117.811 28.624 117.811 25C117.811 21.376 120.619 18.736 124.171 18.736C126.667 18.736 128.827 20.128 129.859 22.192L127.003 23.728C126.523 22.624 125.491 21.808 124.171 21.808C122.443 21.808 121.123 23.152 121.123 25C121.123 26.848 122.443 28.192 124.171 28.192C125.491 28.192 126.523 27.376 127.003 26.272L129.859 27.808ZM131.482 31V19H134.77V20.92C135.178 19.744 136.402 18.856 137.746 18.856C138.082 18.856 138.442 18.88 138.85 19V22.336C138.346 22.168 137.89 22.072 137.362 22.072C135.802 22.072 134.77 23.296 134.77 25.264V31H131.482ZM144.215 14.944C144.215 16.096 143.279 17.032 142.103 17.032C140.975 17.032 140.015 16.096 140.015 14.944C140.015 13.792 140.975 12.856 142.103 12.856C143.279 12.856 144.215 13.792 144.215 14.944ZM140.471 31V19H143.759V31H140.471ZM146.436 36.016V19H149.724V20.344C150.276 19.576 151.548 18.736 153.204 18.736C156.396 18.736 158.844 21.592 158.844 25C158.844 28.408 156.396 31.264 153.204 31.264C151.548 31.264 150.276 30.424 149.724 29.656V36.016H146.436ZM155.508 25C155.508 23.128 154.284 21.736 152.484 21.736C150.684 21.736 149.46 23.128 149.46 25C149.46 26.872 150.684 28.264 152.484 28.264C154.284 28.264 155.508 26.872 155.508 25ZM168.407 30.88C167.879 31.048 167.231 31.144 166.319 31.144C163.775 31.144 161.735 29.728 161.735 26.8V21.88H159.311V19H161.735V15.664H165.023V19H168.407V21.88H165.023V26.152C165.023 27.616 165.647 28.192 167.063 28.192C167.591 28.192 168.023 28.12 168.407 27.976V30.88ZM177.626 22.648V13.96H179.978L181.874 16.888L183.746 13.96H186.122V22.648H183.698V18.184L181.874 20.968L180.026 18.136V22.648H177.626ZM171.386 22.648V16.456H169.058V13.96H176.258V16.456H173.93V22.648H171.386Z" fill="currentColor"></path>
</svg>
</div> </a> </div>  </div> <div class="flex" data-astro-cid-d74r2unp=""></div> <div class="flex" data-astro-cid-d74r2unp=""> <div class="search-container" data-astro-cid-fg37foga=""> <div class="search-wrapper" data-astro-cid-fg37foga=""> <input class="search-input" type="text" placeholder="搜索文档" name="s" value="" data-astro-cid-fg37foga="" data-has-input-listener="true"> <svg width="28" height="28" viewBox="0 0 28 28" class="search-button" data-astro-cid-fg37foga="" data-icon="theme/search">  <symbol id="ai:local:theme/search"><path fill="currentColor" fill-rule="evenodd" d="M18.5 12.5a6 6 0 1 1-12 0 6 6 0 0 1 12 0Zm-1.25 5.8a7.5 7.5 0 1 1 1.06-1.06l4.22 4.23.53.53L22 23.06l-.53-.53-4.22-4.22Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/search"></use>  </svg> <button class="search-clear" type="button" title="重置" data-search-clear="" data-astro-cid-fg37foga=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除</font></font></button> <span class="divider" data-astro-cid-fg37foga=""></span> <button class="search-close" type="button" title="关闭" data-search-close="" data-astro-cid-fg37foga=""> <svg width="18" height="18" viewBox="0 0 18 18" data-astro-cid-fg37foga="" data-icon="theme/cross-18">  <use xlink:href="#ai:local:theme/cross-18"></use>  </svg> </button> </div> <div id="search-results-wrapper" data-astro-cid-fg37foga=""> <aside id="search-results" hidden="" data-astro-cid-fg37foga="" data-has-button-listener="true"> <!-- Don't use h1 because when built it will be used as the first heading on the page --> <div class="heading" data-astro-cid-fg37foga="">Search results</div> <div id="search-results-contents" data-astro-cid-fg37foga=""></div> </aside> </div> </div>   </div> <ul class="links" data-astro-cid-d74r2unp="">  </ul> <div class="flex" data-astro-cid-d74r2unp=""></div> <div data-hide-when-search="" data-astro-cid-d74r2unp="">    </div> <button id="search-button" data-astro-cid-6zeqadij="" data-has-listener="true" style="display:none"> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-6zeqadij="" data-icon="theme/search">  <use xlink:href="#ai:local:theme/search"></use>  </svg> </button>  <script data-base-url="/pine-script-docs" data-astro-exec="">
	async function loadPageFind() {
		const base = document.currentScript.getAttribute('data-base-url');
		const pageFindBundleUrl = `${base}/pagefind/`;
		const pagefind = await import(`${pageFindBundleUrl}pagefind.js`);
		await pagefind.options({
			bundlePath: pageFindBundleUrl,
		});
		window.pagefind = pagefind;
	}
	loadPageFind().catch();
</script>  <docs-theme-select class="hide-with-breakpoint-568" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;黑暗的&nbsp;&nbsp;</font></font></option><option value="light" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;明亮&nbsp;&nbsp;</font></font></option><option value="auto" selected="true" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;自动&nbsp;&nbsp;</font></font></option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </nav> </header>        <div id="image-lightbox" class="not-content" hidden="" data-astro-cid-kws7taxh=""> <div class="button-wrapper" data-astro-cid-kws7taxh=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button id="lightbox-close-button" title="Close image preview" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-black stvb-medium stvb-secondary stvb-icon stvb-force-no-border">  <svg width="24" height="24" viewBox="0 0 18 18" data-astro-cid-kws7taxh="" data-icon="theme/cross-18">  <symbol id="ai:local:theme/cross-18"><g fill="none"><g clip-path="url(#a)"><path fill="currentColor" fill-rule="evenodd" d="M5.53 4.47 4.47 5.53 7.94 9l-3.47 3.47 1.06 1.06L9 10.06l3.47 3.47 1.06-1.06L10.06 9l3.47-3.47-1.06-1.06L9 7.94 5.53 4.47Z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v18H0z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/cross-18"></use>  </svg>  </button> </div>  </div> <img id="lightbox-image" src="" data-astro-cid-kws7taxh=""> </div>   <div id="page-container" data-astro-cid-xgirumru=""> <aside id="nav" class="" style="" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="文档侧边栏" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎使用 Pine Script™ v5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初识Pine Script™</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <symbol id="ai:local:theme/right-caret"><path fill="currentColor" d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></symbol><use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一步</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个指标</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模型</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/time-series" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间序列</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份标识</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量声明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型系统</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/backgrounds" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-coloring" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图色彩</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-plotting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图状态</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表信息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/colors" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">颜色</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/fills" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">填充</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/levels" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/lines-and-boxes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线条和盒子</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/plots" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新粉刷</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/tables" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/text-and-shapes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和形状</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写脚本</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">风格指南</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析和优化</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布脚本</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常问问题</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行说明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迁移指南</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 4</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 3</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里可以获得更多信息？</font></font></a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  <main class="main-pane" data-page-type="md" data-astro-cid-xgirumru=""> <a id="top" data-astro-cid-xgirumru=""></a> <main class="content" data-toc-shown="" data-astro-cid-ju3wuhkz="">  <div class="content-width" data-astro-cid-xgirumru=""> <div class="breadcrumbs" data-pagefind-ignore="" data-astro-cid-wlavna2o=""> <a href="/pine-script-docs" aria-label="返回文档主页。" data-astro-cid-wlavna2o=""> <span data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户手册</font></font></span>  </a>  <span class="divider" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span> <a href="/pine-script-docs/concepts/alerts" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></a> <span class="divider" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span> <span class="current-item" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></span> </div>     </div> <div id="slot-container" data-astro-cid-xgirumru="">  <h1 id="alerts" class="md-heading"><a href="#alerts"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h1>
<h2 id="introduction" class="md-heading"><a href="#introduction"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TradingView 警报在我们的服务器上全天候运行，无需用户登录即可执行。警报是从图表用户界面 ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI ) 创建的。您将在帮助中心的</font></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/support/solutions/43000520149"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于 TradingView 警报</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面中找到了解警报如何工作以及如何从图表 UI 创建警报所需的所有信息</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TradingView 上可用的某些警报类型（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘图警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和订单执行事件的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是根据图表上加载的符号或脚本创建的，不需要特定编码。任何用户都可以从图表 UI 创建这些类型的警报。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他类型的警报（</font><font style="vertical-align: inherit;">在</font><em><font style="vertical-align: inherit;">alert() 函数调用时触发的</font></em></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报和</font><em><font style="vertical-align: inherit;">alertcondition() 警报</font></em><font style="vertical-align: inherit;">）要求脚本中存在特定的 Pine Script™ 代码来创建</font><em><font style="vertical-align: inherit;">警报事件</font></em><font style="vertical-align: inherit;">，然后脚本用户才能使用图表 UI 从中创建警报。此外，虽然脚本用户可以从图表 UI 上在其图表上加载的任何策略上创建在</font><em><font style="vertical-align: inherit;">订单填写事件</font></em><font style="vertical-align: inherit;">上触发的</font><em><font style="vertical-align: inherit;">脚本警报</font></em><font style="vertical-align: inherit;">，但程序员可以在其脚本中为经纪人模拟器填写的每种订单类型指定明确的订单填写警报消息。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本页介绍了 Pine Script™ 程序员编写脚本以创建警报事件的不同方式，脚本用户反过来可以从图表 UI 创建警报。我们将介绍：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数在指标或策略中调用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert() 函数</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后将其包含在</font><font style="vertical-align: inherit;">从图表 UI 创建的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报中。</font></font></em><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何添加自定义警报消息以包含在策略</font><em><font style="vertical-align: inherit;">订单填写事件</font></em><font style="vertical-align: inherit;">
触发的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数（仅在指标中）生成</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition() 事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
然后可使用这些事件</font><font style="vertical-align: inherit;">从图表 UI创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition() 警报。</font></font></em><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请记住：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有与警报相关的 Pine Script™ 代码可以在图表 UI 中创建正在运行的警报；它仅创建警报事件，然后脚本用户可以使用这些事件从图表 UI 创建正在运行的警报。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报仅在实时条形图中触发。因此，处理任何类型的警报的 Pine Script™ 代码的操作范围仅限于实时条形图。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在图表 UI 中创建警报时，TradingView 会保存脚本及其输入的镜像，以及图表的主要符号和时间范围，以便在其服务器上运行警报。因此，对脚本输入或图表的后续更改不会影响之前从它们创建的正在运行的警报。如果您希望对上下文的任何更改都反映在正在运行的警报的行为中，则需要删除警报并在新上下文中创建新警报。</font></font></li>
</ul>
<h3 id="background" class="md-heading"><a href="#background"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine 程序员如今可以使用各种方法来在脚本中创建警报事件，这是 Pine Script™ 演变过程中不断改进的结果。alertcondition
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数仅适用于指标，是允许 Pine Script™ 程序员创建警报事件的第一个功能。然后是策略的订单执行警报，当经纪商模拟器创建
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单执行事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时触发。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单执行事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不需要脚本用户为其创建警报的特殊代码，但通过</font></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
订单生成函数的参数，程序员可以</font><font style="vertical-align: inherit;">通过为任意数量的订单履行事件定义不同的警报消息来自定义订单执行事件</font><em><font style="vertical-align: inherit;">触发</font></em></font><code dir="auto">strategy.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的警报消息。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数是 Pine Script™ 的最新添加功能。它或多或少取代了
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition() ，并且在策略中使用时，为</font></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单填写事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报提供了有用的补充
</font><font style="vertical-align: inherit;">。</font></font></p>
<h3 id="which-type-of-alert-is-best" class="md-heading"><a href="#which-type-of-alert-is-best"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪种类型的警报</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最好？</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 Pine Script™ 程序员来说，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数通常更易于使用且更灵活。与
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相反，它允许动态警报消息，适用于指标和策略，程序员可决定
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
事件的频率。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然
</font><font style="vertical-align: inherit;">
可以在 Pine 中可编程的任何逻辑上生成</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()调用，包括在策略中将订单</font></font></a><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到经纪商模拟器时，但它们不能被编码为在订单</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">填写</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）时触发，因为在订单发送到经纪商模拟器后，模拟器控制其执行并且不会直接将填写事件报告回脚本。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当脚本用户想要针对策略的订单执行事件生成警报时，他必须</font><font style="vertical-align: inherit;">
在“创建警报”对话框中创建针对该策略的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时包含这些事件。脚本中无需特殊代码即可让用户执行此操作。但是，程序员可以通过使用订单生成
</font></font><code dir="auto">strategy.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数调用中的参数来自定义订单执行事件发送的消息。通过结合使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用和</font></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单生成调用中的自定义参数</font></font><code dir="auto">strategy.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，程序员可以在脚本执行过程中发生的大多数情况下生成警报事件。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数保留在 Pine Script™ 中以实现向后兼容，但它也可以有利地用于生成可在“创建警报”对话框的“条件”字段中作为单独项目进行选择的不同警报。</font></font></p>
<h2 id="script-alerts" class="md-heading"><a href="#script-alerts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当脚本用户</font><font style="vertical-align: inherit;">使用“创建警报”对话框创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报时，能够触发警报的事件将根据警报是从指标还是策略创建的而有所不同。</font></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在以下情况下，将触发</font><font style="vertical-align: inherit;">由</font><strong><font style="vertical-align: inherit;">指标创建的</font></strong></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该指标包含
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码的逻辑允许执行特定的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中指定的频率
</font><font style="vertical-align: inherit;">
允许触发警报。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据</font><strong><font style="vertical-align: inherit;">策略创建的</font></strong></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可在</font><em><font style="vertical-align: inherit;">alert() 函数调用</font></em><font style="vertical-align: inherit;">、</font><em><font style="vertical-align: inherit;">订单执行事件</font></em><font style="vertical-align: inherit;">或两者上</font><font style="vertical-align: inherit;">触发。创建策略警报的脚本用户决定他希望在</font><em><font style="vertical-align: inherit;">脚本警报</font></em><font style="vertical-align: inherit;">中包含哪种类型的事件。虽然用户可以</font><font style="vertical-align: inherit;">在</font><em><font style="vertical-align: inherit;">订单执行事件上创建</font></em><em><font style="vertical-align: inherit;">脚本警报</font></em><font style="vertical-align: inherit;">而无需策略包含特殊代码，但它必须包含
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">调用，以便用户在其</font><em><font style="vertical-align: inherit;">脚本警报</font></em><font style="vertical-align: inherit;">中
包含</font><em><font style="vertical-align: inherit;">alert() 函数调用</font></em><font style="vertical-align: inherit;">。</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<h3 id="alert-function-events" class="md-heading"><a href="#alert-function-events"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`alert()` 函数</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数具有以下签名：</font></font></p>
<div class="expressive-code not-content"><link rel="stylesheet" href="/pine-script-docs/_astro/ec.dtidy.css"><script type="module" src="/pine-script-docs/_astro/ec.8gcug.js" data-astro-exec=""></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">alert(message, freq)</span></div></div></code></pre></figure></div>
<p><code dir="auto">message</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示触发警报时发送的消息文本的“系列字符串”。由于此参数允许“系列”值，因此可以在运行时生成，并且每个条形图都不同，从而使其动态化。</font></font></p>
<p><code dir="auto">freq</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定警报触发频率的“输入字符串”。有效参数包括：</font></font></p>
<ul>
<li><code dir="auto">alert.freq_once_per_bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：每个实时条仅第一个调用会触发警报（默认值）。</font></font></li>
<li><code dir="auto">alert.freq_once_per_bar_close</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
：仅当实时栏关闭并且在脚本迭代期间执行</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用时才会触发警报
。</font></font></li>
<li><code dir="auto">alert.freq_all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：实时栏内的所有呼叫都会触发警报。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
</font><font style="vertical-align: inherit;">
可用于指标和策略。要使
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用触发在</font><em><font style="vertical-align: inherit;">alert() 函数调用</font></em><font style="vertical-align: inherit;">上配置的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，脚本的逻辑必须允许
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">
调用执行，</font><strong><font style="vertical-align: inherit;">并且</font></strong><font style="vertical-align: inherit;">参数确定的频率</font><font style="vertical-align: inherit;">
必须允许警报触发。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><code dir="auto">freq</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，默认情况下，策略会在柱线收盘时重新计算，因此如果
在策略中使用</font><font style="vertical-align: inherit;">
频率为</font><font style="vertical-align: inherit;">或的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数，则在柱线收盘时调用该函数的次数不会超过一次。为了能够
在柱线构建过程中调用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">
函数，您需要启用该</font><font style="vertical-align: inherit;">选项。</font></font><code dir="auto">alert.freq_all</code><font style="vertical-align: inherit;"></font><code dir="auto">alert.freq_once_per_bar</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">calc_on_every_tick</code><font style="vertical-align: inherit;"></font></p>
<h4 id="using-all-alert-calls" class="md-heading"><a href="#using-all-alert-calls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用所有 `alert()`</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一个检测 RSI 中心线交叉的例子：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="2fh"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"All&nbsp;`alert()`&nbsp;calls"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">r</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Detect&nbsp;crosses.</span></span><br><span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk33">xDn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Trigger&nbsp;an&nbsp;alert&nbsp;on&nbsp;crosses.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">xUp</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">alert</span><span class="mtk13">(</span><span class="mtk29">"Go&nbsp;long&nbsp;(RSI&nbsp;is&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"#.00)"</span><span class="mtk13">))</span></span><br><span><span class="mtk18">else</span><span class="mtk1">&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">xDn</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">alert</span><span class="mtk13">(</span><span class="mtk29">"Go&nbsp;short&nbsp;(RSI&nbsp;is&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"#.00)"</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.bottom</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xDn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▼"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">从该脚本创建了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报：</font></font></em><font style="vertical-align: inherit;"></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当 RSI 向上穿越中心线时，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将触发，并显示“做多…”消息。当 RSI 向下穿越中心线时，脚本</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将触发，并显示“做空…”消息。</font></font></li>
<li><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">因为没有为alert()</font></a></font><code dir="auto">freq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中的参数
</font><font style="vertical-align: inherit;">指定任何参数</font><font style="vertical-align: inherit;">
，所以将使用默认值</font><font style="vertical-align: inherit;">，因此警报只会在实时栏期间第一次执行每个
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">
调用时触发。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">alert.freq_once_per_bar</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随警报发送的消息由两部分组成：一个常量字符串，然后是
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str%7Bdot%7Dtostring"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str.tostring()调用的结果，该结果将包括脚本执行</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用
时的 RSI 值
</font><font style="vertical-align: inherit;">
。交叉向上的警报消息将如下所示：“做多（RSI 为 53.41）”。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总是在每次调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时触发，只要调用中使用的频率允许，所以这个特定的脚本不允许脚本用户将其
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制为仅限多头。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
与始终位于第 0 列（在脚本的全局范围内）的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用相反
， </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用位于
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_if"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分支的本地范围内，因此只有在满足触发条件时才会执行。如果将
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用放置在脚本的全局范围内的第 0 列，它将在所有条形上执行，这可能不是所需的行为。</font></font></li>
<li><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str%7Bdot%7Dtostring"><font style="vertical-align: inherit;">由于使用了str.tostring()</font></a><font style="vertical-align: inherit;">
调用，alertcondition() 无法接受我们用于警报消息的相同字符串。alertcondition
 </font><font style="vertical-align: inherit;">(
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
消息
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;">必须</font></a><font style="vertical-align: inherit;">
是常量字符串。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str%7Bdot%7Dtostring"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，因为
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
消息可以在运行时动态构建，我们可以使用以下代码来生成警报事件：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="4i9"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;Trigger&nbsp;an&nbsp;alert&nbsp;on&nbsp;crosses.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk33">xDn</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">firstPart</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;long"</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;short"</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">"&nbsp;(RSI&nbsp;is&nbsp;"</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">alert</span><span class="mtk13">(</span><span class="mtk33">firstPart</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"#.00)"</span><span class="mtk13">))</span></span><br></code></div>
<h4 id="using-selective-alert-calls" class="md-heading"><a href="#using-selective-alert-calls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用选择性的 `alert()`</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当用户</font><font style="vertical-align: inherit;">在</font><em><font style="vertical-align: inherit;">alert() 函数调用上创建</font></em></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，
只要满足其频率限制，
</font><font style="vertical-align: inherit;">脚本对
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">函数的任何调用都会触发警报。如果您想让脚本用户选择
脚本中的哪个</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()函数调用将触发</font></a><em><font style="vertical-align: inherit;">脚本警报</font></em><font style="vertical-align: inherit;">，您需要为他们提供在脚本输入中指示其偏好的方法，并在脚本中编写适当的逻辑。这样，脚本用户将能够从单个脚本创建多个</font><em><font style="vertical-align: inherit;">脚本警报</font></em><font style="vertical-align: inherit;">，每个警报的行为都根据在图表 UI 中创建警报之前在脚本输入中所做的选择而有所不同。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设，对于我们的下一个示例，我们想提供仅对多头、仅对空头或两者触发警报的选项。您可以像这样编写脚本：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="3iy"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Selective&nbsp;`alert()`&nbsp;calls"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">detectLongsInput</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.bool</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Detect&nbsp;Longs"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">detectShortsInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.bool</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Detect&nbsp;Shorts"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">repaintInput</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.bool</span><span class="mtk13">(</span><span class="mtk11">false</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Allow&nbsp;Repainting"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk33">r</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Detect&nbsp;crosses.</span></span><br><span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk33">xDn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Only&nbsp;generate&nbsp;entries&nbsp;when&nbsp;the&nbsp;trade's&nbsp;directio</span><span class="mtk9">n&nbsp;is&nbsp;allowed&nbsp;in&nbsp;inputs.</span></span><br><span><span class="mtk33">enterLong</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">detectLongsInput</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk33">repaintInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.isconfirmed</span><span class="mtk13">)</span></span><br><span><span class="mtk33">enterShort</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">detectShortsInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk33">xDn</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk33">repaintInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.isconfirmed</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Trigger&nbsp;the&nbsp;alerts&nbsp;only&nbsp;when&nbsp;the&nbsp;compound&nbsp;condi</span><span class="mtk9">tion&nbsp;is&nbsp;met.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">enterLong</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">alert</span><span class="mtk13">(</span><span class="mtk29">"Go&nbsp;long&nbsp;(RSI&nbsp;is&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"#.00)"</span><span class="mtk13">))</span></span><br><span><span class="mtk18">else</span><span class="mtk1">&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">enterShort</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">alert</span><span class="mtk13">(</span><span class="mtk29">"Go&nbsp;short&nbsp;(RSI&nbsp;is&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"#.00)"</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">enterLong</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Go&nbsp;Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.bottom</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">enterShort</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▼"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们创建了一个复合条件，只有当用户的选择允许在该方向入场时，该条件才会满足。只有当脚本的输入中启用了多头入场时，在中心线交叉点上的多头入场才会触发警报。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们让用户表明其重绘偏好。当他不允许计算重绘时，我们会等到柱状图确认后触发复合条件。这样，警报和标记只会出现在实时柱状图的末尾。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果此脚本的用户想要从该脚本创建两个不同的脚本警报，即一个仅在多头上触发，一个仅在空头上触发，则他需要：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在输入中仅选择“检测多头”并
</font><font style="vertical-align: inherit;">在脚本上创建第一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报。</font></font></em><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在输入中仅选择“检测短路”，并
</font><font style="vertical-align: inherit;">在脚本上创建另一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报。</font></font></em><font style="vertical-align: inherit;"></font></li>
</ul>
</li>
</ul>
<h4 id="in-strategies" class="md-heading"><a href="#in-strategies"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略方面</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数调用也可用于策略，但前提是策略默认仅在
</font><font style="vertical-align: inherit;">
实时柱线</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘时执行。除非在</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy"><font style="vertical-align: inherit;">strategy()</font></a><font style="vertical-align: inherit;">
声明语句
</font></font><code dir="auto">calc_on_every_tick = true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中使用
，否则所有</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">
调用都将使用</font><font style="vertical-align: inherit;">频率，而不管使用的参数是什么</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">alert.freq_once_per_bar_close</code><font style="vertical-align: inherit;"></font><code dir="auto">freq</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然策略上的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单填写事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在经纪人模拟器填写订单时触发警报，但
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可有利地用于生成策略中的其他警报事件。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当 RSI 连续三个条形图与交易相反时，</font><font style="vertical-align: inherit;">此策略会创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert() 函数调用：</font></font></em><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="5mk"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">strategy</span><span class="mtk13">(</span><span class="mtk29">"Strategy&nbsp;with&nbsp;selective&nbsp;`alert()`&nbsp;calls"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">r</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Detect&nbsp;crosses.</span></span><br><span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk33">xDn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Place&nbsp;orders&nbsp;on&nbsp;crosses.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">xUp</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.long</span><span class="mtk13">)</span></span><br><span><span class="mtk18">else</span><span class="mtk1">&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">xDn</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.short</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Trigger&nbsp;an&nbsp;alert&nbsp;when&nbsp;RSI&nbsp;diverges&nbsp;from&nbsp;our&nbsp;tra</span><span class="mtk9">de's&nbsp;direction.</span></span><br><span><span class="mtk33">divInLongTrade</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.position_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.falling</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk33">divInShortTrade</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.position_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">&lt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">divInLongTrade</span><span class="mtk1">&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">alert</span><span class="mtk13">(</span><span class="mtk29">"WARNING:&nbsp;Falling&nbsp;RSI"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">alert.freq_once_per_bar_close</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">divInShortTrade</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">alert</span><span class="mtk13">(</span><span class="mtk29">"WARNING:&nbsp;Rising&nbsp;RSI"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">alert.freq_once_per_bar_close</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.bottom</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xDn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▼"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">divInLongTrade</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"WARNING:&nbsp;Falling&nbsp;RSI"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"•"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">divInShortTrade</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"WARNING:&nbsp;Rising&nbsp;RSI"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"•"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.bottom</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果用户</font><font style="vertical-align: inherit;">根据此策略
创建了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并在警报中
包含</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单执行事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert() 函数调用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则每当执行订单时，或者
脚本在实时条形图的收盘迭代中执行
其中一个</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()调用时（即</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate%7Bdot%7Disrealtime"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barstate.isrealtime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate%7Bdot%7Disconfirmed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barstate.isconfirmed</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
均为真时），警报就会触发。脚本中的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert() 函数事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只会在实时条形图收盘时触发警报，因为
是</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">调用
中
</font></font><code dir="auto">alert.freq_once_per_bar_close</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于参数的参数</font><font style="vertical-align: inherit;">
。</font></font><code dir="auto">freq</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<h3 id="order-fill-events" class="md-heading"><a href="#order-fill-events"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单执行</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当从指标创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，它只能在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert() 函数调用时</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">触发。但是，当从策略创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，用户可以指定</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单填写事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也触发</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单填写事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是由经​​纪商模拟器生成的任何事件，会导致模拟订单被执行。它相当于经纪商/交易所填写的交易订单。订单不一定在下达时执行。在策略中，只能通过分析内置变量（如
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy%7Bdot%7Dopentrades"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategies.opentrades</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_strategy%7Bdot%7Dposition_size"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategies.position_size</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ）的变化来间接地、事后检测到订单的执行。
因此，在</font><em><font style="vertical-align: inherit;">订单填写事件</font></em><font style="vertical-align: inherit;">上配置的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很有用，因为它们允许在订单执行的精确时刻触发警报，在脚本的逻辑检测到它之前。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™ 程序员可以自定义执行特定订单时发送的警报消息。虽然这不是触发
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单执行事件的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">先决条件，但自定义警报消息很有用，因为它们允许在警报中包含自定义语法，以便将实际订单路由到第三方执行引擎。通过</font><font style="vertical-align: inherit;">可以生成订单的函数中的参数指定特定</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单执行事件</font></font></em><font style="vertical-align: inherit;"></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的自定义警报消息：
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy%7Bdot%7Dclose"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategy.close()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy%7Bdot%7Dentry"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategy.entry()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy%7Bdot%7Dexit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategy.exit()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy%7Bdot%7Dorder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategy.order()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数使用的参数是“系列字符串”，因此可以使用脚本可用的任何变量动态构造它，只要将其转换为字符串格式即可。</font></font></p>
<p><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy%7Bdot%7Dentry"><font style="vertical-align: inherit;">让我们看一下在strategy.entry（）</font></a><font style="vertical-align: inherit;">调用中都使用该</font></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数
的策略</font><font style="vertical-align: inherit;">
：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy%7Bdot%7Dentry"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="1ns"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">strategy</span><span class="mtk13">(</span><span class="mtk29">"Strategy&nbsp;using&nbsp;`alert_message`"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">r</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Detect&nbsp;crosses.</span></span><br><span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk33">xDn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Place&nbsp;order&nbsp;on&nbsp;crosses&nbsp;using&nbsp;a&nbsp;custom&nbsp;alert&nbsp;mes</span><span class="mtk9">sage&nbsp;for&nbsp;each.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">xUp</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.long</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">stop</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">alert_message</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Stop-buy&nbsp;executed&nbsp;(stop&nbsp;was&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">")"</span><span class="mtk13">)</span></span><br><span><span class="mtk18">else</span><span class="mtk1">&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">xDn</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.short</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">stop</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">alert_message</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Stop-sell&nbsp;executed&nbsp;(stop&nbsp;was&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk11">low</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">")"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.bottom</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xDn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▼"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们</font></font><code dir="auto">stop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy%7Bdot%7Dentry"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategy.entry()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中使用
参数，创建止损买入和止损卖出订单。这意味着买入订单仅在价格高于
</font></font><code dir="auto">high</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单所在柱线的[低点]时执行，而卖出订单仅在价格低于订单所在柱线的[低点]时执行。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们用plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制的向上/向下箭头
是</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在下</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
订单时绘制的</font><font style="vertical-align: inherit;">。在订单实际执行之前可能会经过任意数量的条形图，在某些情况下，由于价格不满足所需条件，订单永远不会执行。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为我们</font></font><code dir="auto">id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对所有买单使用相同的参数，所以在满足前一个订单条件之前下达的任何新买单都将取代该订单。卖单也是如此。</font></font></li>
<li><font style="vertical-align: inherit;"></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当订单执行时，即当警报触发时，将评估参数</font><font style="vertical-align: inherit;">中包含的变量。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当</font></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数用于策略的订单生成</font></font><code dir="auto">strategy.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数调用时，脚本用户在创建</font><em><font style="vertical-align: inherit;">订单执行事件</font></em><font style="vertical-align: inherit;">的</font><em><font style="vertical-align: inherit;">脚本警报</font></em></font><code dir="auto">{{strategy.order.alert_message}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，必须在“创建警报”对话框的“消息”字段中包含占位符</font><font style="vertical-align: inherit;">。这是必需的，因此</font><font style="vertical-align: inherit;">
订单生成</font><font style="vertical-align: inherit;">函数调用中使用的参数将用于每个</font><em><font style="vertical-align: inherit;">订单执行事件</font></em><font style="vertical-align: inherit;">触发的警报消息中。当仅</font><font style="vertical-align: inherit;">在“消息”字段中使用占位符并且</font><font style="vertical-align: inherit;">参数仅出现在策略中的某些订单生成函数调用中时，空字符串将替换由任何</font><font style="vertical-align: inherit;">未使用该参数的订单生成函数调用</font><font style="vertical-align: inherit;">触发的警报消息中的占位符</font><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"></font><code dir="auto">strategy.*()</code><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code dir="auto">{{strategy.order.alert_message}}</code><font style="vertical-align: inherit;"></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"></font><code dir="auto">strategy.*()</code><font style="vertical-align: inherit;"></font><code dir="auto">strategy.*()</code><font style="vertical-align: inherit;"></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然用户可以在“创建警报”对话框的“消息”字段中使用其他占位符来创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单填写事件的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报，但它们不能在的参数中使用</font></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<h2 id="alertcondition-events" class="md-heading"><a href="#alertcondition-events"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`alertcondition()`</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
</font><font style="vertical-align: inherit;">
允许程序员在其指标中创建单独的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition 事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。一个指标可能包含多个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用。脚本中对
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的每次调用
都将创建一个相应的警报，可在“创建警报”对话框的“条件”下拉菜单中选择。</font></font></p>
<p><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">虽然策略</font></strong><font style="vertical-align: inherit;">脚本
中</font><font style="vertical-align: inherit;">存在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用不会导致编译错误，但无法从中创建警报。</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数具有以下签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">alertcondition(condition, title, message)</span></div></div></code></pre></figure></div>
<p><code dir="auto">condition</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个“系列布尔”值（</font></font><code dir="auto">true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code dir="auto">false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），用于确定何时触发警报。它是必需参数。当值为时，
</font></font><code dir="auto">true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将触发警报。当值为时，</font></font><code dir="auto">false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会触发警报。与
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alert()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数调用相反，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用必须从行的零列开始，因此不能放在条件块中。</font></font></p>
<p><code dir="auto">title</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“const string” 可选参数，用于设置警报条件的名称，该名称将显示在图表 UI 中“创建警报”对话框的“条件”字段中。如果没有提供参数，则将使用“警报”。</font></font></p>
<p><code dir="auto">message</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“常量字符串”可选参数，用于指定触发警报时显示的文本消息。文本将显示在“创建警报”对话框的“消息”字段中，脚本用户可以在创建警报时从中修改它。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于此参数必须是“常量字符串”，因此必须在编译时知道它，因此不能因条而异。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，它可以包含占位符，这些占位符将在运行时被动态值替换，这些动态值可能会因条而异。请参阅本页的
</font></font><a href="#placeholders"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">占位符</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分以获取列表。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数不包含参数。alertcondition </font><em><font style="vertical-align: inherit;">() 警报</font></em></font><code dir="auto">freq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的频率
</font><font style="vertical-align: inherit;">由用户在“创建警报”对话框中确定。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<h3 id="using-one-condition" class="md-heading"><a href="#using-one-condition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用一个</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是创建alertcondition() 事件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的代码示例</font><font style="vertical-align: inherit;">：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="6rc"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"`alertcondition()`&nbsp;on&nbsp;single&nbsp;condition"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">r</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk33">xDn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"RSI"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.bottom</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">xDn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▼"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">alertcondition</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long&nbsp;Alert"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Go&nbsp;long"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">alertcondition</span><span class="mtk13">(</span><span class="mtk33">xDn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Short&nbsp;Alert"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;short&nbsp;"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为我们的脚本中有两个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用，所以“创建警报”对话框的“条件”字段中将有两个不同的警报：“长警报”和“短警报”。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们想在交叉发生时包含 RSI 的值，我们不能简单地</font></font><code dir="auto">message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 将其值添加到字符串
中，就像在</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;">alert()</font></a><font style="vertical-align: inherit;">
调用中或在策略中的参数中</font></font><code dir="auto">str.tostring(r)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样
</font><font style="vertical-align: inherit;">。但是，我们可以使用占位符将其包含在内。这显示了两种替代方案：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alert"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">alert_message</code><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="2m4"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk16">alertcondition</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long&nbsp;Alert"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Go&nbsp;long.&nbsp;RSI&nbsp;is&nbsp;{{plot_0}}"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">alertcondition</span><span class="mtk13">(</span><span class="mtk33">xDn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Short&nbsp;Alert"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">'Go&nbsp;short.&nbsp;RSI&nbsp;is&nbsp;{{plot("RSI")}}'</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一行使用</font></font><code dir="auto">{{plot_0}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">占位符，其中情节编号与脚本中情节的顺序相对应。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二行使用</font></font><code dir="auto">{{plot("[plot_title]")}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">占位符的类型，它必须包含脚本中用于绘制 RSI</font></font><code dir="auto">title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plot()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用。双引号用于将绘图的标题括在</font></font><code dir="auto">{{plot("RSI")}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">占位符内。这要求我们使用单引号来括住</font></font><code dir="auto">message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用其中一种方法，我们可以包含指标绘制的任何数值，但由于无法绘制字符串，因此不能使用字符串变量。</font></font></li>
</ul>
<h3 id="using-compound-conditions" class="md-heading"><a href="#using-compound-conditions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用复合</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们想让脚本用户能够使用多个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用从指标创建单个警报，我们将需要在脚本的输入中提供选项，用户可以通过这些选项在创建警报之前指示他们想要触发警报的条件。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本演示了执行此操作的一种方法：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="189"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"`alertcondition()`&nbsp;on&nbsp;multiple&nbsp;conditions"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">detectLongsInput</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.bool</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Detect&nbsp;Longs"</span><span class="mtk13">)</span></span><br><span><span class="mtk33">detectShortsInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.bool</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Detect&nbsp;Shorts"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk33">r</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Detect&nbsp;crosses.</span></span><br><span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk33">xDn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Only&nbsp;generate&nbsp;entries&nbsp;when&nbsp;the&nbsp;trade's&nbsp;directio</span><span class="mtk9">n&nbsp;is&nbsp;allowed&nbsp;in&nbsp;inputs.</span></span><br><span><span class="mtk33">enterLong</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">detectLongsInput</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk33">xUp</span></span><br><span><span class="mtk33">enterShort</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">detectShortsInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk33">xDn</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">enterLong</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"Go&nbsp;Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.bottom</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">enterShort</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Go&nbsp;Short"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▼"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Trigger&nbsp;the&nbsp;alert&nbsp;when&nbsp;one&nbsp;of&nbsp;the&nbsp;conditions&nbsp;is</span><span class="mtk9">&nbsp;met.</span></span><br><span><span class="mtk16">alertcondition</span><span class="mtk13">(</span><span class="mtk33">enterLong</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk33">enterShort</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Compound&nbsp;alert"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Entry"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意， alertcondition()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用是如何
</font><font style="vertical-align: inherit;">
在两个条件之一下触发的。每个条件只有在用户在创建警报之前在脚本的输入中启用它时才能触发警报。</font></font></p>
<h3 id="placeholders" class="md-heading"><a href="#placeholders"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">占位符</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些占位符可用于</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;">alertcondition()</font></a></font><code dir="auto">message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用的参数
中</font><font style="vertical-align: inherit;">
。当警报触发时，它们将被动态值替换。它们是在
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;">alertcondition()</font></a><font style="vertical-align: inherit;">
消息中包含动态值（可随条变化的值）的唯一方法。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_alertcondition"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，从图表 UI 中的“创建警报”对话框创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alertcondition() 警报的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户也可以在对话框的“消息”字段中使用这些占位符。</font></font></p>
<p><code dir="auto">{{exchange}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报中使用的代码的交易所（NASDAQ、NYSE、MOEX 等）。请注意，对于延迟代码，交易所将以“_DL”或“_DLY”结尾。例如，“NYMEX_DL”。</font></font></p>
<p><code dir="auto">{{interval}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回创建警报的图表的时间范围。请注意，范围图是根据 1 分钟数据计算的，因此在范围图上创建的任何警报上，占位符将始终返回“1”。</font></font></p>
<p><code dir="auto">{{open}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，，，，</font></font><code dir="auto">{{high}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">​</font></font><code dir="auto">{{low}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">​</font></font><code dir="auto">{{close}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">​</font></font><code dir="auto">{{volume}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">触发警报的条的对应值。</font></font></p>
<p><code dir="auto">{{plot_0}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，</font></font><code dir="auto">{{plot_1}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[…]，</font></font><code dir="auto">{{plot_19}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相应绘图编号的值。绘图按脚本中出现的顺序从 0 到 19 编号，因此只能使用前 20 个绘图中的一个。例如，内置的“成交量”指标有两个输出系列：成交量和成交量 MA，因此您可以使用以下内容：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="538"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk16">alertcondition</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk18">,</span><span class="mtk12">20</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Volume&nbsp;alert"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Volume&nbsp;({{plot_0}})&nbsp;&gt;&nbsp;average&nbsp;({{plot_1}})"</span><span class="mtk13">)</span></span><br></code></div>
<p><code dir="auto">{{plot("[plot_title]")}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当需要使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;">plot()</font></a></font><code dir="auto">title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中使用的参数
引用绘图时，可以使用此占位符。请注意，占位符内</font><strong><font style="vertical-align: inherit;">必须</font></strong><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">
双引号 ( </font><font style="vertical-align: inherit;">)来包裹</font><font style="vertical-align: inherit;">参数。这要求使用单引号 ( </font><font style="vertical-align: inherit;">) 来包裹</font><font style="vertical-align: inherit;">字符串：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">"</code><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><code dir="auto">title</code><font style="vertical-align: inherit;"></font><code dir="auto">'</code><font style="vertical-align: inherit;"></font><code dir="auto">message</code><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="40e"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk13">)</span></span><br><span><span class="mtk33">r</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">14</span><span class="mtk13">)</span></span><br><span><span class="mtk33">xUp</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">r</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"RSI"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">display</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">display.none</span><span class="mtk13">)</span></span><br><span><span class="mtk16">alertcondition</span><span class="mtk13">(</span><span class="mtk33">xUp</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"xUp&nbsp;alert"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">message</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">'RSI&nbsp;is&nbsp;bullish&nbsp;at:&nbsp;{{plot("RSI")}}'</span><span class="mtk13">)</span></span><br></code></div>
<p><code dir="auto">{{ticker}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报中使用的符号的代码（AAPL、BTCUSD 等）。</font></font></p>
<p><code dir="auto">{{time}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回条形图开始的时间。时间为 UTC，格式为</font></font><code dir="auto">yyyy-MM-ddTHH:mm:ssZ</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如：</font></font><code dir="auto">2019-08-27T09:56:00Z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><code dir="auto">{{timenow}}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报触发的当前时间，格式与 相同
</font></font><code dir="auto">{{time}}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。精度为最接近的秒，与图表的时间范围无关。</font></font></p>
<h2 id="avoiding-repainting-with-alerts" class="md-heading"><a href="#avoiding-repainting-with-alerts"><font style="vertical-align: inherit;"><span class="fancy-wrap"><font style="vertical-align: inherit;">使用警报</font></span><font style="vertical-align: inherit;">避免重绘</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交易者希望通过警报避免的最常见重绘情况是，他们必须防止警报在实时柱状图的某个时间点触发，而该警报</font><font style="vertical-align: inherit;">在收盘时不会触发。当满足以下条件时，可能会发生这种情况</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></strong><font style="vertical-align: inherit;"></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">触发警报条件中使用的计算在实时柱期间可能会有所不同。例如，使用</font><font style="vertical-align: inherit;">或 的任何计算都是这种情况</font></font><code dir="auto">high</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中包括几乎所有内置指标。</font><font style="vertical-align: inherit;">
当较高时间范围的当前柱尚未关闭时，使用高于图表时间范围的任何</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request%7Bdot%7Dsecurity"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">调用的结果也是如此
。</font></font><code dir="auto">low</code><font style="vertical-align: inherit;"></font><code dir="auto">close</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request%7Bdot%7Dsecurity"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报可以在实时条形图关闭之前触发，因此可以采用除“每条条形图关闭一次”之外的任何频率。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">避免这种重绘的最简单方法是配置警报的触发频率，使其仅在实时条形图收盘时触发。没有万能药；避免这种重绘
</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总是</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要等待确认的信息，这意味着交易者必须牺牲即时性来实现可靠性。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，其他类型的重绘（比如我们在
</font></font><a href="/pine-script-docs/concepts/repainting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重绘</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分记录的重绘）可能无法通过在实时条形图关闭时触发警报来防止。</font></font></p>      </div> <div class="pagination-buttons not-content" data-astro-cid-xgirumru=""> <span data-astro-cid-xgirumru=""></span> <a href="/pine-script-docs/concepts/backgrounds" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  背景</font></font><svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow">  <symbol id="ai:local:theme/arrow"><path fill="none" stroke="var(--arrow-fill-color, #131722)" d="m11 8 6 6-6 6"></path></symbol><use xlink:href="#ai:local:theme/arrow"></use>  </svg> </h4> </a>  </div>  </main>   <div id="toc" data-pagefind-ignore="" data-astro-cid-oor6cujd=""><aside class="document-toc-container ml-4 w-48" data-astro-cid-oor6cujd=""><section data-astro-cid-oor6cujd=""><header data-astro-cid-oor6cujd=""><h2 class="toc-header" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本页</font></font></h2></header><ul class="" id="toc-entries" data-astro-cid-oor6cujd=""><a href="#alerts" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-current="" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></li></a><a href="#introduction" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></li></a><a href="#background" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景</font></font></li></a><a href="#which-type-of-alert-is-best" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哪种类型的警报最好？</font></font></li></a><a href="#script-alerts" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本警报</font></font></li></a><a href="#alert-function-events" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`alert()` 函数事件</font></font></li></a><a href="#using-all-alert-calls" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用所有 `alert()` 调用</font></font></li></a><a href="#using-selective-alert-calls" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用选择性的 `alert()` 调用</font></font></li></a><a href="#in-strategies" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在策略方面</font></font></li></a><a href="#order-fill-events" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单执行事件</font></font></li></a><a href="#alertcondition-events" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`alertcondition()` 事件</font></font></li></a><a href="#using-one-condition" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用一个条件</font></font></li></a><a href="#using-compound-conditions" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用复合条件</font></font></li></a><a href="#placeholders" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">占位符</font></font></li></a><a href="#avoiding-repainting-with-alerts" class="document-toc-link" data-astro-cid-oor6cujd="" aria-current="true"><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用警报避免重绘</font></font></li></a></ul><a class="back-top" href="#top" data-astro-cid-oor6cujd=""><svg width="16" height="16" viewBox="0 0 16 16" data-astro-cid-oor6cujd="" data-icon="theme/back-top">  <symbol id="ai:local:theme/back-top"><path fill="currentColor" fill-rule="evenodd" d="M6.25 12.5A2.75 2.75 0 0 0 9 9.75V4.56L6.78 6.78a.75.75 0 0 1-1.06-1.06l3.5-3.5a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1-1.06 1.06L10.5 4.56v5.19a4.25 4.25 0 0 1-8.5 0v-1a.75.75 0 0 1 1.5 0v1a2.75 2.75 0 0 0 2.75 2.75Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/back-top"></use>  </svg><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回到顶部
</font></font></a></section></aside></div> </main> </div>            <script data-astro-rerun="" src="/pine-script-docs/static/pine-highlighter-v06.js" data-astro-exec=""></script><div id="goog-gt-tt" class="VIpgJd-yAWNEb-L7lbkb skiptranslate" style="border-radius: 12px; margin: 0 0 0 -23px; padding: 0; font-family: 'Google Sans', Arial, sans-serif;" data-id=""><div id="goog-gt-vt" class="VIpgJd-yAWNEb-hvhgNd"><div class=" VIpgJd-yAWNEb-hvhgNd-l4eHX-i3jM8c"><img src="https://fonts.gstatic.com/s/i/productlogos/translate/v14/24px.svg" width="24" height="24" alt=""></div><div class=" VIpgJd-yAWNEb-hvhgNd-k77Iif-i3jM8c"><div class="VIpgJd-yAWNEb-hvhgNd-IuizWc" dir="ltr">Original text</div><div id="goog-gt-original-text" class="VIpgJd-yAWNEb-nVMfcd-fmcmS VIpgJd-yAWNEb-hvhgNd-axAV1"></div></div><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid ltr"><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od ltr" dir="ltr"><div class="VIpgJd-yAWNEb-hvhgNd-UTujCb">Rate this translation</div><div class="VIpgJd-yAWNEb-hvhgNd-eO9mKe">Your feedback will be used to help improve Google Translate</div></div><div class="VIpgJd-yAWNEb-hvhgNd-xgov5 ltr"><button id="goog-gt-thumbUpButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Good translation" aria-label="Good translation" aria-pressed="false"><span id="goog-gt-thumbUpIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7H2v13h16c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM7 18H4V9h3v9zm14-7l-3 7H9V8l4.34-4.34L12 9h9v2z"></path></svg></span><span id="goog-gt-thumbUpIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7v13h11c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM5 7H1v13h4V7z"></path></svg></span></button><button id="goog-gt-thumbDownButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Poor translation" aria-label="Poor translation" aria-pressed="false"><span id="goog-gt-thumbDownIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7h5V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zM17 6h3v9h-3V6zM3 13l3-7h9v10l-4.34 4.34L12 15H3v-2z"></path></svg></span><span id="goog-gt-thumbDownIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zm16 0h4V4h-4v13z"></path></svg></span></button></div></div><div id="goog-gt-votingHiddenPane" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><form id="goog-gt-votingForm" action="//translate.googleapis.com/translate_voting?client=te_lib" method="post" target="votingFrame" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><input type="text" name="sl" id="goog-gt-votingInputSrcLang"><input type="text" name="tl" id="goog-gt-votingInputTrgLang"><input type="text" name="query" id="goog-gt-votingInputSrcText"><input type="text" name="gtrans" id="goog-gt-votingInputTrgText"><input type="text" name="vote" id="goog-gt-votingInputVote"></form><iframe name="votingFrame" frameborder="0"></iframe></div></div></div> </body></html>