<html lang="zh-CN" data-theme="light" class="translated-ltr"><head><script data-astro-exec="">
			const url = window.location.href;
			const expectedUrl = url.replace(
				/^https:\/\/(?!beta)(\w+\.)?tradingview\.com/,
				'https://www.tradingview.com',
			);
			if (url !== expectedUrl) {
				window.location.replace(expectedUrl);
			}
		</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/pine-script-docs/static/favicon.ico"><link rel="icon" type="image/svg+xml" href="/pine-script-docs/favicon.svg"><title>概念 / 其他时间范围和数据</title><meta name="og:title" content="Concepts / Other timeframes and data"><meta name="twitter:title" content="Concepts / Other timeframes and data"><meta name="description" content="Everything you need to know about Pine Script™."><meta name="og:description" content="Everything you need to know about Pine Script™."><meta name="twitter:description" content="Everything you need to know about Pine Script™."><meta name="keywords" content="tradingview, pine, script, indicators, strategies"><meta name="og:image" content="/pine-script-docs/meta-image.png"><meta name="twitter:image" content="/pine-script-docs/meta-image.png"><meta name="og:image:width" content="1200"><meta name="og:image:height" content="630"><meta name="og:url" content="../../concepts/other-timeframes-and-data/"><meta name="twitter:url" content="../../concepts/other-timeframes-and-data/"><meta name="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TradingView"><link rel="canonical" href="../../concepts/other-timeframes-and-data/"><link rel="sitemap" href="/pine-script-docs/sitemap-index.xml"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="none"><link rel="stylesheet" href="/pine-script-docs/_astro/index.jN9AZoBe.css">
<link rel="stylesheet" href="/pine-script-docs/_astro/index.C8b720yZ.css"><script type="module" src="/pine-script-docs/_astro/hoisted.D4iEV6y6.js" data-astro-exec=""></script><style type="text/css" media="screen">.monaco-editor-tv-pine-dark { 
    .mtk1 { color: #ffffff; }
    .mtk2 { color: #131722; }
    .mtk3 { color: #cc6666; }
    .mtk4 { color: #9cdcfe; }
    .mtk5 { color: #ce9178; }
    .mtk6 { color: #d4d4d4; }
    .mtk7 { color: #b5cea8; }
    .mtk8 { color: #608b4e; }
    .mtk9 { color: #787b86; }
    .mtk10 { color: #569cd6; }
    .mtk11 { color: #f77c80; }
    .mtk12 { color: #f57f17; }
    .mtk13 { color: #dcdcdc; }
    .mtk14 { color: #808080; }
    .mtk15 { color: #3179f5; }
    .mtk16 { color: #5b9cf6; }
    .mtk17 { color: #ba68c8; }
    .mtk18 { color: #42bda8; }
    .mtk19 { color: #f44747; }
    .mtk20 { color: #c586c0; }
    .mtk21 { color: #a79873; }
    .mtk22 { color: #dd6a6f; }
    .mtk23 { color: #5bb498; }
    .mtk24 { color: #909090; }
    .mtk25 { color: #778899; }
    .mtk26 { color: #ff00ff; }
    .mtk27 { color: #b46695; }
    .mtk28 { color: #388e3c; }
    .mtk29 { color: #ff0000; }
    .mtk30 { color: #4f76ac; }
    .mtk31 { color: #3dc9b0; }
    .mtk32 { color: #74b0df; }
    .mtk33 { color: #d1d4dc; }
    .mtk34 { color: #4864aa; }
    .mtki { font-style: italic; }
    .mtkb { font-weight: bold; }
    .mtku { text-decoration: underline; text-underline-position: under; }
    .mtks { text-decoration: line-through; }
    .mtks.mtku { text-decoration: underline line-through; text-underline-position: under; } }</style>
<style type="text/css" media="screen">.monaco-editor-tv-pine-light { 
.mtk1 { color: #131722; }
.mtk2 { color: #ffffff; }
.mtk3 { color: #808080; }
.mtk4 { color: #ff0000; }
.mtk5 { color: #0451a5; }
.mtk6 { color: #0000ff; }
.mtk7 { color: #098658; }
.mtk8 { color: #008000; }
.mtk9 { color: #9598a1; }
.mtk10 { color: #dd0000; }
.mtk11 { color: #cc2929; }
.mtk12 { color: #f57f17; }
.mtk13 { color: #000000; }
.mtk14 { color: #383838; }
.mtk15 { color: #0c3299; }
.mtk16 { color: #2962ff; }
.mtk17 { color: #8e24aa; }
.mtk18 { color: #22ab94; }
.mtk19 { color: #cd3131; }
.mtk20 { color: #863b00; }
.mtk21 { color: #af00db; }
.mtk22 { color: #800000; }
.mtk23 { color: #e00000; }
.mtk24 { color: #3030c0; }
.mtk25 { color: #666666; }
.mtk26 { color: #778899; }
.mtk27 { color: #c700c7; }
.mtk28 { color: #a31515; }
.mtk29 { color: #388e3c; }
.mtk30 { color: #4f76ac; }
.mtk31 { color: #008080; }
.mtk32 { color: #001188; }
.mtk33 { color: #2a2e39; }
.mtk34 { color: #4864aa; }
.mtki { font-style: italic; }
.mtkb { font-weight: bold; }
.mtku { text-decoration: underline; text-underline-position: under; }
.mtks { text-decoration: line-through; }
.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; } }</style><link type="text/css" rel="stylesheet" charset="UTF-8" href="https://www.gstatic.com/_/translate_http/_/ss/k=translate_http.tr.26tY-h6gH9w.L.W.O/am=GAY/d=0/rs=AN8SPfrev-A3NvrBP0gNq8zXCqKY7IcBLA/m=el_main_css"></head> <body> <div id="search-content-blur" hidden=""></div> <script data-astro-exec="">
	/* eslint-disable @typescript-eslint/typedef */
	window.ThemeProvider = (() => {
		function getCurrent() {
			return (
				// eslint-disable-next-line no-restricted-syntax
				typeof localStorage !== 'undefined' &&
				localStorage.getItem('tv-docs-theme')
			);
		}
		const storedTheme = getCurrent();
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ?
				'light'
			:	'dark');
		document.documentElement.dataset.theme =
			theme === 'light' ? 'light' : 'dark';
		document.documentElement.classList.toggle(
			'theme-dark',
			theme === 'dark',
		); // add support for ui-lib themes
		document.documentElement.classList.toggle(
			'sl-theme-dark',
			theme === 'dark',
		); // add support for shoelace themes

		return {
			updatePickers(themeArg = storedTheme || 'auto') {
				let currentTheme = themeArg;
				if (currentTheme === 'unknown') {
					currentTheme = getCurrent() || 'auto';
				}
				document
					.querySelectorAll('docs-theme-select')
					.forEach((picker) => {
						const select = picker.querySelector('select');
						if (select) select.value = currentTheme;
						/** @type {HTMLTemplateElement | null} */
						const tmpl = document.querySelector(`#theme-icons`);
						const newIcon =
							tmpl &&
							tmpl.content.querySelector('.' + currentTheme);
						if (newIcon) {
							const oldIcon =
								picker.querySelector('svg.label-icon');
							if (oldIcon) {
								oldIcon.replaceChildren(
									...newIcon.cloneNode(true).childNodes,
								);
							}
						}
					});
			},
		};
	})();
	/* eslint-enable @typescript-eslint/typedef */
</script><template id="theme-icons"><svg width="16px" height="16px" viewBox="0 0 28 28" class="light" data-icon="theme/sun-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg><svg width="16px" height="16px" viewBox="0 0 28 28" class="dark" data-icon="theme/moon-28">  <symbol id="ai:local:theme/moon-28"><path fill="currentColor" fill-rule="evenodd" d="M21 7.02A9.23 9.23 0 0 0 15.2 5 9.1 9.1 0 0 0 6 14c0 4.97 4.12 9 9.2 9a9.33 9.33 0 0 0 5.8-2.02A7 7 0 0 1 14.36 14 7 7 0 0 1 21 7.02Zm-3.95-.3a7.91 7.91 0 0 0-1.85-.22A7.6 7.6 0 0 0 7.5 14a7.6 7.6 0 0 0 7.7 7.5 8 8 0 0 0 1.85-.22A8.46 8.46 0 0 1 12.86 14c0-3.1 1.69-5.8 4.19-7.28Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/moon-28"></use>  </svg><svg width="16px" height="16px" viewBox="0 0 28 28" class="auto" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8V4Zm0 9v2h1v-2H8Zm6-3V9h-2v1h2ZM3 9v1h2V9H3Zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm4.2-6-.7-.7-1.4 1.4.7.7L12.7 6ZM5 13.7l-.7-.7 1.4-1.4.7.7L5 13.7Zm7.7-.7-.7.7-1.4-1.4.7-.7 1.4 1.4ZM4.3 6l.7-.7 1.4 1.4-.7.7L4.3 6Zm3 17 14-14 .8.7L8 23.7l-.7-.7Zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9Z"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg></template> <div class="backdrop" data-mobile-menu-backdrop="" data-astro-cid-h2irkosh=""></div> <div class="menu-container" data-astro-cid-h2irkosh=""> <div class="header" data-astro-cid-h2irkosh=""> <div class="header-group" data-astro-cid-h2irkosh="">    <docs-theme-select class="" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;黑暗的&nbsp;&nbsp;</font></font></option><option value="light" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;明亮&nbsp;&nbsp;</font></font></option><option value="auto" selected="true" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;自动&nbsp;&nbsp;</font></font></option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </div> <div class="header-group" data-astro-cid-h2irkosh="">  <div class="not-content" style="stroke-width:2px" data-astro-cid-pkzv2hgs=""> <button id="mobile-menu-back-button" title="关闭菜单" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-primary stvb-icon">  <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-h2irkosh="" data-icon="theme/arrow-back">  <symbol id="ai:local:theme/arrow-back"><g fill="none"><g clip-path="url(#a)"><path stroke="var(--arrow-fill-color, #131722)" d="m17 20-6-6 6-6"></path></g><defs><clipPath id="a"><path fill="#fff" d="M28 28H0V0h28z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/arrow-back"></use>  </svg>  </button> </div>  </div> </div> <aside id="nav" class="keep-visible" style="--navbar-right-border-width: 0px" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-mobile="" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="文档侧边栏" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎使用 Pine Script™ v5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初识Pine Script™</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一步</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个指标</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模型</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/time-series" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间序列</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份标识</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量声明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型系统</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/backgrounds" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-coloring" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图色彩</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-plotting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图状态</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表信息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/colors" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">颜色</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/fills" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">填充</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/levels" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/lines-and-boxes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线条和盒子</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表数据</font></font></a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/plots" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新粉刷</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/tables" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/text-and-shapes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和形状</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写脚本</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">风格指南</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析和优化</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布脚本</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常问问题</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行说明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迁移指南</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 4</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 3</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里可以获得更多信息？</font></font></a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  </div>   <header class="header" data-astro-cid-d74r2unp=""> <nav role="navigation" aria-label="主导航" data-astro-cid-d74r2unp=""> <mobile-menu-button id="mobile-menu-button-wc" data-astro-cid-oojooh3d=""> <!-- Annoyingly I need to wrap this. TODO: improve this --> <div id="mobile-menu-button-header" data-astro-cid-oojooh3d=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button title="打开导航菜单" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-secondary stvb-icon stvb-icon-force-color stvb-force-no-border">  <svg width="28" height="28" viewBox="0 0 24 24" data-astro-cid-oojooh3d="" data-icon="theme/bars">  <symbol id="ai:local:theme/bars"><path fill="currentColor" d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"></path></symbol><use xlink:href="#ai:local:theme/bars"></use>  </svg>  </button> </div>  </div> </mobile-menu-button>   <div data-hide-when-search="" data-astro-cid-d74r2unp=""> <div class="header-logo" data-astro-cid-tycb33lk=""> <a href="/pine-script-docs/" aria-label="主页按钮" data-astro-cid-tycb33lk=""> <div class="documentation-logo logo" data-astro-cid-tycb33lk=""><svg width="188" height="44" viewBox="0 0 188 44" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M26.9989 28.0001L18.4281 20.7531L11.3382 23.2611C10.402 23.5923 9.60771 22.5041 10.2085 21.7134L21.0877 7.39502C21.4749 6.88536 22.2346 6.86567 22.6478 7.35459L34.7627 21.6923C35.1531 22.1543 35.0472 22.8544 34.5376 23.1802L26.9989 28.0001ZM32.4978 22.1105L27.1641 25.5207L19.7195 19.2258C19.1767 18.7669 18.4312 18.6305 17.7611 18.8676L13.8245 20.2602L21.9253 9.59841L32.4978 22.1105Z" fill="currentColor"></path>
<path d="M33.432 28.0842L38.3592 34.7471C38.7427 35.2657 38.3724 36 37.7274 36H6.27248C5.62746 36 5.25722 35.2657 5.64074 34.7471L10.8523 27.6996C10.9484 27.5697 11.0822 27.4725 11.2356 27.4214L17.6878 25.2707C17.9285 25.1904 18.1932 25.2314 18.3984 25.3806L26.2854 31.1166C26.5445 31.3051 26.8922 31.3173 27.1639 31.1475L32.3838 27.885C32.7316 27.6677 33.1881 27.7544 33.432 28.0842Z" fill="currentColor"></path>
<path d="M59.56 13.96C63.016 13.96 65.536 16.456 65.536 19.696C65.536 22.936 63.016 25.432 59.56 25.432H57.376V31H53.896V13.96H59.56ZM59.512 22.168C61.096 22.168 62.152 21.088 62.152 19.696C62.152 18.304 61.096 17.224 59.512 17.224H57.376V22.168H59.512ZM70.8636 14.944C70.8636 16.096 69.9276 17.032 68.7516 17.032C67.6236 17.032 66.6636 16.096 66.6636 14.944C66.6636 13.792 67.6236 12.856 68.7516 12.856C69.9276 12.856 70.8636 13.792 70.8636 14.944ZM67.1196 31V19H70.4076V31H67.1196ZM73.0849 31V19H76.3729V20.368C76.9969 19.408 78.2449 18.736 79.8049 18.736C82.7089 18.736 84.4369 20.848 84.4369 23.968V31H81.1489V24.52C81.1489 22.792 80.4049 21.736 79.0369 21.736C77.5249 21.736 76.3729 22.84 76.3729 25.144V31H73.0849ZM86.2041 25C86.2041 21.448 88.8681 18.736 92.5161 18.736C95.6601 18.736 98.4201 20.752 98.4201 24.64C98.4201 24.928 98.4201 25.264 98.3721 25.768H89.3961C89.5881 27.376 91.0041 28.264 92.5881 28.264C94.0761 28.264 95.1561 27.568 95.6841 26.752L98.1321 28.576C97.0281 30.184 95.0841 31.264 92.5641 31.264C88.9881 31.264 86.2041 28.792 86.2041 25ZM92.4201 21.448C91.1961 21.448 89.8281 22.072 89.5161 23.536H95.1321C94.8441 22.12 93.6441 21.448 92.4201 21.448ZM104.412 28.24L107.076 26.008C107.916 27.28 109.38 28.024 110.772 28.024C112.14 28.024 113.052 27.352 113.052 26.368C113.052 25.408 112.356 24.736 110.676 24.16L109.236 23.656C106.5 22.696 105.036 21.112 105.036 18.784C105.036 15.568 107.484 13.672 110.796 13.672C112.884 13.672 114.708 14.392 116.172 16.024L113.868 18.4C113.052 17.416 111.996 16.936 110.82 16.936C109.644 16.936 108.54 17.44 108.54 18.448C108.54 19.48 109.38 19.936 111.18 20.584L112.548 21.088C115.044 22 116.604 23.584 116.604 26.152C116.58 29.2 114.156 31.288 110.628 31.288C107.916 31.288 105.636 30.112 104.412 28.24ZM129.859 27.808C128.827 29.872 126.667 31.264 124.171 31.264C120.619 31.264 117.811 28.624 117.811 25C117.811 21.376 120.619 18.736 124.171 18.736C126.667 18.736 128.827 20.128 129.859 22.192L127.003 23.728C126.523 22.624 125.491 21.808 124.171 21.808C122.443 21.808 121.123 23.152 121.123 25C121.123 26.848 122.443 28.192 124.171 28.192C125.491 28.192 126.523 27.376 127.003 26.272L129.859 27.808ZM131.482 31V19H134.77V20.92C135.178 19.744 136.402 18.856 137.746 18.856C138.082 18.856 138.442 18.88 138.85 19V22.336C138.346 22.168 137.89 22.072 137.362 22.072C135.802 22.072 134.77 23.296 134.77 25.264V31H131.482ZM144.215 14.944C144.215 16.096 143.279 17.032 142.103 17.032C140.975 17.032 140.015 16.096 140.015 14.944C140.015 13.792 140.975 12.856 142.103 12.856C143.279 12.856 144.215 13.792 144.215 14.944ZM140.471 31V19H143.759V31H140.471ZM146.436 36.016V19H149.724V20.344C150.276 19.576 151.548 18.736 153.204 18.736C156.396 18.736 158.844 21.592 158.844 25C158.844 28.408 156.396 31.264 153.204 31.264C151.548 31.264 150.276 30.424 149.724 29.656V36.016H146.436ZM155.508 25C155.508 23.128 154.284 21.736 152.484 21.736C150.684 21.736 149.46 23.128 149.46 25C149.46 26.872 150.684 28.264 152.484 28.264C154.284 28.264 155.508 26.872 155.508 25ZM168.407 30.88C167.879 31.048 167.231 31.144 166.319 31.144C163.775 31.144 161.735 29.728 161.735 26.8V21.88H159.311V19H161.735V15.664H165.023V19H168.407V21.88H165.023V26.152C165.023 27.616 165.647 28.192 167.063 28.192C167.591 28.192 168.023 28.12 168.407 27.976V30.88ZM177.626 22.648V13.96H179.978L181.874 16.888L183.746 13.96H186.122V22.648H183.698V18.184L181.874 20.968L180.026 18.136V22.648H177.626ZM171.386 22.648V16.456H169.058V13.96H176.258V16.456H173.93V22.648H171.386Z" fill="currentColor"></path>
</svg>
</div> </a> </div>  </div> <div class="flex" data-astro-cid-d74r2unp=""></div> <div class="flex" data-astro-cid-d74r2unp=""> <div class="search-container" data-astro-cid-fg37foga=""> <div class="search-wrapper" data-astro-cid-fg37foga=""> <input class="search-input" type="text" placeholder="搜索文档" name="s" value="" data-astro-cid-fg37foga="" data-has-input-listener="true"> <svg width="28" height="28" viewBox="0 0 28 28" class="search-button" data-astro-cid-fg37foga="" data-icon="theme/search">  <symbol id="ai:local:theme/search"><path fill="currentColor" fill-rule="evenodd" d="M18.5 12.5a6 6 0 1 1-12 0 6 6 0 0 1 12 0Zm-1.25 5.8a7.5 7.5 0 1 1 1.06-1.06l4.22 4.23.53.53L22 23.06l-.53-.53-4.22-4.22Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/search"></use>  </svg> <button class="search-clear" type="button" title="重置" data-search-clear="" data-astro-cid-fg37foga=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除</font></font></button> <span class="divider" data-astro-cid-fg37foga=""></span> <button class="search-close" type="button" title="关闭" data-search-close="" data-astro-cid-fg37foga=""> <svg width="18" height="18" viewBox="0 0 18 18" data-astro-cid-fg37foga="" data-icon="theme/cross-18">  <use xlink:href="#ai:local:theme/cross-18"></use>  </svg> </button> </div> <div id="search-results-wrapper" data-astro-cid-fg37foga=""> <aside id="search-results" hidden="" data-astro-cid-fg37foga="" data-has-button-listener="true"> <!-- Don't use h1 because when built it will be used as the first heading on the page --> <div class="heading" data-astro-cid-fg37foga=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索结果</font></font></div> <div id="search-results-contents" data-astro-cid-fg37foga=""></div> </aside> </div> </div>   </div> <ul class="links" data-astro-cid-d74r2unp="">  </ul> <div class="flex" data-astro-cid-d74r2unp=""></div> <div data-hide-when-search="" data-astro-cid-d74r2unp="">    </div> <button id="search-button" data-astro-cid-6zeqadij="" data-has-listener="true" style="display:none"> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-6zeqadij="" data-icon="theme/search">  <use xlink:href="#ai:local:theme/search"></use>  </svg> </button>  <script data-base-url="/pine-script-docs" data-astro-exec="">
	async function loadPageFind() {
		const base = document.currentScript.getAttribute('data-base-url');
		const pageFindBundleUrl = `${base}/pagefind/`;
		const pagefind = await import(`${pageFindBundleUrl}pagefind.js`);
		await pagefind.options({
			bundlePath: pageFindBundleUrl,
		});
		window.pagefind = pagefind;
	}
	loadPageFind().catch();
</script>  <docs-theme-select class="hide-with-breakpoint-568" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;黑暗的&nbsp;&nbsp;</font></font></option><option value="light" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;明亮&nbsp;&nbsp;</font></font></option><option value="auto" selected="true" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;自动&nbsp;&nbsp;</font></font></option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </nav> </header>        <div id="image-lightbox" class="not-content" hidden="" data-astro-cid-kws7taxh=""> <div class="button-wrapper" data-astro-cid-kws7taxh=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button id="lightbox-close-button" title="关闭图片预览" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-black stvb-medium stvb-secondary stvb-icon stvb-force-no-border">  <svg width="24" height="24" viewBox="0 0 18 18" data-astro-cid-kws7taxh="" data-icon="theme/cross-18">  <symbol id="ai:local:theme/cross-18"><g fill="none"><g clip-path="url(#a)"><path fill="currentColor" fill-rule="evenodd" d="M5.53 4.47 4.47 5.53 7.94 9l-3.47 3.47 1.06 1.06L9 10.06l3.47 3.47 1.06-1.06L10.06 9l3.47-3.47-1.06-1.06L9 7.94 5.53 4.47Z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v18H0z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/cross-18"></use>  </svg>  </button> </div>  </div> <img id="lightbox-image" src="" data-astro-cid-kws7taxh=""> </div>   <div id="page-container" data-astro-cid-xgirumru=""> <aside id="nav" class="" style="" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="文档侧边栏" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎使用 Pine Script™ v5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初识Pine Script™</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <symbol id="ai:local:theme/right-caret"><path fill="currentColor" d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></symbol><use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一步</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个指标</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模型</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/time-series" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间序列</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份标识</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量声明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型系统</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/backgrounds" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-coloring" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图色彩</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-plotting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图状态</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表信息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/colors" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">颜色</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/fills" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">填充</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/levels" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/lines-and-boxes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线条和盒子</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表数据</font></font></a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/plots" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新粉刷</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/tables" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/text-and-shapes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和形状</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写脚本</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">风格指南</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析和优化</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布脚本</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常问问题</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行说明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迁移指南</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 4</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 3</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里可以获得更多信息？</font></font></a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  <main class="main-pane" data-page-type="md" data-astro-cid-xgirumru=""> <a id="top" data-astro-cid-xgirumru=""></a> <main class="content" data-toc-shown="" data-astro-cid-ju3wuhkz="">  <div class="content-width" data-astro-cid-xgirumru=""> <div class="breadcrumbs" data-pagefind-ignore="" data-astro-cid-wlavna2o=""> <a href="/pine-script-docs" aria-label="返回文档主页。" data-astro-cid-wlavna2o=""> <span data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户手册</font></font></span>  </a>  <span class="divider" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span> <a href="/pine-script-docs/concepts/alerts" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></a> <span class="divider" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span> <span class="current-item" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和数据</font></font></span> </div>     </div> <div id="slot-container" data-astro-cid-xgirumru="">  <h1 id="other-timeframes-and-data" class="md-heading"><a href="#other-timeframes-and-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h1>
<h2 id="introduction" class="md-heading"><a href="#introduction"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™ 允许用户从其图表使用的来源和上下文以外的来源和上下文请求数据。我们在本页介绍的功能可以从各种替代来源获取数据：</font></font></p>
<ul>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从另一个符号、时间范围或其他上下文中检索数据。</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-security-lower-tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索条形</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据，即来自低于图表时间范围的时间范围的数据。</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-currency-rate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.currency_rate()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每日汇率</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将一种货币表示的值转换为另一种货币表示的值。</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-dividends-request-splits-and-request-earnings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.dividends()、request.splits() 和 request.earnings()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别检索有关发行公司的股息、拆分和收益的信息。</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-quandl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.quandl()从</font></font></a><font style="vertical-align: inherit;"></font><a href="https://data.nasdaq.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NASDAQ Data Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（以前称为 Quandl）</font><font style="vertical-align: inherit;">检索信息。</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()从</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.factset.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FactSet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索财务数据
</font><font style="vertical-align: inherit;">。</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-economic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.economic()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索经济和行业数据。</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-seed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.seed()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户维护的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub 存储库检索数据。</font></font></li>
</ul>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本页面以及我们文档中讨论</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能的其他部分中，我们经常使用术语</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“上下文”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来描述股票代码 ID、时间范围以及适用于图表或脚本检索的数据的任何修改（价格调整、会话设置、非标准图表类型等）。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些是命名空间中的函数的签名</font></font><code dir="auto">request.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<div class="expressive-code not-content"><link rel="stylesheet" href="/pine-script-docs/_astro/ec.dtidy.css"><script type="module" src="/pine-script-docs/_astro/ec.8gcug.js" data-astro-exec=""></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.security(symbol, timeframe, expression, gaps, lookahead, ignore_invalid_symbol, currency, calc_bars_count) → series &lt;type&gt;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.security_lower_tf(symbol, timeframe, expression, ignore_invalid_symbol, currency, ignore_invalid_timeframe, calc_bars_count) → array&lt;type&gt;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.currency_rate(from, to, ignore_invalid_currency) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.dividends(ticker, field, gaps, lookahead, ignore_invalid_symbol, currency) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.splits(ticker, field, gaps, lookahead, ignore_invalid_symbol) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.earnings(ticker, field, gaps, lookahead, ignore_invalid_symbol, currency) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.quandl(ticker, gaps, index, ignore_invalid_symbol) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.financial(symbol, financial_id, period, gaps, ignore_invalid_symbol, currency) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.economic(country_code, field, gaps, ignore_invalid_symbol) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.seed(source, symbol, expression, ignore_invalid_symbol, calc_bars_count) → series &lt;type&gt;</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数系列具有众多潜在应用。在本页中，我们将详细讨论这些函数及其一些典型用例。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户还可以通过使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;">indicator()</font></a><font style="vertical-align: inherit;">
声明语句</font></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的参数，
</font><font style="vertical-align: inherit;">允许兼容脚本在其他上下文中评估其范围，而无需函数。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></div></aside>
<h2 id="common-characteristics" class="md-heading"><a href="#common-characteristics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共同</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特征</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间中的许多函数</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都有一些共同的属性和参数。在深入探讨每个函数之前，让我们先熟悉一下这些特性。</font></font></p>
<h3 id="usage" class="md-heading"><a href="#usage"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用法</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数都会返回“系列”结果，这意味着它们可以在每条柱状图上产生不同的值。但是，大多数</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数参数都需要“const”、“输入”或“简单”参数。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本质上，Pine Script™ 必须根据每个参数接受的</font><a href="/pine-script-docs/language/type-system#qualifiers"><font style="vertical-align: inherit;">限定类型</font></a></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在编译脚本时或在第一个图表条上确定传递给函数
的大多数参数的值</font><font style="vertical-align: inherit;">，并且这些值在脚本执行过程中不能更改。唯一的例外是
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">、
 </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a><font style="vertical-align: inherit;">和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed"><font style="vertical-align: inherit;">request.seed()</font></a><font style="vertical-align: inherit;">中的参数
</font><font style="vertical-align: inherit;">，它接受“系列”参数。</font></font><a href="/pine-script-docs/language/type-system#qualifiers"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数调用</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在每个图表条上执行，并且脚本无法在执行过程中有选择地停用它们。脚本无法调用</font><a href="/pine-script-docs/language/conditional-structures"><font style="vertical-align: inherit;">条件结构</font></a></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的局部范围内的函数
，或</font><a href="/pine-script-docs/concepts/libraries"><font style="vertical-align: inherit;">库</font></a><font style="vertical-align: inherit;">导出的函数和方法
，但它们可以在非导出的</font><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;">用户定义函数</font></a><font style="vertical-align: inherit;">和
</font><a href="/pine-script-docs/language/methods#user-defined-methods"><font style="vertical-align: inherit;">方法</font></a><font style="vertical-align: inherit;">的主体内使用此类函数调用
</font><font style="vertical-align: inherit;">。</font></font><a href="/pine-script-docs/language/conditional-structures"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/libraries"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/methods#user-defined-methods"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在脚本中</font><font style="vertical-align: inherit;">使用任何函数时，运行时性能都是一个重要的考虑因素。这些函数会对脚本性能产生相当大的影响。虽然脚本最多可以包含 40 次对</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间的调用，但用户应努力减少脚本中的调用次数，以尽可能降低资源消耗。有关这些函数限制的更多信息，请参阅
</font><font style="vertical-align: inherit;">
我们的用户手册页面中有关 Pine
</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制的</font></a></font><a href="/pine-script-docs/writing/limitations#request-calls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这一</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<h3 id="gaps" class="md-heading"><a href="#gaps"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`差距`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数从其他上下文检索数据时，数据可能不会像当前图表那样出现在每个新条形图中。函数</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的参数</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许用户控制函数如何响应请求系列中不存在的值。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicator()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数在另一个上下文中评估脚本时，该</font></font><code dir="auto">timeframe_gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参数指定它如何处理不存在的值。该参数类似于函数</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的参数</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设我们有一个脚本，该脚本使用request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 1 分钟图上执行来请求图表符号的每小时数据
</font><font style="vertical-align: inherit;">
。在这种情况下，函数调用将仅返回涵盖符号每小时条的开盘/收盘时间的 1 分钟条上的新值。在其他图表条上，我们可以通过参数决定函数是否返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值或最后可用的值</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.gaps_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.gaps_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，函数将返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图表条形图上尚未从请求的上下文确认新数据的结果。否则，当参数使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.gaps_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.gaps_off</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，函数将使用历史条形图上最后确认的值和实时条形图上最新发展的值填充请求数据中的空白。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面的脚本通过
</font></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制两个</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用的结果
来演示行为的差异，这两个调用</font><font style="vertical-align: inherit;">
从 1 分钟图上的每小时时间范围内</font><font style="vertical-align: inherit;">
获取
当前符号的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">gaps = barmerge.gaps_off</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价。第一个调用使用，第二个调用使用</font></font><code dir="auto">gaps = barmerge.gaps_on</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Common-characteristics-Gaps-1.DX6PixJ0_ZcmWMl.webp" alt="图像" width="1332" height="598" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="2ho"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"gaps&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`close`&nbsp;requested&nbsp;from&nbsp;the&nbsp;hourly&nbsp;timeframe&nbsp;w</span><span class="mtk9">ithout&nbsp;gaps.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">dataWithoutGaps</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"60"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">gaps</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.gaps_off</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`close`&nbsp;requested&nbsp;from&nbsp;the&nbsp;hourly&nbsp;timeframe&nbsp;w</span><span class="mtk9">ith&nbsp;gaps.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">dataWithGaps</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"60"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">gaps</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.gaps_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;requested&nbsp;data.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">dataWithoutGaps</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Data&nbsp;without&nbsp;gaps"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.blue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_linebr</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">dataWithGaps</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Data&nbsp;with&nbsp;gaps"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">15</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_linebr</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;for&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.aqua</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">70</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;bar&nbsp;highlight"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.gaps_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.gaps_off</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是所有适用函数中参数
</font><font style="vertical-align: inherit;">
的默认值</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本将请求的系列绘制为带有断点的线条（</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_plot.style_linebr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plot.style_linebr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），这些线条不会
</font><font style="vertical-align: inherit;">
像默认样式（</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_plot.style_line"><font style="vertical-align: inherit;">plot.style_line ）那样跨越</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_plot.style_line"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.gaps_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用barmerge.gaps_off</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时
</font><font style="vertical-align: inherit;">，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数会返回
所有历史条形图上每小时时间范围内的</font><font style="vertical-align: inherit;">
最后确认
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘价。在</font></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时条形图（本例中为带有</font></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.aqua"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">color.aqua</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景的条形图
</font><font style="vertical-align: inherit;">
）上运行时，它会返回符号的当前
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
价，无论确认与否。有关更多信息，请参阅
</font><font style="vertical-align: inherit;">本页的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#historical-and-realtime-behavior"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史和实时行为部分。</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h3 id="ignore_invalid_symbol" class="md-heading"><a href="#ignore_invalid_symbol"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`忽略无效符号`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"></font><code dir="auto">ignore_invalid_symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数的参数</font><font style="vertical-align: inherit;">决定</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了函数如何处理无效的数据请求，例如：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有不存在的股票代码 ID 作为
</font></font><code dir="auto">symbol/ticker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数的函数。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
检索指定
</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或不存在的信息</font></font><code dir="auto">period</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.economic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.economic()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
来请求</font></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不存在的</font></font><code dir="auto">country_code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果函数调用的</font><font style="vertical-align: inherit;">参数为 ，则在发出错误请求时</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会产生</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行时错误</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并暂停脚本的执行
</font><font style="vertical-align: inherit;">。当此参数的值为 时</font><font style="vertical-align: inherit;">，函数在这种情况下将返回
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;">na</font></a><font style="vertical-align: inherit;">
值，而不是引发错误。</font></font><code dir="auto">ignore_invalid_symbol</code><font style="vertical-align: inherit;"></font><code dir="auto">false</code><font style="vertical-align: inherit;"></font><code dir="auto">true</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例使用</font><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;">用户定义函数</font></a></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的调用
</font><font style="vertical-align: inherit;">来检索用于估计工具市值（市值）的数据。用户定义</font><font style="vertical-align: inherit;">函数调用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;">request.financial()</font></a><font style="vertical-align: inherit;">
来检索符号的总流通股数，并
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">调用 request.security()来检索包含符号</font></a><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;">收盘</font></a><font style="vertical-align: inherit;">
价和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.currency"><font style="vertical-align: inherit;">货币</font></a><font style="vertical-align: inherit;">
的元组
。我们</font><font style="vertical-align: inherit;">在这两个
调用中</font><font style="vertical-align: inherit;">都包含了这些</font><font style="vertical-align: inherit;">内容，以防止无效请求导致运行时错误。</font></font><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">calcMarketCap()</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.currency"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">ignore_invalid_symbol = true</code><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该脚本在图表上的
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_table"><font style="vertical-align: inherit;">表格</font></a><font style="vertical-align: inherit;">中显示一个</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.format"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式化的字符串</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
，代表符号的估计市值和货币
，并使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;">图表</font></a><font style="vertical-align: inherit;">
来可视化</font><font style="vertical-align: inherit;">历史记录：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_table"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">marketCap</code><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Common-characteristics-Ignore-invalid-symbol-1.DPSV2CB9_2wVvY7.webp" alt="图像" width="1334" height="596" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="fj"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"ignore_invalid_symbol&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Market&nbsp;cap&nbsp;estimate"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">format</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.volume</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;symbol&nbsp;to&nbsp;request&nbsp;data&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.symbol</span><span class="mtk13">(</span><span class="mtk29">"TSX:SHOP"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Estimates&nbsp;the&nbsp;market&nbsp;capitalization&nbsp;of&nbsp;the&nbsp;specif</span><span class="mtk9">ied&nbsp;`tickerID`&nbsp;if&nbsp;the&nbsp;data&nbsp;exists.</span></span><br><span><span class="mtk15">calcMarketCap</span><span class="mtk13">(</span><span class="mtk18 mtkb">simple</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">tickerID</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;quarterly&nbsp;total&nbsp;shares&nbsp;outstanding&nbsp;for&nbsp;the&nbsp;`t</span><span class="mtk9">ickerID`.&nbsp;Returns&nbsp;`na`&nbsp;when&nbsp;the&nbsp;data&nbsp;isn't&nbsp;availab</span><span class="mtk9">le.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">tso</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk33">tickerID</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TOTAL_SHARES_OUTSTANDING"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"FQ"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">ignore_invalid_symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`close`&nbsp;price&nbsp;and&nbsp;currency&nbsp;for&nbsp;the&nbsp;`tickerID`</span><span class="mtk9">.&nbsp;Returns&nbsp;`[na,&nbsp;na]`&nbsp;when&nbsp;the&nbsp;`tickerID`&nbsp;is&nbsp;invali</span><span class="mtk9">d.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk33">price</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">currency</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">tickerID</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">syminfo.currency</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">ignore_invalid_symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;the&nbsp;market&nbsp;cap&nbsp;estima</span><span class="mtk9">te&nbsp;and&nbsp;the&nbsp;quote&nbsp;currency.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk33">tso</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">price</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">currency</span><span class="mtk13">]</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;`table`&nbsp;object&nbsp;with&nbsp;a&nbsp;single&nbsp;cell&nbsp;that&nbsp;displays</span><span class="mtk9">&nbsp;the&nbsp;`marketCap`&nbsp;and&nbsp;`quoteCurrency`.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">table</span><span class="mtk1">&nbsp;</span><span class="mtk33">infoTable</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">table.new</span><span class="mtk13">(</span><span class="mtk11">position.top_right</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Initialize&nbsp;the&nbsp;table's&nbsp;cell&nbsp;on&nbsp;the&nbsp;first&nbsp;bar.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.isfirst</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.white</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.huge</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bgcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Get&nbsp;the&nbsp;market&nbsp;cap&nbsp;estimate&nbsp;and&nbsp;quote&nbsp;currency&nbsp;</span><span class="mtk9">for&nbsp;the&nbsp;`symbol`.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">marketCap</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">quoteCurrency</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">calcMarketCap</span><span class="mtk13">(</span><span class="mtk33">symbol</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;formatted&nbsp;text&nbsp;displayed&nbsp;inside&nbsp;the&nbsp;`infoTabl</span><span class="mtk9">e`.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableText</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format</span><span class="mtk13">(</span><span class="mtk29">"Market&nbsp;cap:\n{0}&nbsp;{1}"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">marketCap</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.volume</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">quoteCurrency</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;`infoTable`.</span></span><br><span><span class="mtk16">table.cell_set_text</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableText</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`marketCap`&nbsp;value.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">marketCap</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Market&nbsp;cap"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">60</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该函数将仅返回具有总流通股数据的有效工具的值，例如我们为本示例选择的工具。它将返回</font><font style="vertical-align: inherit;">
没有财务数据的其他工具</font></font><code dir="auto">calcMarketCap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的市值
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na ，包括外汇、加密货币和衍生品。</font></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并非所有发行公司都会发布季度财务报告。如果</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的发行公司不按季度报告，请将此脚本中的“FQ”值更改为公司的最低报告期。
</font><font style="vertical-align: inherit;">有关更多信息，请参阅</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()部分。</font></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们在
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;">indicator()</font></a><font style="vertical-align: inherit;">
和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.tostring"><font style="vertical-align: inherit;">str.tostring()</font></a><font style="vertical-align: inherit;">调用中使用了
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_format.volume"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">format.volume</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
，它指定图表窗格的 y 轴表示卷格式的值，并且值的“字符串”表示形式</font><font style="vertical-align: inherit;">显示为卷格式的文本。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.tostring"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">marketCap</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本会创建一个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
并在</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate.isfirst"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个图表条</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上初始化其单元格，然后在后续条上</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.cell_set_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新单元格的文本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。要了解有关使用表格的更多信息，请参阅</font><font style="vertical-align: inherit;">我们的用户手册中的</font></font><a href="/pine-script-docs/concepts/tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格页面。</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h3 id="currency" class="md-heading"><a href="#currency"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`货币`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"></font><code dir="auto">currency</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数的参数</font><font style="vertical-align: inherit;">允许</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户指定请求数据的货币。当此参数的值与
</font><font style="vertical-align: inherit;">
请求上下文的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.currency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syminfo.currency</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">currency</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同时，函数将转换请求的值以在指定的 中表示它们。此参数可以接受命名空间中的内置变量</font></font><code dir="auto">currency.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_currency.JPY"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">currency.JPY ，或表示</font></font></a><font style="vertical-align: inherit;"></font><a href="https://en.wikipedia.org/wiki/ISO_4217#Active_codes" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISO 4217 货币代码</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的“字符串” </font><font style="vertical-align: inherit;">（例如“JPY”）。</font></font></p>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.currency"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求数据的syminfo.currency</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
与指定数据</font><font style="vertical-align: inherit;">之间的转换率
</font></font><code dir="auto">currency</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取决于前一天相应的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“FX_IDC”每日汇率。如果没有可用的工具直接提供转换率，则该函数将使用</font></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/support/solutions/43000502298/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价差符号</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">来得出汇率。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并非所有</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数调用都会返回以货币金额表示的值。因此，货币转换并非总是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的。例如，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回的一些系列
以货币以外的单位表示，例如“PIOTROSKI_F_SCORE”和“NUMBER_OF_EMPLOYEES”指标。程序员需要确定何时在他们的数据请求中进行货币转换是合适的。</font></font></p></div></aside>
<h3 id="lookahead" class="md-heading"><a href="#lookahead"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`前瞻`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">、
 </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.dividends"><font style="vertical-align: inherit;">request.dividends()</font></a><font style="vertical-align: inherit;">、
 </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;">request.splits()</font></a><font style="vertical-align: inherit;">和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;">request.earnings()</font></a></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数
</font><font style="vertical-align: inherit;">指定</font><font style="vertical-align: inherit;">
函数调用的预测行为。其默认值为
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_off"><font style="vertical-align: inherit;">barmerge.lookahead_off</font></a><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.dividends"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_off"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当从更高时间范围 (HTF) 上下文请求数据时，该
</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值决定函数是否可以请求</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">超出</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其执行的历史条柱时间的值。换句话说，该</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值决定请求的数据是否可能包含历史条柱的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前瞻偏差</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当从较低时间范围 (LTF) 上下文请求数据时，该
</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数确定函数是否从</font><font style="vertical-align: inherit;">每个图表条上的第一个或最后一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部条(LTF 条) 请求值。</font></font></em><font style="vertical-align: inherit;"></font></p>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序员在脚本中使用 lookahead 时应格外小心，即在请求更高时间范围的数据时。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为值时，请确保它不会通过将</font><em><font style="vertical-align: inherit;">未来</font></em><font style="vertical-align: inherit;">数据泄露到历史图表条中而</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">损害脚本逻辑的完整性。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下场景是在</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中可以启用前瞻的情况：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的
引用具有</font><em><font style="vertical-align: inherit;">历史偏移量</font></em><font style="vertical-align: inherit;">
的系列</font><font style="vertical-align: inherit;">（例如</font><font style="vertical-align: inherit;">），这可以防止函数请求它无法</font><em><font style="vertical-align: inherit;">实时</font></em><font style="vertical-align: inherit;">访问的未来值。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code dir="auto">close[1]</code><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中指定的</font></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与脚本执行的图表相同，即
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_timeframe.period"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">timeframe.period</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数调用请求来自 intrabar 时间范围的数据，即小于 timeframe.period 的时间范围
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_timeframe.period"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关
</font><font style="vertical-align: inherit;">更多信息，请参阅</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#lower-timeframes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节。</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将未来数据泄露到过去会</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产生误导</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，脚本发布中</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不允许这样做</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。虽然您的脚本在历史条形图上的结果可能看起来很棒，因为它似乎“神奇地”获得了预知能力（它无法在实时条形图上重现），但您会误导自己和脚本的用户。如果您
</font></font><a href="/pine-script-docs/writing/publishing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布脚本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以与他人共享，请确保您</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过访问历史条形图上的未来信息来误导用户。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例演示了该</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数如何影响更高时间范围数据请求的行为，以及为什么在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中启用前瞻
而不偏移</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会产生误导。脚本调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以三种不同的方式
获取
</font><font style="vertical-align: inherit;">
当前图表符号的 HTF 高价，并
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表上</font></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制结果系列以供比较。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个调用使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_off</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
（默认），其他调用使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。但是，第三个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用也</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">历史引用运算符
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#op_%5B%5D"><font style="vertical-align: inherit;">[]</font></a></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行偏移</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
，以避免将未来的数据泄露到过去。</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#op_%5B%5D"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如我们在图表上看到的，
使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></a><font style="vertical-align: inherit;">
请求的系列
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
没有偏移（</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.fuchsia"><font style="vertical-align: inherit;">紫红色</font></a><font style="vertical-align: inherit;">
线）
在历史条形图上实际可用</font><em><font style="vertical-align: inherit;">之前</font></em><font style="vertical-align: inherit;">显示
了最终的 HTF 高价</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;">，</font></a><font style="vertical-align: inherit;">而其他两个调用则没有：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.fuchsia"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Common-characteristics-Lookahead-1.DhbZxNLg_239Pup.webp" alt="图像" width="1348" height="588" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="3p6"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"lookahead&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;timeframe&nbsp;to&nbsp;request&nbsp;the&nbsp;data&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"30"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;requested&nbsp;`high`&nbsp;price&nbsp;from&nbsp;the&nbsp;current&nbsp;symbo</span><span class="mtk9">l&nbsp;on&nbsp;the&nbsp;`timeframe`&nbsp;without&nbsp;lookahead&nbsp;bias.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;realtime&nbsp;bars,&nbsp;it&nbsp;returns&nbsp;the&nbsp;curre</span><span class="mtk9">nt&nbsp;`high`&nbsp;of&nbsp;the&nbsp;`timeframe`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookaheadOff</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_off</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;requested&nbsp;`high`&nbsp;price&nbsp;from&nbsp;the&nbsp;current&nbsp;symbo</span><span class="mtk9">l&nbsp;on&nbsp;the&nbsp;`timeframe`&nbsp;with&nbsp;lookahead&nbsp;bias.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;values&nbsp;that&nbsp;should&nbsp;NOT&nbsp;be&nbsp;acce</span><span class="mtk9">ssible&nbsp;yet&nbsp;on&nbsp;historical&nbsp;bars.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookaheadOn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;requested&nbsp;`high`&nbsp;price&nbsp;from&nbsp;the&nbsp;current&nbsp;symbo</span><span class="mtk9">l&nbsp;on&nbsp;the&nbsp;`timeframe`&nbsp;without&nbsp;lookahead&nbsp;bias&nbsp;or&nbsp;rep</span><span class="mtk9">ainting.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Behaves&nbsp;the&nbsp;same&nbsp;on&nbsp;historical&nbsp;and&nbsp;rea</span><span class="mtk9">ltime&nbsp;bars.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookaheadOnOffset</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;values.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">lookaheadOff</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"High,&nbsp;no&nbsp;lookahead&nbsp;bias"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.blue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">40</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">lookaheadOn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"High&nbsp;with&nbsp;lookahead&nbsp;bias"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.fuchsia</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">lookaheadOnOffset</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"High,&nbsp;no&nbsp;lookahead&nbsp;bias&nbsp;or&nbsp;repaint"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.aqua</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;on&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">60</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;bar&nbsp;highlight"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用barmerge.lookahead_off</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求的系列
在每个 HTF 周期</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结束</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
时都有一个新的历史值</font><font style="vertical-align: inherit;">，而使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求的两个系列在每个周期</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
时都有新的历史数据。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在实时条形图上，无前瞻系列（</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蓝色</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和有前瞻且无历史偏移的系列（</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.fuchsia"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">紫红色</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的绘图显示</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同的值</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（即 HTF 期间未确认的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
），因为这些点之外不存在任何数据可以泄漏到过去。这两个绘图都将</font><font style="vertical-align: inherit;">在重新启动脚本执行后
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新绘制其结果，因为</font></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate.isrealtime"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
条形图将成为
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate.ishistory"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
条形图。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.aqua"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用前瞻和历史偏移 ( aqua</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )的系列</font><font style="vertical-align: inherit;">不会重绘其值，因为它始终引用
</font><font style="vertical-align: inherit;">更高时间范围内的
最后</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。有关更多信息，请参阅本页的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">避免重绘部分。</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Pine Script™ v1 和 v2 中，该</font></font><code dir="auto">security()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数不包含
</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，但其行为与 Pine 的后续版本相同</font></font><code dir="auto">lookahead = barmerge.lookahead_on</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这意味着它系统地在历史条形图上使用未来 HTF 上下文中的数据。因此，用户应</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谨慎</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用使用 HTF 调用的 Pine v1 或 v2 脚本，</font></font><code dir="auto">security()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除非函数调用包含历史偏移量。</font></font></p></div></aside>
<h2 id="data-feeds" class="md-heading"><a href="#data-feeds"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">馈送</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TradingView 的数据提供商提供不同的数据源，脚本可以访问这些数据源来检索有关工具的信息，其中包括：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日内历史数据（时间范围小于 1 天）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每日收盘（EOD）历史数据（时间范围 &gt;= 1D）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时数据（可能会延迟，具体取决于您的帐户类型和额外的数据服务）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">延长营业时间数据</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并非所有这些数据馈送类型都适用于每种工具。例如，符号“BNC:BLX”仅具有 EOD 数据可用。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于某些具有日内和日外历史数据的工具，交易量数据可能不相同，因为某些交易（大宗交易、场外交易等）可能仅在交易日</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结束</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时可用。因此，日外数据将包含此交易量数据，但日内数据则不会。对于加密货币等工具，日外数据和日内交易量数据之间的差异几乎不存在，但在股票中却很常见。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EOD 和盘中数据之间也可能出现轻微的价格差异。例如，一个 EOD 柱状图上的高值可能与数据提供商当天提供的任何盘中高值不匹配。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EOD 和日内数据馈送之间的另一个区别是，EOD 馈送不包含</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">延长时段</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的信息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用函数检索实时条形图信息时</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
，需要注意的是，某一工具的历史数据和实时数据报告通常依赖于</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据馈送。经纪商/交易所可能会追溯修改实时条形图报告的值，而这些数据只有在刷新图表或重新启动脚本执行后才会反映出来。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个重要的考虑因素是图表的数据馈送和脚本从提供商处请求的馈送由
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独立的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并发进程管理。因此，在极</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少数</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情况下，可能会发生竞争，请求的结果暂时与实时条形图上的图表不同步，脚本在重新启动执行后会进行追溯调整。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些点可能解释了函数从其他上下文请求数据时检索到的值的变化
</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。它们还可能导致实时条和历史条上收到的数据不一致。对于人们在请求的数据馈送中可能遇到的变化，没有固定的规则。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常，TradingView</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成数据；它依靠数据提供商来获取图表上显示的信息并由脚本访问。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当使用从其他上下文请求的数据馈送时，考虑</font><font style="vertical-align: inherit;">脚本执行的图表与请求的馈送之间的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间轴</font></font></em><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">差异也至关重要，因为函数会将返回的系列调整到图表的时间轴。例如，使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求“SPY”图表上的“BTCUSD”数据
，只有当“SPY”图表也有新数据时才会显示新值。由于“SPY”不是 24 小时符号，因此返回的“BTCUSD”数据将包含直接查看其图表时不存在的缺口。</font></font></p>
<h2 id="requestsecurity" class="md-heading"><a href="#requestsecurity"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.security()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数允许脚本从脚本执行的图表以外的其他上下文请求数据，例如：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他符号，包括</font></font><a href="https://www.tradingview.com/support/solutions/43000502298/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价差符号</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围（请参阅我们的用户手册中的
</font></font><a href="/pine-script-docs/concepts/timeframes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面，了解 Pine Script™ 中的时间范围规格）</font></font></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#custom-contexts"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">ticker.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用函数</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#custom-contexts"><font style="vertical-align: inherit;">自定义上下文</font></a><font style="vertical-align: inherit;">，包括备选会话、价格调整、图表类型等</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是该函数的签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.security(symbol, timeframe, expression, gaps, lookahead, ignore_invalid_symbol, currency, calc_bars_count) → series &lt;type&gt;</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值是代表要从中获取数据的代码的股票标识符。此参数接受以下任意格式的值：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示符号（例如“IBM”或“EURUSD”）或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“交易所：符号”对</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（例如“NYSE：IBM”或“OANDA：EURUSD”）的“字符串”。当值不包含交易所前缀时，函数会自动选择交易所。我们建议尽可能指定交易所前缀以获得一致的结果。用户还可以将空字符串传递给此参数，以提示函数使用当前图表的符号。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/support/solutions/43000502298/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示价差符号的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“字符串” </font><font style="vertical-align: inherit;">
（例如“AMD/INTC”）。请注意，“条形图重放”模式不适用于这些符号。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syminfo.ticker
</font><font style="vertical-align: inherit;">
或
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;">syminfo.tickerid</font></a><font style="vertical-align: inherit;">
内置变量，返回当前图表引用的符号或“交易所：符号”对。我们建议使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;">syminfo.tickerid以避免歧义，</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.ticker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除非</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
交易所信息在数据请求中无关紧要。有关</font><font style="vertical-align: inherit;">变量的更多信息，请参阅
我们</font><a href="/pine-script-docs/concepts/chart-information"><font style="vertical-align: inherit;">图表信息页面的</font></a><a href="/pine-script-docs/concepts/chart-information#symbol-information"><font style="vertical-align: inherit;">此</font></a><font style="vertical-align: inherit;">部分
</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">syminfo.*</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/chart-information#symbol-information"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/chart-information"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用函数创建的自定义股票代码标识符</font></font><code dir="auto">ticker.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。由这些函数构造的股票代码 ID 可能包含使用
</font></font><a href="/pine-script-docs/concepts/non-standard-charts-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算、替代会话和其他上下文请求数据的其他设置。
</font><font style="vertical-align: inherit;">有关更多信息，请参阅</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#custom-contexts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义上下文部分。</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值指定请求数据的时间范围。此参数接受我们
</font></font><a href="/pine-script-docs/concepts/timeframes#timeframe-string-specifications"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围规范</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式的“字符串”值（例如，“1D”值代表每日时间范围）。要从与脚本执行的图表相同的时间范围内请求数据，请使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_timeframe.period"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">timeframe.period</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
变量或空字符串。</font></font></p>
<p><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数的参数
</font><font style="vertical-align: inherit;">决定</font><font style="vertical-align: inherit;">
了它从指定上下文中检索的数据。这个多功能参数接受
</font><a href="/pine-script-docs/language/type-system#int"><font style="vertical-align: inherit;">int</font></a><font style="vertical-align: inherit;">、
 </font><a href="/pine-script-docs/language/type-system#float"><font style="vertical-align: inherit;">float</font></a><font style="vertical-align: inherit;">、
 </font><a href="/pine-script-docs/language/type-system#bool"><font style="vertical-align: inherit;">bool</font></a><font style="vertical-align: inherit;">、
 </font><a href="/pine-script-docs/language/type-system#color"><font style="vertical-align: inherit;">color</font></a><font style="vertical-align: inherit;">、
 </font><a href="/pine-script-docs/language/type-system#string"><font style="vertical-align: inherit;">string</font></a><font style="vertical-align: inherit;">和</font><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;">chart.point</font></a><font style="vertical-align: inherit;">类型的“系列”值。它还可以接受
</font><a href="/pine-script-docs/language/type-system#tuples"><font style="vertical-align: inherit;">tuple</font></a><font style="vertical-align: inherit;">、
 </font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;">collections</font></a><font style="vertical-align: inherit;">、
</font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;">用户定义类型</font></a><font style="vertical-align: inherit;">以及函数和
</font><a href="/pine-script-docs/language/methods"><font style="vertical-align: inherit;">方法</font></a><font style="vertical-align: inherit;">调用的输出。有关可以检索的数据的更多详细信息，请参阅
下面的</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#requestable-data"><font style="vertical-align: inherit;">可请求数据</font></a><font style="vertical-align: inherit;">部分。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#int"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#float"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#bool"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#color"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#string"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#tuples"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/methods"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#requestable-data"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_input.source"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当在参数中使用input.source()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用</font><font style="vertical-align: inherit;">的值
</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且输入引用另一个指标的系列时，</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数会使用</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表的符号</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算该值的结果，而不管</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
提供的参数是什么，因为它们无法评估外部系列所需的范围。因此，我们不建议尝试从其他上下文请求外部源输入数据。</font></font></p></div></aside>
<h3 id="timeframes" class="md-heading"><a href="#timeframes"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数可从任何可用时间范围请求数据，无论脚本在哪个图表上执行。检索到的数据的时间范围取决于</font></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数调用中的参数，该参数可能表示更高的时间范围（例如，在日内图表上运行脚本时使用“1D”作为值</font></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）或图表的时间范围（即使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_timeframe.period"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">timeframe.period</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或空字符串作为参数</font></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本还可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()请求较低时间范围内的</font></a></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有限</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据
</font><font style="vertical-align: inherit;">
（例如，</font><font style="vertical-align: inherit;">在 60 分钟图表上运行脚本时使用“1”作为参数）。但是，我们通常不建议将此函数用于 LTF 数据请求。
对于此类情况， </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a><font style="vertical-align: inherit;">
函数更为理想。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<h4 id="higher-timeframes" class="md-heading"><a href="#higher-timeframes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更高的</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的大多数用例
</font><font style="vertical-align: inherit;">
涉及请求高于或等于图表时间范围的数据。例如，此脚本
</font><font style="vertical-align: inherit;">
从请求中检索</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_hl2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hl2</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">higherTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价格。它将
结果系列与当前图表的</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_hl2"><font style="vertical-align: inherit;">hl2一起</font></a></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在图表上
</font><font style="vertical-align: inherit;">以供比较：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_hl2"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Timeframes-Higher-timeframes-1.Cfl6KncV_1tTnEJ.webp" alt="图像" width="1338" height="570" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="2bb"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Higher&nbsp;timeframe&nbsp;security&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;higher&nbsp;timeframe&nbsp;to&nbsp;request&nbsp;data&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">higherTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"240"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Higher&nbsp;timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`hl2`&nbsp;value&nbsp;from&nbsp;the&nbsp;`higherTimeframe`.&nbsp;Combi</span><span class="mtk9">nes&nbsp;lookahead&nbsp;with&nbsp;an&nbsp;offset&nbsp;to&nbsp;avoid&nbsp;repainting.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">htfPrice</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">higherTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">hl2</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`hl2`&nbsp;from&nbsp;the&nbsp;chart&nbsp;timeframe&nbsp;and&nbsp;the</span><span class="mtk9">&nbsp;`higherTimeframe`.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">hl2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Current&nbsp;timeframe&nbsp;HL2"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">htfPrice</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Higher&nbsp;timeframe&nbsp;HL2"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在参数中添加了一个偏移量</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并
</font><font style="vertical-align: inherit;">
在
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()中使用了</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
，以确保返回的序列在历史和实时条形图上的行为相同。
</font><font style="vertical-align: inherit;">有关更多信息，请参阅</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;">避免重绘部分。</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，在上面的例子中，可以选择一个
实际上代表比图表使用的</font><em><font style="vertical-align: inherit;">时间范围更低的</font></em></font><code dir="auto">higherTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">
，因为代码不会阻止它。在设计专门用于更高时间范围的脚本时，我们建议加入条件以防止其访问更低的时间范围，特别是如果您打算
</font><a href="/pine-script-docs/writing/publishing"><font style="vertical-align: inherit;">发布</font></a><font style="vertical-align: inherit;">它时。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/writing/publishing"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下面，我们在前面的示例中</font><font style="vertical-align: inherit;">添加了一个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_if"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构，
当</font><font style="vertical-align: inherit;">输入表示的时间范围小于图表时间范围时，会引发</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_runtime.error"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行时错误，从而有效地阻止脚本请求 LTF 数据：</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">higherTimeframe</code><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Timeframes-Higher-timeframes-2.DLmdElJ0_Z1Wqvh6.webp" alt="图像" width="804" height="304" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="1e"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Higher&nbsp;timeframe&nbsp;security&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;higher&nbsp;timeframe&nbsp;to&nbsp;request&nbsp;data&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">higherTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"240"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Higher&nbsp;timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Raise&nbsp;a&nbsp;runtime&nbsp;error&nbsp;when&nbsp;the&nbsp;`higherTimeframe</span><span class="mtk9">`&nbsp;is&nbsp;smaller&nbsp;than&nbsp;the&nbsp;chart's&nbsp;timeframe.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">(</span><span class="mtk33">higherTimeframe</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">runtime.error</span><span class="mtk13">(</span><span class="mtk29">"The&nbsp;requested&nbsp;timeframe&nbsp;is&nbsp;smaller&nbsp;than&nbsp;the&nbsp;chart</span><span class="mtk29">'s&nbsp;timeframe.&nbsp;Select&nbsp;a&nbsp;higher&nbsp;timeframe."</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`hl2`&nbsp;value&nbsp;from&nbsp;the&nbsp;`higherTimeframe`.&nbsp;Combi</span><span class="mtk9">nes&nbsp;lookahead&nbsp;with&nbsp;an&nbsp;offset&nbsp;to&nbsp;avoid&nbsp;repainting.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">htfPrice</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">higherTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">hl2</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`hl2`&nbsp;from&nbsp;the&nbsp;chart&nbsp;timeframe&nbsp;and&nbsp;the</span><span class="mtk9">&nbsp;`higherTimeframe`.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk11">hl2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Current&nbsp;timeframe&nbsp;HL2"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">htfPrice</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Higher&nbsp;timeframe&nbsp;HL2"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br></code></div>
<h4 id="lower-timeframes" class="md-heading"><a href="#lower-timeframes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低的</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数旨在在大于或等于图表时间范围的时间范围内运行，但它</font><font style="vertical-align: inherit;">也</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以</font></font></em><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从较低的时间范围请求数据，但有限制。当调用此函数访问较低的时间范围时，它将从 LTF 上下文中评估。但是，它只能返回</font><font style="vertical-align: inherit;">每个图表条上的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单个内部条（LTF 条）的结果。</font></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数在每个历史图表条形图上返回数据的 intrabar 取决于</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数调用中的值。使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，它将返回</font><font style="vertical-align: inherit;">图表周期中
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个可用的 intrabar。使用</font></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_off时，它将返回图表周期中的</font></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后一个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intrabar。在实时条形图上，它会</font><font style="vertical-align: inherit;">返回时间范围内的最后一个可用值</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，无论值如何</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为函数检索到的实时 intrabar 信息尚未排序。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本
</font><font style="vertical-align: inherit;">
从最接近图表时间范围大小四分之一的有效时间范围内
检索</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据。它使用
不同的值对</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行两次调用。第一次调用使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
访问每个图表条中的第一个内部条值。第二次调用使用默认</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值 ( </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_off</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )，它请求分配给每个图表条的最后一个内部条值。脚本在图表上</font></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两次调用的输出以比较差异：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Timeframes-Lower-timeframes-1.CzbZyyC2_Z2o4fpJ.webp" alt="图像" width="1258" height="552" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="w"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Lower&nbsp;timeframe&nbsp;security&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;valid&nbsp;timeframe&nbsp;closest&nbsp;to&nbsp;1/4&nbsp;the&nbsp;size&nbsp;of&nbsp;th</span><span class="mtk9">e&nbsp;chart&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.from_seconds</span><span class="mtk13">(</span><span class="mtk16">int</span><span class="mtk13">(</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`close`&nbsp;value&nbsp;on&nbsp;the&nbsp;`lowerTimeframe`.&nbsp;Repres</span><span class="mtk9">ents&nbsp;the&nbsp;first&nbsp;intrabar&nbsp;value&nbsp;on&nbsp;each&nbsp;chart&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">firstLTFClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`close`&nbsp;value&nbsp;on&nbsp;the&nbsp;`lowerTimeframe`.&nbsp;Repres</span><span class="mtk9">ents&nbsp;the&nbsp;last&nbsp;intrabar&nbsp;value&nbsp;on&nbsp;each&nbsp;chart&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">lastLTFClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;values.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">firstLTFClose</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"First&nbsp;intrabar&nbsp;close"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">lastLTFClose</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Last&nbsp;intrabar&nbsp;close"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;on&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">70</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;background&nbsp;highlight"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.in_seconds"><font style="vertical-align: inherit;">该脚本通过使用timeframe.in_seconds()</font></a></font><code dir="auto">lowerTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算图表时间范围内的秒数
</font><font style="vertical-align: inherit;">来确定值</font><font style="vertical-align: inherit;">，然后除以四并
</font><font style="vertical-align: inherit;">通过
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.from_seconds"><font style="vertical-align: inherit;">timeframe.from_seconds()将结果转换为</font></a><a href="/pine-script-docs/concepts/timeframes#timeframe-string-specifications"><font style="vertical-align: inherit;">有效的时间范围字符串</font></a><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.in_seconds"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/timeframes#timeframe-string-specifications"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.from_seconds"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有前瞻的系列图（</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.purple"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">紫色</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）与
图表时间范围内的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值对齐
，因为这是图表条中的最后一个条内值。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用都会在每个</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate.isrealtime"><font style="vertical-align: inherit;">实时条形图上返回</font></a></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值（当前
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
 ，如</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.orange"><font style="vertical-align: inherit;">橙色</font></a><font style="vertical-align: inherit;">背景
的条形图上所示
</font><font style="vertical-align: inherit;">
。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate.isrealtime"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_color.orange"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本可以从较低时间范围的上下文中检索最多 100,000 个内部条形图。请参阅
</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制</font></a><font style="vertical-align: inherit;">页面的
</font></font><a href="/pine-script-docs/writing/limitations#intrabars"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分
。</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然脚本可以使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索每个图表条上的
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部条
的值（这在某些特殊情况下可能会提供实用性），但我们建议在可能的情况下使用</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数进行内部条分析，因为它会返回一个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中包含图表条内
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用内部条的
数据。请参阅</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-security-lower-tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此部分</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解更多信息。</font></font></p></div></aside>
<h3 id="requestable-data" class="md-heading"><a href="#requestable-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可请求的</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
</font><font style="vertical-align: inherit;">
用途广泛，因为它可以检索任何基本类型（</font></font><a href="/pine-script-docs/language/type-system#int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="/pine-script-docs/language/type-system#float"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">float</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="/pine-script-docs/language/type-system#bool"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bool</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="/pine-script-docs/language/type-system#color"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">color</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a href="/pine-script-docs/language/type-system#string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的值。它还可以请求引用基本类型的数据结构和内置或
</font></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义类型</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的 ID 。此函数请求的数据取决于其</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，该参数接受以下任何参数：</font></font></p>
<ul>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#built-in-variables-and-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置变量和函数调用</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#calculated-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本计算的变量</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#tuples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#user-defined-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用用户定义函数</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#chart-points"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表要点</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收藏</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义类型</font></font></a></li>
</ul>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数会复制在另一个上下文中计算其请求值所需的范围和操作
</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这会增加运行时内存消耗。此外，每次调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产生的额外范围
都会计入脚本的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译限制</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。有关更多信息，请参阅
</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制</font></a><font style="vertical-align: inherit;">页面的
</font></font><a href="/pine-script-docs/writing/limitations#scope-count"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围计数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></div></aside>
<h4 id="built-in-variables-and-functions" class="md-heading"><a href="#built-in-variables-and-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置变量和</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的一个常见用例
是</font><font style="vertical-align: inherit;">从另一个符号或时间范围</font><font style="vertical-align: inherit;">
请求内置变量或函数/</font></font><a href="/pine-script-docs/language/methods"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法调用的输出。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，假设我们想在日内图上计算
</font><font style="vertical-align: inherit;">
某个符号
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_ohlc4"><font style="vertical-align: inherit;">ohlc4价格在日线时间范围内的 20 条</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.sma"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
。我们可以用一行代码完成此操作：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_ohlc4"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="3cz"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1D"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">ohlc4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">))</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上面这一行根据每日时间范围计算当前符号的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.sma"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ta.sma(ohlc4, 20)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的值。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值得注意的是，Pine 的新手有时可能会混淆上面的代码行，认为它等同于下面的代码行：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="3qa"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1D"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">ohlc4</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，此行将返回完全</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果。它不是从每日时间范围内请求 20 条 SMA，而是
</font><font style="vertical-align: inherit;">
从每日时间范围内
请求</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_ohlc4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ohlc4价格，并计算 20 条</font></font></a><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">图表条形图</font></strong><font style="vertical-align: inherit;">
结果的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.sma"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ta.sma()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本质上，当意图从其他上下文请求表达式的结果时，将表达式</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递给
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中的参数
</font><font style="vertical-align: inherit;">
，如最初的示例所示。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们扩展这个概念。下面的脚本计算多时间范围 (MTF) 移动平均线带，其中带中的每个移动平均线在其各自的时间范围内计算相同数量的条形图。每个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用都使用</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.sma"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ta.sma(close, length)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数来返回</font></font><code dir="auto">length</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定时间范围内的 -bar SMA：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Requestable-data-Built-in-variables-and-functions-1.CPvZdzBd_Z1LKRRo.webp" alt="图像" width="1342" height="570" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="23d"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;built-ins&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"MTF&nbsp;Ribbon"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;length&nbsp;of&nbsp;each&nbsp;moving&nbsp;average.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;seconds&nbsp;in&nbsp;the&nbsp;chart&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">chartSeconds</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">()</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Calculate&nbsp;the&nbsp;higher&nbsp;timeframes&nbsp;closest&nbsp;to&nbsp;2,&nbsp;3</span><span class="mtk9">,&nbsp;and&nbsp;4&nbsp;times&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;chart&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">htf1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.from_seconds</span><span class="mtk13">(</span><span class="mtk33">chartSeconds</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">htf2</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.from_seconds</span><span class="mtk13">(</span><span class="mtk33">chartSeconds</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">htf3</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.from_seconds</span><span class="mtk13">(</span><span class="mtk33">chartSeconds</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Calculate&nbsp;the&nbsp;`length`-bar&nbsp;moving&nbsp;averages&nbsp;from</span><span class="mtk9">&nbsp;each&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">chartAvg</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">ohlc4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">htfAvg1</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">htf1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">ohlc4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">))</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">htfAvg2</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">htf2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">ohlc4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">))</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">htfAvg3</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">htf3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.sma</span><span class="mtk13">(</span><span class="mtk11">ohlc4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;results.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">chartAvg</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Chart&nbsp;timeframe&nbsp;SMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">htfAvg1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Double&nbsp;timeframe&nbsp;SMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">htfAvg2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Triple&nbsp;timeframe&nbsp;SMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">htfAvg3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Quadruple&nbsp;timeframe&nbsp;SMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.blue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;on&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.aqua</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">70</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;highlight"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本通过将图表的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.in_seconds"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">timeframe.in_seconds()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值乘以 2、3 和 4 来计算功能区的更高时间范围，然后
</font><font style="vertical-align: inherit;">使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.from_seconds"><font style="vertical-align: inherit;">timeframe.from_seconds()将每个结果转换为</font></a></font><a href="/pine-script-docs/concepts/timeframes#timeframe-string-specifications"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效的时间范围字符串</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.from_seconds"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无需
</font><font style="vertical-align: inherit;">
在每个
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()调用中调用</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.sma"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ta.sma()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
，只需在每个调用中使用该</font><font style="vertical-align: inherit;">变量即可</font><font style="vertical-align: inherit;">
获得相同的结果。
</font><font style="vertical-align: inherit;">有关更多信息，请参阅</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#calculated-variables"><font style="vertical-align: inherit;">下一节。</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">chartAvg</code><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#calculated-variables"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在实时条形图上，此脚本还会跟踪</font><font style="vertical-align: inherit;">每个较高时间范围内
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未确认的SMA 值。请参阅</font></font></em><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#historical-and-realtime-behavior"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史和实时行为</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分以了解更多信息。</font></font></li>
</ul>
<h4 id="calculated-variables" class="md-heading"><a href="#calculated-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的参数
</font><font style="vertical-align: inherit;">接受</font><font style="vertical-align: inherit;">
在全局范围内声明的变量，允许脚本从其他上下文评估其变量的计算，而无需在每个函数调用中冗余地列出操作。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，可以声明以下变量：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="3zg"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk33">priceReturn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">])</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span></span><br></code></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并使用request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从另一个上下文执行变量的计算
</font><font style="vertical-align: inherit;">：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="77m"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk33">requestedReturn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbol</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceReturn</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面一行中的函数调用将返回
</font></font><code dir="auto">priceReturn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对另一个</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据的计算结果作为适合当前图表的系列，脚本可以直接在图表上显示该结果或在其他操作中使用。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下示例比较当前图表符号和另一个指定 的价格回报</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。脚本
</font></font><code dir="auto">priceReturn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从图表上下文中声明变量，然后在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中使用该变量
来评估其对另一个 的计算</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。然后，它计算
</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">
之间的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.correlation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关性</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并
</font><font style="vertical-align: inherit;">在图表上</font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;">绘制结果：</font></a></font><code dir="auto">priceReturn</code><font style="vertical-align: inherit;"></font><code dir="auto">requestedReturn</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Requestable-data-Calculated-variables-1.DpMsOLKI_Z6c3MD.webp" alt="图像" width="1342" height="572" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="2c1"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;calculated&nbsp;variables&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Price&nbsp;return&nbsp;correlation"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;symbol&nbsp;to&nbsp;compare&nbsp;to&nbsp;the&nbsp;chart&nbsp;symbol.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.symbol</span><span class="mtk13">(</span><span class="mtk29">"SPY"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol&nbsp;to&nbsp;compare"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;in&nbsp;the&nbsp;calculation&nbsp;window.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">60</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;close-to-close&nbsp;price&nbsp;return.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceReturn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">])</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;close-to-close&nbsp;price&nbsp;return&nbsp;calculated&nbsp;on&nbsp;ano</span><span class="mtk9">ther&nbsp;`symbol`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedReturn</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbol</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceReturn</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;correlation&nbsp;between&nbsp;the&nbsp;`priceReturn`&nbsp;and&nbsp;`re</span><span class="mtk9">questedReturn`&nbsp;over&nbsp;`length`&nbsp;bars.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">correlation</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.correlation</span><span class="mtk13">(</span><span class="mtk33">priceReturn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedReturn</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;color&nbsp;of&nbsp;the&nbsp;correlation&nbsp;plot.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">plotColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.from_gradient</span><span class="mtk13">(</span><span class="mtk33">correlation</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">-1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;correlation&nbsp;value.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">correlation</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Correlation"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">plotColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用执行与声明中相同的计算</font></font><code dir="auto">priceReturn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
，但它使用
</font><font style="vertical-align: inherit;">
从输入中获取的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接近</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该脚本根据值使用</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_color.from_gradient"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渐变色</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为图表着色
</font></font><code dir="auto">correlation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。要了解有关 Pine 中颜色渐变的更多信息，请参阅
我们用户手册中有关</font><a href="/pine-script-docs/concepts/colors"><font style="vertical-align: inherit;">颜色</font></a><font style="vertical-align: inherit;">的页面的
</font></font><a href="/pine-script-docs/concepts/colors#color-from-gradient"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font><a href="/pine-script-docs/concepts/colors"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h4 id="tuples" class="md-heading"><a href="#tuples"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><a href="/pine-script-docs/language/type-system#tuples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™ 中的元组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是用逗号分隔的括号中的表达式集，可以容纳任何可用类型的多个值。我们在创建返回多个值的函数或其他本地块时使用元组。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数可以接受元组作为其</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，从而允许脚本使用单个函数调用请求多个不同类型的系列。请求的元组中的表达式可以是
</font><font style="vertical-align: inherit;">本页</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#requestable-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可请求数据部分中列出的任何类型，但不包括其他元组。</font></font></a><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本中调用
</font><font style="vertical-align: inherit;">返回的所有元组的总大小不能超过 127 个元素。</font><font style="vertical-align: inherit;">有关更多信息，请参阅</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制页面的</font></a></font><a href="/pine-script-docs/writing/limitations#tuple-element-limit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分
。</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当脚本需要从特定上下文中检索多个值时，元组特别方便。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，此脚本计算</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;">收盘</font></a><font style="vertical-align: inherit;">
价在柱状图上</font><font style="vertical-align: inherit;">
的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.percentrank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百分比排名</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并将表达式分配给变量</font><font style="vertical-align: inherit;">
。然后，它调用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">来
从指定的</font><font style="vertical-align: inherit;">
请求包含</font><font style="vertical-align: inherit;">、</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.crossover"><font style="vertical-align: inherit;">ta.crossover(rank, 50)</font></a><font style="vertical-align: inherit;">和</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.crossunder"><font style="vertical-align: inherit;">ta.crossunder(rank, 50)</font></a><font style="vertical-align: inherit;">值的元组</font><font style="vertical-align: inherit;">。该脚本
</font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;">绘制</font></a><font style="vertical-align: inherit;">
并使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_bgcolor"><font style="vertical-align: inherit;">bgcolor()</font></a><font style="vertical-align: inherit;">中的和</font><font style="vertical-align: inherit;">“bool”值
</font><font style="vertical-align: inherit;">
有条件地突出显示图表窗格的背景：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">length</code><font style="vertical-align: inherit;"></font><code dir="auto">rank</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">rank</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.crossover"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.crossunder"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">requestedRank</code><font style="vertical-align: inherit;"></font><code dir="auto">crossOver</code><font style="vertical-align: inherit;"></font><code dir="auto">crossUnder</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_bgcolor"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Requestable-data-Tuples-1.DfMFJD2A_22M4RL.webp" alt="图像" width="1342" height="572" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="62p"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;tuples&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Percent&nbsp;rank&nbsp;cross"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;request.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"240"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;in&nbsp;the&nbsp;calculation.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Length"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;previous&nbsp;bar's&nbsp;percent&nbsp;rank&nbsp;of&nbsp;the&nbsp;`close`&nbsp;pr</span><span class="mtk9">ice&nbsp;over&nbsp;`length`&nbsp;bars.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">rank</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.percentrank</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)[</span><span class="mtk12">1</span><span class="mtk13">]</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Request&nbsp;the&nbsp;`rank`&nbsp;value&nbsp;from&nbsp;another&nbsp;`timefram</span><span class="mtk9">e`,&nbsp;and&nbsp;two&nbsp;"bool"&nbsp;values&nbsp;indicating&nbsp;the&nbsp;`rank`&nbsp;fr</span><span class="mtk9">om&nbsp;the&nbsp;`timeframe`</span></span><br><span><span class="mtk9">//&nbsp;crossed&nbsp;over&nbsp;or&nbsp;under&nbsp;50.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">requestedRank</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">crossOver</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">crossUnder</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk33">rank</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk33">rank</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">rank</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)]</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`requestedRank`&nbsp;and&nbsp;create&nbsp;a&nbsp;horizonta</span><span class="mtk9">l&nbsp;line&nbsp;at&nbsp;50.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">requestedRank</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Percent&nbsp;Rank"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">linewidth</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">hline</span><span class="mtk13">(</span><span class="mtk12">50</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Cross&nbsp;line"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">linewidth</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;of&nbsp;all&nbsp;bars&nbsp;where&nbsp;the&nbsp;</span><span class="mtk9">`timeframe`'s&nbsp;`crossOver`&nbsp;or&nbsp;`crossUnder`&nbsp;value&nbsp;is</span><span class="mtk9">&nbsp;`true`.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk33">crossOver</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.green</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk33">crossUnder</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"></font><code dir="auto">rank</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用历史引用运算符
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#op_%5B%5D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[]</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将变量的表达式偏移了一个条形图</font><font style="vertical-align: inherit;">
，并
</font><font style="vertical-align: inherit;">
在
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()调用中包含了</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
，以确保实时条形图上的值在成为历史条形图后不会重新绘制。有关更多信息，请参阅
</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;">避免重新绘制</font></a><font style="vertical-align: inherit;">部分。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用返回一个元组，因此我们使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组声明</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来声明</font></font><code dir="auto">requestedRank</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code dir="auto">crossOver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code dir="auto">crossUnder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量。要了解有关使用元组的更多信息，请参阅
</font><font style="vertical-align: inherit;">我们用户手册的
</font><a href="/pine-script-docs/language/type-system"><font style="vertical-align: inherit;">类型系统</font></a><font style="vertical-align: inherit;">
页面的</font></font><a href="/pine-script-docs/language/type-system#tuples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此部分。</font></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h4 id="user-defined-functions" class="md-heading"><a href="#user-defined-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="/pine-script-docs/language/methods#user-defined-methods"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是由用户编写的自定义函数。它们允许用户定义与标识符关联的操作序列，脚本可以在执行过程中方便地调用这些操作序列（例如</font></font><code dir="auto">myUDF()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()函数可以请求</font></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义的函数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="/pine-script-docs/language/methods#user-defined-methods"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的结果
</font><font style="vertical-align: inherit;">
，其范围由本页的
</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#requestable-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可请求数据</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分概述的任何类型组成。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，此脚本包含一个用户定义</font></font><code dir="auto">weightedBB()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数，该函数使用由指定系列加权的基准平均值来计算布林带</font></font><code dir="auto">weight</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。该函数返回
自定义带值</font></font><a href="/pine-script-docs/language/type-system#tuples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。脚本调用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">
中的参数
</font></font><code dir="auto">weightedBB()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font><font style="vertical-align: inherit;">
检索
</font><font style="vertical-align: inherit;">根据指定计算的带值元</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#tuples"><font style="vertical-align: inherit;">组</font></a><font style="vertical-align: inherit;">，并
</font><font style="vertical-align: inherit;">在图表上</font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;">绘制结果：</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#tuples"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Requestable-data-User-defined-functions-1.DTi5QOZX_ZMtoWB.webp" alt="图像" width="1342" height="578" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="57t"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;user-defined&nbsp;functions&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Weighted&nbsp;Bollinger&nbsp;Bands"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;request.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"480"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculates&nbsp;Bollinger&nbsp;Bands&nbsp;with&nbsp;a&nbsp;custom&nbsp;weig</span><span class="mtk9">hted&nbsp;basis.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@param</span><span class="mtk9">&nbsp;source&nbsp;The&nbsp;series&nbsp;of&nbsp;values&nbsp;to&nbsp;process.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@param</span><span class="mtk9">&nbsp;length&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;in&nbsp;the&nbsp;calculation.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@param</span><span class="mtk9">&nbsp;mult&nbsp;&nbsp;&nbsp;The&nbsp;standard&nbsp;deviation&nbsp;multiplier.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@param</span><span class="mtk9">&nbsp;weight&nbsp;The&nbsp;series&nbsp;of&nbsp;weights&nbsp;corresponding&nbsp;to&nbsp;eac</span><span class="mtk9">h&nbsp;`source`&nbsp;value.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@returns</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;tuple&nbsp;containing&nbsp;the&nbsp;basis,&nbsp;upper&nbsp;band,&nbsp;an</span><span class="mtk9">d&nbsp;lower&nbsp;band&nbsp;respectively.</span></span><br><span><span class="mtk15">weightedBB</span><span class="mtk13">(</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">source</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">mult</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">2.0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">weight</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1.0</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;basis&nbsp;of&nbsp;the&nbsp;bands.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.sum</span><span class="mtk13">(</span><span class="mtk33">source</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">weight</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.sum</span><span class="mtk13">(</span><span class="mtk33">weight</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;standard&nbsp;deviation&nbsp;from&nbsp;the&nbsp;`ma`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">dev</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Loop&nbsp;to&nbsp;accumulate&nbsp;squared&nbsp;error.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">for</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">difference</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">source</span><span class="mtk13">[</span><span class="mtk33">i</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">dev</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk33">difference</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">difference</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Divide&nbsp;`dev`&nbsp;by&nbsp;the&nbsp;`length`,&nbsp;take&nbsp;the&nbsp;square&nbsp;r</span><span class="mtk9">oot,&nbsp;and&nbsp;multiply&nbsp;by&nbsp;the&nbsp;`mult`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">dev</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.sqrt</span><span class="mtk13">(</span><span class="mtk33">dev</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">mult</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;the&nbsp;bands.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">[</span><span class="mtk33">ma</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">dev</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">ma</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk33">dev</span><span class="mtk13">]</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Request&nbsp;weighted&nbsp;bands&nbsp;calculated&nbsp;on&nbsp;the&nbsp;chart&nbsp;</span><span class="mtk9">symbol's&nbsp;prices&nbsp;over&nbsp;20&nbsp;bars&nbsp;from&nbsp;the</span></span><br><span><span class="mtk9">//&nbsp;last&nbsp;confirmed&nbsp;bar&nbsp;on&nbsp;the&nbsp;`timeframe`.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">basis</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">highBand</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowBand</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">weightedBB</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2.0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">)[</span><span class="mtk12">1</span><span class="mtk13">])</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;values.</span></span><br><span><span class="mtk33">basisPlot</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">basis</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Basis"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk33">upperPlot</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">highBand</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Upper"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk33">lowerPlot</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">lowBand</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Lower"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.maroon</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span class="mtk16">fill</span><span class="mtk13">(</span><span class="mtk33">upperPlot</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerPlot</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.gray</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">90</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Background"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们</font><font style="vertical-align: inherit;">在
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">中偏移了用作 的调用中的</font></font><code dir="auto">source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code dir="auto">weight</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数
</font><font style="vertical-align: inherit;">
，并使用了
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></a><font style="vertical-align: inherit;">来确保请求的结果反映了实时条形图中
</font><font style="vertical-align: inherit;">
最后确认的值。请参阅</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;">此部分</font></a><font style="vertical-align: inherit;">以了解更多信息。</font></font><code dir="auto">weightedBB()</code><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h4 id="chart-points" class="md-heading"><a href="#chart-points"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要点</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表点</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是表示图表上坐标的引用类型。
</font></font><a href="/pine-script-docs/concepts/lines-and-boxes#lines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="/pine-script-docs/concepts/lines-and-boxes#boxes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="/pine-script-docs/concepts/lines-and-boxes#polylines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">折线</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="/pine-script-docs/concepts/text-and-shapes#labels"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_chart.point"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chart.point</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对象来设置其显示位置。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数可以
在其参数中使用</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_chart.point"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chart.point</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例
的 ID
 </font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，允许脚本从其他上下文中检索图表坐标。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面的示例请求更高时间范围内的历史
</font></font><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表点</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组，并使用它们在图表上</font><font style="vertical-align: inherit;">绘制
</font></font><a href="/pine-script-docs/concepts/lines-and-boxes#boxes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。脚本声明引用
最后确认的条形图
的</font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_chart.point"><font style="vertical-align: inherit;">chart.point</font></a></font><code dir="auto">topLeft</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ID 的和</font></font><code dir="auto">bottomRight</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量
。然后，它使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">
请求
包含</font><font style="vertical-align: inherit;">代表</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">的
</font><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;">图表点</font></a><font style="vertical-align: inherit;">ID 的
</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#tuples"><font style="vertical-align: inherit;">元组</font></a><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_chart.point"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#tuples"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">topLeft</code><font style="vertical-align: inherit;"></font><code dir="auto">bottomRight</code><font style="vertical-align: inherit;"></font><code dir="auto">higherTimeframe</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当在 上开始新的条形图时</font></font><code dir="auto">higherTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，脚本将</font><font style="vertical-align: inherit;">
使用</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">坐标从</font><font style="vertical-align: inherit;">和
</font><font style="vertical-align: inherit;">图表点绘制一个</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_box.new"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新框：</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">time</code><font style="vertical-align: inherit;"></font><code dir="auto">price</code><font style="vertical-align: inherit;"></font><code dir="auto">requestedTopLeft</code><font style="vertical-align: inherit;"></font><code dir="auto">requestedBottomRight</code><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Requestable-data-Chart-points-1.C5dKnJ3R_Z1YxlJR.webp" alt="图像" width="1342" height="570" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="3ik"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;chart&nbsp;points&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"HTF&nbsp;Boxes"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">max_boxes_count</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">500</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;timeframe&nbsp;to&nbsp;request&nbsp;data&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">higherTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"1D"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Raise&nbsp;a&nbsp;runtime&nbsp;error&nbsp;if&nbsp;the&nbsp;`higherTimeframe`&nbsp;</span><span class="mtk9">is&nbsp;smaller&nbsp;than&nbsp;the&nbsp;chart's&nbsp;timeframe.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">(</span><span class="mtk33">higherTimeframe</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">&lt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">(</span><span class="mtk11">timeframe.period</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">runtime.error</span><span class="mtk13">(</span><span class="mtk29">"The&nbsp;selected&nbsp;timeframe&nbsp;is&nbsp;too&nbsp;small.&nbsp;Choose&nbsp;a&nbsp;hig</span><span class="mtk29">her&nbsp;timeframe."</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;`chart.point`&nbsp;containing&nbsp;top-left&nbsp;coordinates&nbsp;f</span><span class="mtk9">rom&nbsp;the&nbsp;last&nbsp;confirmed&nbsp;bar.</span></span><br><span><span class="mtk33">topLeft</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">chart.point.now</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk13">)[</span><span class="mtk12">1</span><span class="mtk13">]</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;`chart.point`&nbsp;containing&nbsp;bottom-right&nbsp;coordinat</span><span class="mtk9">es&nbsp;from&nbsp;the&nbsp;last&nbsp;confirmed&nbsp;bar.</span></span><br><span><span class="mtk33">bottomRight</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">chart.point.from_time</span><span class="mtk13">(</span><span class="mtk11">time_close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">)[</span><span class="mtk12">1</span><span class="mtk13">]</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Request&nbsp;the&nbsp;last&nbsp;confirmed&nbsp;`topLeft`&nbsp;and&nbsp;`botto</span><span class="mtk9">mRight`&nbsp;chart&nbsp;points&nbsp;from&nbsp;the&nbsp;`higherTimeframe`.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">requestedTopLeft</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedBottomRight</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">higherTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk33">topLeft</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bottomRight</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Draw&nbsp;a&nbsp;new&nbsp;box&nbsp;when&nbsp;a&nbsp;new&nbsp;`higherTimeframe`&nbsp;bar</span><span class="mtk9">&nbsp;starts.</span></span><br><span><span class="mtk9">//&nbsp;The&nbsp;box&nbsp;uses&nbsp;the&nbsp;`time`&nbsp;fields&nbsp;from&nbsp;the&nbsp;`reques</span><span class="mtk9">tedTopLeft`&nbsp;and&nbsp;`requestedBottomRight`&nbsp;as&nbsp;x-coordi</span><span class="mtk9">nates.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.change</span><span class="mtk13">(</span><span class="mtk33">higherTimeframe</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">box.new</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">requestedTopLeft</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedBottomRight</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">xloc</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">xloc.bar_time</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bgcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">90</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于此示例是专门为更高的时间范围设计的，因此我们包含了一个自定义</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_runtime.error"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行时错误，当</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.in_seconds"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">timeframe.in_seconds()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小于</font></font><code dir="auto">higherTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_timeframe.period"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的时间范围</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
时，脚本会引发该
错误</font><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<h4 id="collections" class="md-heading"><a href="#collections"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收藏</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="/pine-script-docs/language/maps"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">映射</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）是包含任意数量具有指定类型的元素的数据结构。
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数可以检索元素包含以下内容的</font></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的 ID
 ：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本类型</font></font></li>
<li><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表要点</font></font></a></li>
<li><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><a href="/pine-script-docs/concepts/other-timeframes-and-data#user-defined-types"><font style="vertical-align: inherit;">满足以下部分</font></a><font style="vertical-align: inherit;">所列条件的
</font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;">用户定义类型</font></a></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#user-defined-types"><font style="vertical-align: inherit;"></font></a></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例计算已确认条形图的高低范围与
</font><font style="vertical-align: inherit;">
从指定</font><font style="vertical-align: inherit;">和开始的 10 条条形图的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.highest"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最高</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.lowest"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值之间的范围的比率。它使用
</font><a href="/pine-script-docs/language/maps"><font style="vertical-align: inherit;">映射</font></a><font style="vertical-align: inherit;">来保存计算中使用的值。</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/maps"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本创建一个</font></font><code dir="auto">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有“string”键和“float”值的映射，以保存
</font><font style="vertical-align: inherit;">
每个条形图上的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_low"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.highest"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最高价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.lowest"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价值，并在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中使用这些值
来计算</font></font><code dir="auto">otherData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示</font></font><code dir="auto">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定上下文的映射。它使用与映射的“High”、“Low”、“Highest”和“Lowest”键关联的值</font></font><code dir="auto">otherData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来计算</font><font style="vertical-align: inherit;">图表窗格中的</font></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比例</font></font><code dir="auto">that it</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图：</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Requestable-data-Collections-1.C6G31C3k_2bffgq.webp" alt="图像" width="1342" height="570" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="11f"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;collections&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Bar&nbsp;range&nbsp;ratio"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;ticker&nbsp;ID&nbsp;to&nbsp;request&nbsp;data&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.symbol</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;request.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"30"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;map&nbsp;with&nbsp;"string"&nbsp;keys&nbsp;and&nbsp;"float"&nbsp;values.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">map</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">string</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">data</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">map.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">string</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;()</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Put&nbsp;key-value&nbsp;pairs&nbsp;into&nbsp;the&nbsp;`data`&nbsp;map.</span></span><br><span><span class="mtk16">map.put</span><span class="mtk13">(</span><span class="mtk33">data</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"High"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br><span><span class="mtk16">map.put</span><span class="mtk13">(</span><span class="mtk33">data</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Low"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk13">)</span></span><br><span><span class="mtk16">map.put</span><span class="mtk13">(</span><span class="mtk33">data</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Highest"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.highest</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk13">))</span></span><br><span><span class="mtk16">map.put</span><span class="mtk13">(</span><span class="mtk33">data</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Lowest"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.lowest</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;new&nbsp;`map`&nbsp;whose&nbsp;data&nbsp;is&nbsp;calculated&nbsp;from&nbsp;the&nbsp;las</span><span class="mtk9">t&nbsp;confirmed&nbsp;bar&nbsp;of&nbsp;the&nbsp;requested&nbsp;context.</span></span><br><span><span class="mtk18 mtkb">map</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">string</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">otherData</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbol</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">data</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;ratio&nbsp;of&nbsp;the&nbsp;context's&nbsp;bar&nbsp;range&nbsp;to&nbsp;the&nbsp;max&nbsp;r</span><span class="mtk9">ange&nbsp;over&nbsp;10&nbsp;bars.&nbsp;Returns&nbsp;`na`&nbsp;if&nbsp;no&nbsp;data&nbsp;is&nbsp;avai</span><span class="mtk9">lable.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">ratio</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk18">not</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">otherData</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">ratio</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk33">otherData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk29">"High"</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk33">otherData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk29">"Low"</span><span class="mtk13">))</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk33">otherData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk29">"Highest"</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk33">otherData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk29">"Lowest"</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;gradient&nbsp;color&nbsp;for&nbsp;the&nbsp;plot&nbsp;of&nbsp;the&nbsp;`ratio`.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">ratioColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.from_gradient</span><span class="mtk13">(</span><span class="mtk33">ratio</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`ratio`.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">ratio</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Range&nbsp;Ratio"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">ratioColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果指定上下文中没有可用数据，此脚本中的 request.security() 调用将返回 na。由于当映射变量的值为 na 时无法对其调用</font><font style="vertical-align: inherit;">方法
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#type_map"><font style="vertical-align: inherit;">添加</font></a><font style="vertical-align: inherit;">了
</font><font style="vertical-align: inherit;">
if
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;">结构</font></a></font><a href="/pine-script-docs/language/methods"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以便
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_if"><font style="vertical-align: inherit;">仅</font></a><font style="vertical-align: inherit;">
在</font><font style="vertical-align: inherit;">引用</font><font style="vertical-align: inherit;">
有效
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_map"><font style="vertical-align: inherit;">映射</font></a><font style="vertical-align: inherit;">
ID 时计算新值。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_map"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_if"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">ratio</code><font style="vertical-align: inherit;"></font><code dir="auto">otherData</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_map"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h4 id="user-defined-types" class="md-heading"><a href="#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义类型 (UDT)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">包含任意数量
</font><em><font style="vertical-align: inherit;">字段的</font></em></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复合类型</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这些字段可以是任何可用类型，包括其他
</font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;">用户定义类型</font></a><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;">如果UDT</font></a><font style="vertical-align: inherit;">生成的
对象的</font><font style="vertical-align: inherit;">
字段包含以下内容，则 request.security() 函数可以从其他上下文中</font><font style="vertical-align: inherit;">检索
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些</font></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的 ID
 ：</font></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本类型</font></font></li>
<li><a href="/pine-script-docs/language/type-system#chart-points"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表要点</font></font></a></li>
<li><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><a href="/pine-script-docs/concepts/other-timeframes-and-data#collections"><font style="vertical-align: inherit;">满足上文</font></a><font style="vertical-align: inherit;">所列标准的
</font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;">藏品</font></a></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#collections"><font style="vertical-align: inherit;"></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段由以下任意类型组成的</font><font style="vertical-align: inherit;">其他</font></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDT</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下示例
</font><font style="vertical-align: inherit;">使用指定的请求</font></font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID ，并在图表窗格上显示其字段值。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本包含一个</font></font><code dir="auto">TickerInfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDT，其中包含用于
</font></font><code dir="auto">syminfo.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值
的“字符串”字段</font><font style="vertical-align: inherit;">
、用于存储最近“浮点”价格数据的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组字段以及用于保存请求的股票行情的</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_bar_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bar_index</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值的“整数”字段。它为每个条形图上的变量分配一个新的</font></font><code dir="auto">TickerInfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID </font></font><code dir="auto">info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并使用该变量作为</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的
，以检索表示</font><font style="vertical-align: inherit;">从指定的
</font><font style="vertical-align: inherit;">计算出的 的</font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;">对象</font></a><font style="vertical-align: inherit;">
的 ID </font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">info</code><font style="vertical-align: inherit;"></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本在</font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_label"><font style="vertical-align: inherit;">标签</font></a></font><code dir="auto">requestedInfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中显示对象的</font></font><code dir="auto">description</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><code dir="auto">tickerType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code dir="auto">currency</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code dir="auto">barIndex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值
</font><font style="vertical-align: inherit;">
，并使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle"><font style="vertical-align: inherit;">plotcandle()</font></a><font style="vertical-align: inherit;">
显示其</font><font style="vertical-align: inherit;">数组中的值：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_label"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">prices</code><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-Requestable-data-User-defined-types-1.D90DRv4r_1OUO19.webp" alt="图像" width="1342" height="572" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="4u5"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;user-defined&nbsp;types&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Ticker&nbsp;info"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;symbol&nbsp;to&nbsp;request&nbsp;information&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.symbol</span><span class="mtk13">(</span><span class="mtk29">"NASDAQ:AAPL"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@type</span><span class="mtk9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;custom&nbsp;type&nbsp;containing&nbsp;informatio</span><span class="mtk9">n&nbsp;about&nbsp;a&nbsp;ticker.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;description&nbsp;&nbsp;The&nbsp;symbol's&nbsp;description.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;tickerType&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;ticker.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;currency&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;symbol's&nbsp;currency.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;prices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;array&nbsp;of&nbsp;the&nbsp;symbol's&nbsp;current&nbsp;pri</span><span class="mtk9">ces.</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@field</span><span class="mtk9">&nbsp;barIndex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;ticker's&nbsp;`bar_index`.</span></span><br><span><span class="mtk18">type</span><span class="mtk1">&nbsp;</span><span class="mtk33">TickerInfo</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">description</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">tickerType</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">currency</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">prices</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">barIndex</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;`TickerInfo`&nbsp;object&nbsp;containing&nbsp;current&nbsp;data.</span></span><br><span><span class="mtk33">info</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">TickerInfo</span><span class="mtk1">.</span><span class="mtk15">new</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">syminfo.description</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">syminfo.type</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">syminfo.currency</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`info`&nbsp;requested&nbsp;from&nbsp;the&nbsp;specified&nbsp;`symbol`.</span></span><br><span><span class="mtk18 mtkb">TickerInfo</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbol</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">info</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Assign&nbsp;a&nbsp;new&nbsp;`TickerInfo`&nbsp;instance&nbsp;to&nbsp;`requeste</span><span class="mtk9">dInfo`&nbsp;if&nbsp;one&nbsp;wasn't&nbsp;retrieved.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">requestedInfo</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">&nbsp;</span><span class="mtk18">:=</span><span class="mtk1">&nbsp;</span><span class="mtk33">TickerInfo</span><span class="mtk1">.</span><span class="mtk15">new</span><span class="mtk13">(</span><span class="mtk33">prices</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;(</span><span class="mtk12">4</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;label&nbsp;displaying&nbsp;information&nbsp;from&nbsp;the&nbsp;`requeste</span><span class="mtk9">dInfo`&nbsp;object.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">infoLabel</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_left</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">textcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.white</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.large</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;text&nbsp;to&nbsp;display&nbsp;inside&nbsp;the&nbsp;`infoLabel`.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">infoText</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">requestedInfo</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk29">"{0}\nType:&nbsp;{1}\nCurrency:&nbsp;{2}\nBar&nbsp;Index:&nbsp;{3}"</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">description</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">tickerType</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">currency</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">barIndex</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Set&nbsp;the&nbsp;`point`&nbsp;and&nbsp;`text`&nbsp;of&nbsp;the&nbsp;`infoLabel`.</span></span><br><span><span class="mtk16">label.set_point</span><span class="mtk13">(</span><span class="mtk33">infoLabel</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">chart.point.now</span><span class="mtk13">(</span><span class="mtk16">array.last</span><span class="mtk13">(</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">prices</span><span class="mtk13">)))</span></span><br><span><span class="mtk16">label.set_text</span><span class="mtk13">(</span><span class="mtk33">infoLabel</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">infoText</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;candles&nbsp;using&nbsp;the&nbsp;values&nbsp;from&nbsp;the&nbsp;`prices`</span><span class="mtk9">&nbsp;array&nbsp;of&nbsp;the&nbsp;`requestedInfo`.</span></span><br><span><span class="mtk16">plotcandle</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">prices</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">0</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">prices</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">1</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">prices</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedInfo</span><span class="mtk1">.</span><span class="mtk33">prices</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">3</span><span class="mtk13">)</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk29">"Requested&nbsp;Prices"</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本中使用的变量</font></font><code dir="auto">syminfo.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">均返回“简单字符串”限定类型。但是，
 </font><font style="vertical-align: inherit;">Pine 中的</font></font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始终</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被限定为“系列”。因此，分配给</font></font><code dir="auto">info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象字段的所有值都会自动采用“系列”
</font></font><a href="/pine-script-docs/language/type-system#qualifiers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限定符</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于请求的数据</font><font style="vertical-align: inherit;">
与主图表之间存在差异， </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用可能
</font><font style="vertical-align: inherit;">
会返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 。在这种情况下，此脚本会将一个新</font><font style="vertical-align: inherit;">
对象分配给 ，以防止运行时错误。</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"></font><code dir="auto">TickerInfo</code><font style="vertical-align: inherit;"></font><code dir="auto">requestedInfo</code><font style="vertical-align: inherit;"></font></li>
</ul>
<h2 id="requestsecurity_lower_tf" class="md-heading"><a href="#requestsecurity_lower_tf"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`请求.security_lower_tf()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
是</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的替代方案
</font><font style="vertical-align: inherit;">
，旨在可靠地从较低时间帧 (LTF) 上下文请求信息。</font></font></p>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以从每个图表条中的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部条 (LTF 条) 检索数据，
</font><font style="vertical-align: inherit;">而
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以
从每个图表条中</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用的内部条中检索数据，脚本可以访问这些数据并将其用于其他计算。每次
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用都可以从较低的时间范围内检索最多 100,000 个内部条。有关更多信息，请参阅
我们的</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制页面的</font></a></font><a href="/pine-script-docs/writing/limitations#request-calls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
部分</font><font style="vertical-align: inherit;">。</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时
，需要频繁使用</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为它总是返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果。因此，我们建议您熟悉
</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便在脚本中充分利用此功能。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面是该函数的签名，与request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似
</font><font style="vertical-align: inherit;">：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.security_lower_tf(symbol, timeframe, expression, ignore_invalid_symbol, currency, ignore_invalid_timeframe, calc_bars_count) → array&lt;type&gt;</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此函数</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求小于或等于图表时间范围的时间范围的数据。如果</font></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求的时间范围高于</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_timeframe.period"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表的时间范围</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则该函数将引发运行时错误或返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值，具体取决于</font></font><code dir="auto">ignore_invalid_timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中的参数。此参数的默认值为</font></font><code dir="auto">false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这意味着在尝试请求 HTF 数据时它将引发错误并停止脚本的执行。</font></font></p>
<h3 id="requesting-intrabar-data" class="md-heading"><a href="#requesting-intrabar-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求内部</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intrabar 数据可以为脚本提供额外的信息，这些信息可能不明显，或者仅通过分析图表的计时器框架上采样的数据无法获得。
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数可以从 intrabar 上下文中检索许多数据类型。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在进一步了解本节之前，我们建议您先了解一下
上文</font><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">部分中的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#requestable-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可请求数据</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分
，该部分提供了有关可请求数据类型的基本信息。 </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a><font style="vertical-align: inherit;">中的参数
</font><font style="vertical-align: inherit;">
接受该部分中讨论的大部分相同参数，但不包括对
脚本主范围内声明的</font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;">集合</font></a><font style="vertical-align: inherit;">和可变变量的直接引用。虽然它接受许多相同类型的参数，但此函数返回
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;">数组</font></a><font style="vertical-align: inherit;">
结果，这在解释和处理方面存在一些差异，如下所述。</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#request-security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会重复计算另一个上下文所需的范围和操作
。 </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的范围
</font><font style="vertical-align: inherit;">
会增加运行时内存消耗，并计入脚本的编译限制。请参阅
</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制</font></a><font style="vertical-align: inherit;">页面的
</font><a href="/pine-script-docs/writing/limitations#scope-count"><font style="vertical-align: inherit;">范围计数</font></a><font style="vertical-align: inherit;">部分以了解更多信息。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/writing/limitations#scope-count"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></div></aside>
<h3 id="intrabar-data-arrays" class="md-heading"><a href="#intrabar-data-arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intrabar 数据</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阵列</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低的时间范围比较高的时间范围包含更多的数据点，因为新值的出现</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">频率更高</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。例如，当比较 1 分钟图和 1 小时图时，1 分钟图每小时的条形图数量最多是 60 倍，具体取决于可用数据。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了解决图表条内有多个内部条的情况，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总是以</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组形式返回其结果。返回</font></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的元素
</font><font style="vertical-align: inherit;">表示
</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从较低时间范围内检索的值，并根据每个内部条的时间戳按升序排序。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配给返回
</font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;">数组的</font></a></font><a href="/pine-script-docs/language/type-system#type-templates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型模板</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a><font style="vertical-align: inherit;">调用中传递的值类型相对应
</font><font style="vertical-align: inherit;">
。例如，使用“int”作为将</font><font style="vertical-align: inherit;">生成一个
</font><font style="vertical-align: inherit;">实例，“bool”作为</font><font style="vertical-align: inherit;">将生成一个
</font><font style="vertical-align: inherit;">实例，等等。</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><code dir="auto">array&lt;int&gt;</code><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><code dir="auto">array&lt;bool&gt;</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下脚本使用 intrabar 信息将图表的收盘价变化分解为正值和负值。它调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从每个图表条形图上的 中</font><font style="vertical-align: inherit;">
获取
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.change"><font style="vertical-align: inherit;">ta.change(close)</font></a><font style="vertical-align: inherit;">值
的
“浮点”</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组，然后使用</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_for...in"><font style="vertical-align: inherit;">for…in</font></a><font style="vertical-align: inherit;">循环访问数组的所有元素以
</font><font style="vertical-align: inherit;">
累积</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">求和。该脚本将累积值相加以计算</font><font style="vertical-align: inherit;">，然后
将结果</font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;">绘制</font></a><font style="vertical-align: inherit;">在图表上，并与</font><font style="vertical-align: inherit;">进行比较：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.change"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">lowerTimeframe</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_for...in"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">positiveChange</code><font style="vertical-align: inherit;"></font><code dir="auto">negativeChange</code><font style="vertical-align: inherit;"></font><code dir="auto">netChange</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">priceChange</code><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-lower-tf-Intrabar-data-arrays-1.BFy5KmoZ_CQoK9.webp" alt="图像" width="1342" height="574" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="5sl"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Intrabar&nbsp;arrays&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Intrabar&nbsp;price&nbsp;changes"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;lower&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;requested&nbsp;data.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;close-to-close&nbsp;price&nbsp;change.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceChange</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.change</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;array&nbsp;of&nbsp;`close`&nbsp;values&nbsp;from&nbsp;available&nbsp;intraba</span><span class="mtk9">rs&nbsp;on&nbsp;the&nbsp;`lowerTimeframe`.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarChanges</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security_lower_tf</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceChange</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;total&nbsp;positive&nbsp;intrabar&nbsp;`close`&nbsp;movement&nbsp;on&nbsp;t</span><span class="mtk9">he&nbsp;chart&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">positiveChange</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;total&nbsp;negative&nbsp;intrabar&nbsp;`close`&nbsp;movement&nbsp;on&nbsp;t</span><span class="mtk9">he&nbsp;chart&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">negativeChange</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0.0</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Loop&nbsp;to&nbsp;calculate&nbsp;totals,&nbsp;starting&nbsp;from&nbsp;the&nbsp;cha</span><span class="mtk9">rt&nbsp;bar's&nbsp;first&nbsp;available&nbsp;intrabar.</span></span><br><span><span class="mtk18">for</span><span class="mtk1">&nbsp;</span><span class="mtk33">change</span><span class="mtk1">&nbsp;</span><span class="mtk18">in</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarChanges</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Add&nbsp;the&nbsp;`change`&nbsp;to&nbsp;`positiveChange`&nbsp;if&nbsp;its&nbsp;sig</span><span class="mtk9">n&nbsp;is&nbsp;1,&nbsp;and&nbsp;add&nbsp;to&nbsp;`negativeChange`&nbsp;if&nbsp;its&nbsp;sign&nbsp;is</span><span class="mtk9">&nbsp;-1.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">switch</span><span class="mtk1">&nbsp;</span><span class="mtk16">math.sign</span><span class="mtk13">(</span><span class="mtk33">change</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk12">1</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">positiveChange</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk33">change</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk12">-1</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">negativeChange</span><span class="mtk1">&nbsp;</span><span class="mtk18">+=</span><span class="mtk1">&nbsp;</span><span class="mtk33">change</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;sum&nbsp;of&nbsp;`positiveChange`&nbsp;and&nbsp;`negativeChange`.</span><span class="mtk9">&nbsp;Equals&nbsp;the&nbsp;`priceChange`&nbsp;on&nbsp;bars&nbsp;with&nbsp;available&nbsp;i</span><span class="mtk9">ntrabars.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">netChange</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">positiveChange</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">negativeChange</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`positiveChange`,&nbsp;`negativeChange`,&nbsp;an</span><span class="mtk9">d&nbsp;`netChange`.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">positiveChange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Positive&nbsp;intrabar&nbsp;change"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">negativeChange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Negative&nbsp;intrabar&nbsp;change"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.maroon</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">netChange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Net&nbsp;intrabar&nbsp;change"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.yellow</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`priceChange`&nbsp;to&nbsp;compare.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">priceChange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Chart&nbsp;price&nbsp;change"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于 intrabar 数据的图表可能不会出现在所有可用的图表条上，因为
</font><font style="vertical-align: inherit;">request.security_lower_tf </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">()只能访问请求上下文中可用的最近 100,000 个 intrabar。在没有可访问的 intrabar 数据</font></a></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图表条上执行此函数时，它将返回一个</font><em><font style="vertical-align: inherit;">空数组</font></em><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个图表条的 intrabar 数量可能因上下文中可用的数据和脚本执行的图表而异。例如，由于某些 1 分钟间隔内缺乏交易活动，提供商的 1 分钟数据馈送可能不包含 60 分钟时间范围内每分钟的数据。要检查为图表条检索到的 intrabar 数量，可以对
</font><font style="vertical-align: inherit;">
结果
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;">数组使用</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.size"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array.size()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果该</font></font><code dir="auto">lowerTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值大于图表的时间范围，脚本将引发</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行时错误</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为我们没有</font></font><code dir="auto">ignore_invalid_timeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用中提供参数。</font></font></li>
</ul>
<h3 id="tuples-of-intrabar-data" class="md-heading"><a href="#tuples-of-intrabar-data"><font style="vertical-align: inherit;"><span class="fancy-wrap"><font style="vertical-align: inherit;">条内数据</font></span><font style="vertical-align: inherit;">元组</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当传递元组或返回元组的函数调用作为
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的
参数时</font><font style="vertical-align: inherit;">，结果是一个数组元组</font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;">，</font></a><font style="vertical-align: inherit;">其
</font><a href="/pine-script-docs/language/type-system#type-templates"><font style="vertical-align: inherit;">类型模板</font></a><font style="vertical-align: inherit;">与参数中的类型相对应。例如，使用</font><font style="vertical-align: inherit;">元组作为将</font><font style="vertical-align: inherit;">导致</font><font style="vertical-align: inherit;">函数返回数据。使用元组</font><font style="vertical-align: inherit;">允许脚本
</font><font style="vertical-align: inherit;">通过单个
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a><font style="vertical-align: inherit;">
函数调用获取多个内部数据</font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;">数组。</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#type-templates"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">[float, string, color]</code><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><code dir="auto">[array&lt;float&gt;, array&lt;string&gt;, array&lt;color&gt;]</code><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本中调用
</font><font style="vertical-align: inherit;">返回的所有元组的总大小限制为 127 个元素。</font><font style="vertical-align: inherit;">有关更多信息，请参阅</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制页面的</font></a></font><a href="/pine-script-docs/writing/limitations#tuple-element-limit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分
。</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p></div></aside>
<p><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/lines-and-boxes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下示例请求较低时间范围内的 OHLC 数据，并使用线条和框</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在图表上可视化当前条形图的内部条形图
</font><font style="vertical-align: inherit;">。脚本调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
并以</font></font><code dir="auto">[open, high, low, close]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组作为其</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来检索</font><font style="vertical-align: inherit;">
表示来自计算的 OHLC 信息的</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">lowerTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组。然后，它使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_for"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环设置线条坐标，并使用检索到的数据和当前条形图索引来显示当前图表条形图旁边的结果，从而提供最新蜡烛图内价格变动的“放大视图”。它还
在</font><a href="/pine-script-docs/concepts/lines-and-boxes#lines"><font style="vertical-align: inherit;">线条</font></a><font style="vertical-align: inherit;">
周围绘制一个</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_box"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以指示内部条形图所占据的图表区域：</font></font><a href="/pine-script-docs/concepts/lines-and-boxes#lines"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-lower-tf-Tuples-of-intrabar-data-1.C8-f9Sez_Z96QYf.webp" alt="图像" width="1342" height="572" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="5h7"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Tuples&nbsp;of&nbsp;intrabar&nbsp;data&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Candle&nbsp;magnifier"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">max_lines_count</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">500</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;maximum&nbsp;number&nbsp;of&nbsp;intrabars&nbsp;to&nbsp;display.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxIntrabars</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Max&nbsp;intrabars"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">250</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;width&nbsp;of&nbsp;the&nbsp;drawn&nbsp;candle&nbsp;bodies.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">candleWidth</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">20</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Candle&nbsp;width"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;largest&nbsp;valid&nbsp;timeframe&nbsp;closest&nbsp;to&nbsp;`maxIntrab</span><span class="mtk9">ars`&nbsp;times&nbsp;smaller&nbsp;than&nbsp;the&nbsp;chart&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.from_seconds</span><span class="mtk13">(</span><span class="mtk16">math.ceil</span><span class="mtk13">(</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxIntrabars</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;array&nbsp;of&nbsp;lines&nbsp;to&nbsp;represent&nbsp;intrabar&nbsp;wicks.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">line</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">wicks</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">line</span><span class="mtk13">&gt;()</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;array&nbsp;of&nbsp;lines&nbsp;to&nbsp;represent&nbsp;intrabar&nbsp;bodies.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">line</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">bodies</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">line</span><span class="mtk13">&gt;()</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;box&nbsp;that&nbsp;surrounds&nbsp;the&nbsp;displayed&nbsp;intrabars.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">box</span><span class="mtk1">&nbsp;</span><span class="mtk33">magnifierBox</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">box.new</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bgcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Fill&nbsp;the&nbsp;`wicks`&nbsp;and&nbsp;`bodies`&nbsp;arrays&nbsp;with&nbsp;blank</span><span class="mtk9">&nbsp;lines&nbsp;on&nbsp;the&nbsp;first&nbsp;bar.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.isfirst</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">for</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxIntrabars</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">array.push</span><span class="mtk13">(</span><span class="mtk33">wicks</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">line.new</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.gray</span><span class="mtk13">))</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">array.push</span><span class="mtk13">(</span><span class="mtk33">bodies</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">line.new</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">width</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">candleWidth</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;tuple&nbsp;of&nbsp;"float"&nbsp;arrays&nbsp;containing&nbsp;`open`,&nbsp;`hig</span><span class="mtk9">h`,&nbsp;`low`,&nbsp;and&nbsp;`close`&nbsp;prices&nbsp;from&nbsp;the&nbsp;`lowerTimef</span><span class="mtk9">rame`.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">oData</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">hData</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lData</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">cData</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security_lower_tf</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">])</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;intrabars&nbsp;retrieved&nbsp;from&nbsp;the&nbsp;`lower</span><span class="mtk9">Timeframe`&nbsp;on&nbsp;the&nbsp;chart&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">numIntrabars</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.size</span><span class="mtk13">(</span><span class="mtk33">oData</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">numIntrabars</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Define&nbsp;the&nbsp;start&nbsp;and&nbsp;end&nbsp;bar&nbsp;index&nbsp;values&nbsp;for&nbsp;i</span><span class="mtk9">ntrabar&nbsp;display.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">endIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">numIntrabars</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Loop&nbsp;to&nbsp;update&nbsp;lines.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">for</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">to</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxIntrabars</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">line</span><span class="mtk1">&nbsp;</span><span class="mtk33">wickLine</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">wicks</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">line</span><span class="mtk1">&nbsp;</span><span class="mtk33">bodyLine</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">bodies</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk1">&nbsp;</span><span class="mtk18">&lt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">numIntrabars</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`bar_index`&nbsp;of&nbsp;the&nbsp;drawing.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">candleIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;properties&nbsp;of&nbsp;the&nbsp;`wickLine`&nbsp;and&nbsp;`bo</span><span class="mtk9">dyLine`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy1</span><span class="mtk13">(</span><span class="mtk33">wickLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">hData</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk13">))</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy2</span><span class="mtk13">(</span><span class="mtk33">wickLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">lData</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk13">))</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy1</span><span class="mtk13">(</span><span class="mtk33">bodyLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">oData</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk13">))</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy2</span><span class="mtk13">(</span><span class="mtk33">bodyLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">cData</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">i</span><span class="mtk13">))</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_color</span><span class="mtk13">(</span><span class="mtk33">bodyLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bodyLine</span><span class="mtk1">.</span><span class="mtk15">get_y2</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">bodyLine</span><span class="mtk1">.</span><span class="mtk15">get_y1</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.maroon</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">continue</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Set&nbsp;the&nbsp;coordinates&nbsp;of&nbsp;the&nbsp;`wickLine`&nbsp;and&nbsp;`body</span><span class="mtk9">Line`&nbsp;to&nbsp;`na`&nbsp;if&nbsp;no&nbsp;intrabar&nbsp;data&nbsp;is&nbsp;available&nbsp;at&nbsp;</span><span class="mtk9">the&nbsp;index.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy1</span><span class="mtk13">(</span><span class="mtk33">wickLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy2</span><span class="mtk13">(</span><span class="mtk33">wickLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy1</span><span class="mtk13">(</span><span class="mtk33">bodyLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">line.set_xy2</span><span class="mtk13">(</span><span class="mtk33">bodyLine</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Set&nbsp;the&nbsp;coordinates&nbsp;of&nbsp;the&nbsp;`magnifierBox`.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">box.set_lefttop</span><span class="mtk13">(</span><span class="mtk33">magnifierBox</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">startIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.max</span><span class="mtk13">(</span><span class="mtk33">hData</span><span class="mtk13">))</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">box.set_rightbottom</span><span class="mtk13">(</span><span class="mtk33">magnifierBox</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">endIndex</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.min</span><span class="mtk13">(</span><span class="mtk33">lData</span><span class="mtk13">))</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本使用两条
</font></font><a href="/pine-script-docs/concepts/lines-and-boxes#lines"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制每根蜡烛：一条表示烛芯，另一条表示主体。由于该脚本最多可以在图表上显示 500 条线，因此我们将输入限制</font></font><code dir="auto">maxIntrabars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为 250 条。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该值是计算</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.in_seconds"><font style="vertical-align: inherit;">timeframe.in_seconds </font></a><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_math.ceil"><font style="vertical-align: inherit;">()</font></a><font style="vertical-align: inherit;">
的
math.ceil()</font><font style="vertical-align: inherit;">
除以并</font><font style="vertical-align: inherit;">使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.from_seconds"><font style="vertical-align: inherit;">timeframe.from_seconds()</font></a><font style="vertical-align: inherit;">转换为
</font><a href="/pine-script-docs/concepts/timeframes#timeframe-string-specifications"><font style="vertical-align: inherit;">有效的时间范围字符串</font></a></font><code dir="auto">lowerTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的结果
</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_math.ceil"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.in_seconds"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">maxIntrabars</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/timeframes#timeframe-string-specifications"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timeframe.from_seconds"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本使用
</font><font style="vertical-align: inherit;">
请求数组的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.max"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array.max()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置框线的顶部，并使用
请求数组的</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.min"><font style="vertical-align: inherit;">array.min()</font></a></font><code dir="auto">hData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置框线的底部
</font><font style="vertical-align: inherit;">。正如我们在图表上看到的，这些值对应于
</font><font style="vertical-align: inherit;">
图表条形图的</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;">最高点</font></a><font style="vertical-align: inherit;">
和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_low"><font style="vertical-align: inherit;">最低点。</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.min"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">lData</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_low"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h3 id="requesting-collections" class="md-heading"><a href="#requesting-collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收藏</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在某些情况下，脚本可能需要从内部栏上下文中
请求</font></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的 ID
 。但是，与</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同，不能将
</font></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合或调用传递给将它们作为</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用中的参数
</font><font style="vertical-align: inherit;">返回的函数</font><font style="vertical-align: inherit;">
，因为</font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;">数组</font></a><font style="vertical-align: inherit;">不能直接引用其他
</font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;">集合</font></a><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管存在这些限制，但如果需要，仍然可以
</font><font style="vertical-align: inherit;">借助</font><em><font style="vertical-align: inherit;">包装器类型来请求较低时间范围内的</font></em></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面描述的用例是</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级的</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议初学者使用。在探索这种方法之前，我们建议了解
</font></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义类型</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Pine Script™ 中的工作方式。如果可能，我们建议使用
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更简单的方法来管理 LTF 请求，并且仅在</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他方法都无法</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">满足要求</font><font style="vertical-align: inherit;">时才使用此方法。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了使
</font></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可通过
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行请求，我们必须创建一个
带有字段的</font></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
来引用集合 ID。此步骤是必需的，因为
</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能</font><font style="vertical-align: inherit;">直接引用其他</font></font><a href="/pine-script-docs/language/type-system#collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合，但</font></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以引用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有集合字段的 UDT：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="70o"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@type</span><span class="mtk9">&nbsp;A&nbsp;"wrapper"&nbsp;type&nbsp;to&nbsp;hold&nbsp;an&nbsp;`array&lt;float&gt;`&nbsp;instan</span><span class="mtk9">ce.</span></span><br><span><span class="mtk18">type</span><span class="mtk1">&nbsp;</span><span class="mtk33">Wrapper</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">collection</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义 UDT后，我们现在可以将</font><font style="vertical-align: inherit;">UDT
</font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;">对象</font></a></font><code dir="auto">Wrapper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的 ID 传递
给</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a><font style="vertical-align: inherit;">中的参数
</font><font style="vertical-align: inherit;">。</font></font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种直接的方法是将内置</font></font><code dir="auto">*.new()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数作为 来调用</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。例如，这行代码</font><font style="vertical-align: inherit;">在
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a></font><code dir="auto">Wrapper.new()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中
调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.from"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array.from(close)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为其函数</font><font style="vertical-align: inherit;">：</font></font><code dir="auto">collection</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="62h"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;array&nbsp;of&nbsp;`Wrapper`&nbsp;IDs&nbsp;requested&nbsp;from&nbsp;the&nbsp;1-mi</span><span class="mtk9">nute&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">Wrapper</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">wrappers</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security_lower_tf</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">Wrapper</span><span class="mtk1">.</span><span class="mtk15">new</span><span class="mtk13">(</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">)))</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，我们可以创建一个
</font><font style="vertical-align: inherit;">
返回</font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;">UDT</font></a><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;">对象</font></a><font style="vertical-align: inherit;">的</font></font><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
</font></font><a href="/pine-script-docs/language/methods#user-defined-methods"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法，并在</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a><font style="vertical-align: inherit;">中调用该函数
</font><font style="vertical-align: inherit;">。例如，此代码调用</font><font style="vertical-align: inherit;">一个返回</font><font style="vertical-align: inherit;">ID 作为</font><font style="vertical-align: inherit;">参数的自定义函数：</font></font><a href="/pine-script-docs/language/objects"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">newWrapper()</code><font style="vertical-align: inherit;"></font><code dir="auto">Wrapper</code><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="3d1"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Creates&nbsp;a&nbsp;new&nbsp;`Wrapper`&nbsp;instance&nbsp;to&nbsp;wrap&nbsp;the&nbsp;spec</span><span class="mtk9">ified&nbsp;`collection`.</span></span><br><span><span class="mtk15">newWrapper</span><span class="mtk13">(</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">collection</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">Wrapper</span><span class="mtk1">.</span><span class="mtk15">new</span><span class="mtk13">(</span><span class="mtk33">collection</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;array&nbsp;of&nbsp;`Wrapper`&nbsp;IDs&nbsp;requested&nbsp;from&nbsp;the&nbsp;1-mi</span><span class="mtk9">nute&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">Wrapper</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">wrappers</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security_lower_tf</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">newWrapper</span><span class="mtk13">(</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk13">)))</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上述任一方法的结果都是一个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
，包含</font></font><code dir="auto">Wrapper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表条中所有可用内部条的 ID，脚本可以使用它来引用</font></font><code dir="auto">Wrapper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定内部条的实例并</font></font><code dir="auto">collection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其他操作中使用它们的字段。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面的脚本利用这种方法从中收集
</font><font style="vertical-align: inherit;">内部条形图数据</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">lowerTimeframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并使用它们显示特定内部条形图的数据。其自定义</font></font><code dir="auto">Prices</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型包含一个</font></font><code dir="auto">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段来引用</font></font><code dir="auto">array&lt;float&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存价格数据的实例，用户定义</font></font><code dir="auto">newPrices()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数返回对象的 ID </font></font><code dir="auto">Prices</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
并以</font></font><code dir="auto">newPrices()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">call 作为参数</font><font style="vertical-align: inherit;">，从图表条形图中的每个 intrabar 中
</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索
</font><font style="vertical-align: inherit;">
ID</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组，然后使用</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.get"><font style="vertical-align: inherit;">array.get()</font></a><font style="vertical-align: inherit;">
从指定的可用 intrabar（如果存在）中获取 ID。最后，它
在分配给该实例的数组</font><font style="vertical-align: inherit;">
上使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.get"><font style="vertical-align: inherit;">array.get()</font></a><font style="vertical-align: inherit;">并调用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle"><font style="vertical-align: inherit;">plotcandle()</font></a><font style="vertical-align: inherit;">
以在图表上显示其值：</font></font><code dir="auto">Prices</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.get"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.get"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">data</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-security-lower-tf-Requesting-collections-1.D61W65Jj_gcc0V.webp" alt="图像" width="1342" height="570" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="1ih"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;LTF&nbsp;collections&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Intrabar&nbsp;viewer"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;LTF&nbsp;data&nbsp;request.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;index&nbsp;of&nbsp;the&nbsp;intrabar&nbsp;to&nbsp;show&nbsp;on&nbsp;each&nbsp;chart&nbsp;b</span><span class="mtk9">ar.&nbsp;0&nbsp;is&nbsp;the&nbsp;first&nbsp;available&nbsp;intrabar.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Intrabar&nbsp;to&nbsp;show"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;custom&nbsp;type&nbsp;to&nbsp;hold&nbsp;an&nbsp;array&nbsp;of&nbsp;price&nbsp;`data`.</span></span><br><span><span class="mtk18">type</span><span class="mtk1">&nbsp;</span><span class="mtk33">Prices</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">data</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Returns&nbsp;a&nbsp;new&nbsp;`Prices`&nbsp;instance&nbsp;containing&nbsp;curren</span><span class="mtk9">t&nbsp;`open`,&nbsp;`high`,&nbsp;`low`,&nbsp;and&nbsp;`close`&nbsp;prices.</span></span><br><span><span class="mtk15">newPrices</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">Prices</span><span class="mtk1">.</span><span class="mtk15">new</span><span class="mtk13">(</span><span class="mtk16">array.from</span><span class="mtk13">(</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;array&nbsp;of&nbsp;`Prices`&nbsp;requested&nbsp;from&nbsp;the&nbsp;`lowerTim</span><span class="mtk9">eframe`.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">Prices</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedPrices</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security_lower_tf</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">newPrices</span><span class="mtk13">())</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`Prices`&nbsp;ID&nbsp;from&nbsp;the&nbsp;`requestedPrices`&nbsp;array&nbsp;</span><span class="mtk9">at&nbsp;the&nbsp;`intrabarIndex`,&nbsp;or&nbsp;`na`&nbsp;if&nbsp;not&nbsp;available.</span></span><br><span><span class="mtk18 mtkb">Prices</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarPrices</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.size</span><span class="mtk13">(</span><span class="mtk33">requestedPrices</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarIndex</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk33">requestedPrices</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarIndex</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;`data`&nbsp;array&nbsp;from&nbsp;the&nbsp;`intrabarPrices`,&nbsp;or&nbsp;an</span><span class="mtk9">&nbsp;array&nbsp;of&nbsp;`na`&nbsp;values&nbsp;if&nbsp;`intrabarPrices`&nbsp;is&nbsp;`na`.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarData</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">intrabarPrices</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.new</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;(</span><span class="mtk12">4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarPrices</span><span class="mtk1">.</span><span class="mtk33">data</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`intrabarData`&nbsp;values&nbsp;as&nbsp;candles.</span></span><br><span><span class="mtk16">plotcandle</span><span class="mtk13">(</span><span class="mtk33">intrabarData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">0</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">1</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">intrabarData</span><span class="mtk1">.</span><span class="mtk15">get</span><span class="mtk13">(</span><span class="mtk12">3</span><span class="mtk13">))</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果
数组</font><font style="vertical-align: inherit;">
的</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.size"><font style="vertical-align: inherit;">大小</font></a><font style="vertical-align: inherit;">大于
，则</font><font style="vertical-align: inherit;">变量</font></font><code dir="auto">intrabarPrices</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅引用ID </font><font style="vertical-align: inherit;">，因为尝试使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.get"><font style="vertical-align: inherit;">array.get()</font></a><font style="vertical-align: inherit;">
获取不存在的元素将导致越界
</font><a href="/pine-script-docs/language/arrays#index-is-out-of-bounds"><font style="vertical-align: inherit;">错误</font></a><font style="vertical-align: inherit;">。</font></font><code dir="auto">Prices</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.size"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">requestedPrices</code><font style="vertical-align: inherit;"></font><code dir="auto">intrabarIndex</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.get"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/arrays#index-is-out-of-bounds"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于脚本不能引用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;">na</font></a><font style="vertical-align: inherit;">值的字段，因此变量仅在存在</font><font style="vertical-align: inherit;">有效 ID 时</font></font><code dir="auto">intrabarData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用该</font></font><code dir="auto">data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">
。</font></font><code dir="auto">intrabarPrices</code><font style="vertical-align: inherit;"></font><code dir="auto">Prices</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本例中使用的过程</font><font style="vertical-align: inherit;">对于实现预期结果来说
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并非必需。我们可以避免使用</font></font></em><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/language/type-system#user-defined-types"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而是将元组传递</font></font><code dir="auto">[open, high, low, close]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给
</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数以检索数组元组
</font></font><a href="/pine-script-docs/language/arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以进行进一步的操作，如上</font></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#tuples-of-intrabar-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一节</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述
</font><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<h2 id="custom-contexts" class="md-heading"><a href="#custom-contexts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™ 包含多个</font></font><code dir="auto">ticker.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数，允许脚本构建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股票代码 ID，当将其用作</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">
和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;">request.security_lower_tf()</font></a></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数
时，这些 ID 可以指定数据请求的附加设置</font><font style="vertical-align: inherit;">：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.new"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
根据指定的附加</font></font><code dir="auto">prefix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">构造</font><font style="vertical-align: inherit;">
自定义股票代码 ID </font><font style="vertical-align: inherit;">。</font></font><code dir="auto">ticker</code><font style="vertical-align: inherit;"></font><code dir="auto">session</code><font style="vertical-align: inherit;"></font><code dir="auto">adjustment</code><font style="vertical-align: inherit;"></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.modify"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.modify()</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">tickerid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用附加
</font></font><code dir="auto">session</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code dir="auto">adjustment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">
构造指定的修改形式。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.heikinashi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.heikinashi()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.renko"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.renko()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.pointfigure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.pointfigure()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.kagi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.kagi()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.linebreak"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.linebreak()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
构建了一个</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有
</font></font><a href="/pine-script-docs/concepts/non-standard-charts-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置的修改形式。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.inherit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.inherit()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为 构造一个新的股票代码 ID，并使用从</font><font style="vertical-align: inherit;">函数调用中</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定的 继承的附加参数，允许脚本使用</font><font style="vertical-align: inherit;">与 相同的修饰符请求数据</font><font style="vertical-align: inherit;">，包括会话、股息调整、货币转换、非标准图表类型、回溯调整、收盘结算等。</font></font><code dir="auto">from_tickerid</code><font style="vertical-align: inherit;"></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"></font><code dir="auto">from_tickerid</code><font style="vertical-align: inherit;"></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.standard"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.standard()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
构造一个标准的股票代码 ID，表示</font></font><code dir="auto">symbol</code> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不带</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何
附加修饰符。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们探索一些应用</font></font><code dir="auto">ticker.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数从自定义上下文请求数据的实际例子。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设我们想在股票代码的价格中包含股息调整，但不启用图表设置中“代码”部分的“调整股息数据”选项。我们可以在脚本中实现此目的，方法是使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.new"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.modify"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.modify()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为该工具构建自定义股票代码 ID 
，并将</font></font><code dir="auto">adjustment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值设为
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_adjustment.dividends"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adjustment.dividends</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"></font><code dir="auto">adjustedTickerID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.modify"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.modify()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建</font><font style="vertical-align: inherit;">，使用该股票代码 ID 作为</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中
的 来检索
调整后价格值的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#tuples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后将结果绘制为
图表上的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蜡烛图</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。当请求的价格与未进行股息调整的价格不同时，它还会突出显示背景。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如我们在下面的“NYSE：XOM”图表中看到的，启用股息调整会导致最新股息日期之前的历史值不同：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Custom-contexts-1.BPiSCB0G_ZpUr3u.webp" alt="图像" width="1342" height="574" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="2cp"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Custom&nbsp;contexts&nbsp;demo&nbsp;1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Adjusted&nbsp;prices"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;custom&nbsp;ticker&nbsp;ID&nbsp;representing&nbsp;the&nbsp;chart's&nbsp;symbo</span><span class="mtk9">l&nbsp;with&nbsp;the&nbsp;dividend&nbsp;adjustment&nbsp;modifier.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">adjustedTickerID</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ticker.modify</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">adjustment</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">adjustment.dividends</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Request&nbsp;the&nbsp;adjusted&nbsp;prices&nbsp;for&nbsp;the&nbsp;chart's&nbsp;sym</span><span class="mtk9">bol.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">o</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">h</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">l</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">c</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">adjustedTickerID</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">])</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;color&nbsp;of&nbsp;the&nbsp;candles&nbsp;on&nbsp;the&nbsp;chart.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">candleColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">c</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">o</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.maroon</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;adjusted&nbsp;prices.</span></span><br><span><span class="mtk16">plotcandle</span><span class="mtk13">(</span><span class="mtk33">o</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">h</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">l</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">c</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Adjusted&nbsp;Prices"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">candleColor</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;when&nbsp;`c`&nbsp;is&nbsp;different&nbsp;</span><span class="mtk9">from&nbsp;`close`.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk33">c</span><span class="mtk1">&nbsp;</span><span class="mtk18">!=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">80</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果构造的股票代码 ID 中包含的修饰符不适用于该符号，则脚本将在请求数据时</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该修饰符。例如，此脚本将在外汇符号（如“EURUSD”）上显示与主图表相同的值。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然上面的示例演示了一种修改图表符号的简单方法，但</font></font><code dir="auto">ticker.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数更常见的用例是在请求数据时将自定义修饰符应用于另一个符号。如果脚本中引用的股票代码 ID 已经具有想要应用的修饰符（例如，调整设置、会话类型等），则他们可以使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.inherit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.inherit()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
快速高效地将这些修饰符添加到另一个符号。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在下面的示例中，我们编辑了上一个脚本，使用</font></font><code dir="auto">symbolInput</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 继承的修饰符
请求 的数据</font></font><code dir="auto">adjustedTickerID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。此脚本调用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.inherit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.inherit()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
来构造并在</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a></font><code dir="auto">inheritedTickerID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中使用该股票代码 ID
 </font><font style="vertical-align: inherit;">
。它还请求 的数据而不使用</font><font style="vertical-align: inherit;">其他修饰符，并在单独的图表窗格中绘制
两个股票代码 ID 的</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle"><font style="vertical-align: inherit;">蜡烛图</font></a><font style="vertical-align: inherit;">
以比较差异。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">symbolInput</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotcandle"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如图所示，使用 请求的数据</font></font><code dir="auto">inheritedTickerID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
包括股息调整，而直接使用 请求的数据
</font></font><code dir="auto">symbolInput</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则不包含：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Custom-contexts-2.DR5Qn5x1_Z1F3irE.webp" alt="图像" width="1342" height="574" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="6en"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Custom&nbsp;contexts&nbsp;demo&nbsp;2"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Inherited&nbsp;adjustment"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;symbol&nbsp;to&nbsp;request&nbsp;data&nbsp;from.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbolInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.symbol</span><span class="mtk13">(</span><span class="mtk29">"NYSE:PFE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;custom&nbsp;ticker&nbsp;ID&nbsp;representing&nbsp;the&nbsp;chart's&nbsp;symbo</span><span class="mtk9">l&nbsp;with&nbsp;the&nbsp;dividend&nbsp;adjustment&nbsp;modifier.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">adjustedTickerID</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ticker.modify</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">adjustment</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">adjustment.dividends</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;custom&nbsp;ticker&nbsp;ID&nbsp;representing&nbsp;the&nbsp;`symbolInput`</span><span class="mtk9">&nbsp;with&nbsp;modifiers&nbsp;inherited&nbsp;from&nbsp;the&nbsp;`adjustedTicker</span><span class="mtk9">ID`.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">inheritedTickerID</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ticker.inherit</span><span class="mtk13">(</span><span class="mtk33">adjustedTickerID</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">symbolInput</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Request&nbsp;prices&nbsp;using&nbsp;the&nbsp;`symbolInput`.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">o1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">h1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">l1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">c1</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">symbolInput</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">])</span></span><br><span><span class="mtk9">//&nbsp;Request&nbsp;prices&nbsp;using&nbsp;the&nbsp;`inheritedTickerID`.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">o2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">h2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">l2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">c2</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">inheritedTickerID</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">])</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;color&nbsp;of&nbsp;the&nbsp;candles&nbsp;that&nbsp;use&nbsp;the&nbsp;`inheritedT</span><span class="mtk9">ickerID`&nbsp;prices.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">candleColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">c2</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">o2</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.maroon</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`symbol`&nbsp;prices.</span></span><br><span><span class="mtk16">plotcandle</span><span class="mtk13">(</span><span class="mtk33">o1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">h1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">l1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">c1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.gray</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.gray</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bordercolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.gray</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`inheritedTickerID`&nbsp;prices.</span></span><br><span><span class="mtk16">plotcandle</span><span class="mtk13">(</span><span class="mtk33">o2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">h2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">l2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">c2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Symbol&nbsp;With&nbsp;Modifiers"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">candleColor</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;when&nbsp;`c1`&nbsp;is&nbsp;different</span><span class="mtk9">&nbsp;from&nbsp;`c2`.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk33">c1</span><span class="mtk1">&nbsp;</span><span class="mtk18">!=</span><span class="mtk1">&nbsp;</span><span class="mtk33">c2</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">80</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于代表</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;">syminfo.tickerid</font></a></font><code dir="auto">adjustedTickerID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的修改形式
</font><font style="vertical-align: inherit;">，如果我们以其他方式修改图表的上下文，例如更改图表类型或在图表的设置中启用延长交易时间，这些修饰符也将适用于 和
</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是，它们
</font><em><font style="vertical-align: inherit;">不适</font></em><font style="vertical-align: inherit;">用于 ，</font><font style="vertical-align: inherit;">因为它代表
</font><em><font style="vertical-align: inherit;">标准的</font></em><font style="vertical-align: inherit;">股票代码 ID。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">adjustedTickerID</code><font style="vertical-align: inherit;"></font><code dir="auto">inheritedTickerID</code><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code dir="auto">symbolInput</code><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求自定义上下文的另一个常见用例是检索使用
</font></font><a href="/pine-script-docs/concepts/non-standard-charts-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算的数据。例如，假设我们想使用
</font></font><a href="https://www.tradingview.com/support/solutions/43000502284-renko-charts/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renko</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
价格值来计算
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strategies()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
脚本中的交易信号。如果我们只是将图表类型更改为“Renko”来获取价格，该</font></font><a href="/pine-script-docs/concepts/strategies"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也会根据这些合成价格模拟其交易，从而产生
</font></font><a href="https://www.tradingview.com/support/solutions/43000481029/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">误导性结果</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Custom-contexts-3.Fi6i41m5_Z15B7Id.webp" alt="图像" width="1342" height="656" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="6gh"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">strategy</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk29">"Custom&nbsp;contexts&nbsp;demo&nbsp;3"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Renko&nbsp;strategy"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">default_qty_type</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.percent_of_equity</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">default_qty_value</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">initial_capital</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">50000</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">slippage</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">commission_type</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.commission.cash_per_contract</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">commission_value</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">margin_long</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">margin_short</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;When&nbsp;`true`,&nbsp;the&nbsp;strategy&nbsp;places&nbsp;a&nbsp;long&nbsp;market&nbsp;or</span><span class="mtk9">der.</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">longEntry</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;When&nbsp;`true`,&nbsp;the&nbsp;strategy&nbsp;places&nbsp;a&nbsp;short&nbsp;market&nbsp;o</span><span class="mtk9">rder.</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">shortEntry</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">longEntry</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Long&nbsp;Entry"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.long</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">shortEntry</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Short&nbsp;Entry"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.short</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了确保我们的策略根据</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际价格显示结果，我们可以使用</font></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ticker.renko"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ticker.renko()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建 Renko 代码 ID，
</font><font style="vertical-align: inherit;">
同时将图表保持在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准类型</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，从而允许脚本请求和使用
</font></font><a href="https://www.tradingview.com/support/solutions/43000502284-renko-charts/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renko</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
价格来计算其信号，而无需计算策略结果：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Custom-contexts-4.DB0_6eO1_Z2gBlFY.webp" alt="图像" width="1342" height="634" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="2e3"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">strategy</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk29">"Custom&nbsp;contexts&nbsp;demo&nbsp;3"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Renko&nbsp;strategy"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">default_qty_type</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.percent_of_equity</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">default_qty_value</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">initial_capital</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">50000</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">slippage</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">commission_type</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.commission.cash_per_contract</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">commission_value</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">margin_long</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">margin_short</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;Renko&nbsp;ticker&nbsp;ID.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">renkoTickerID</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ticker.renko</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"ATR"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">14</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Request&nbsp;the&nbsp;`open`&nbsp;and&nbsp;`close`&nbsp;prices&nbsp;using&nbsp;the</span><span class="mtk9">&nbsp;`renkoTickerID`.</span></span><br><span><span class="mtk13">[</span><span class="mtk33">renkoOpen</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">renkoClose</span><span class="mtk13">]</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">renkoTickerID</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">timeframe.period</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">open</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">])</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;When&nbsp;`true`,&nbsp;the&nbsp;strategy&nbsp;places&nbsp;a&nbsp;long&nbsp;market&nbsp;or</span><span class="mtk9">der.</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">longEntry</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossover</span><span class="mtk13">(</span><span class="mtk33">renkoClose</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">renkoOpen</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;When&nbsp;`true`,&nbsp;the&nbsp;strategy&nbsp;places&nbsp;a&nbsp;short&nbsp;market&nbsp;o</span><span class="mtk9">rder.</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">shortEntry</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.crossunder</span><span class="mtk13">(</span><span class="mtk33">renkoClose</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">renkoOpen</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">longEntry</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Long&nbsp;Entry"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.long</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">shortEntry</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">strategy.entry</span><span class="mtk13">(</span><span class="mtk29">"Short&nbsp;Entry"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">strategy.short</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">renkoOpen</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">renkoClose</span><span class="mtk13">)</span></span><br></code></div>
<h2 id="historical-and-realtime-behavior" class="md-heading"><a href="#historical-and-realtime-behavior"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史和实时</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行为</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间中的函数在历史和实时条上的行为可能有所不同。此行为与 Pine 的</font><a href="/pine-script-docs/language/execution-model"><font style="vertical-align: inherit;">执行模型</font></a></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密切相关</font><font style="vertical-align: inherit;">。</font></font><a href="/pine-script-docs/language/execution-model"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑一下脚本在主上下文中的行为方式。在图表的整个历史中，脚本会计算一次所需的值并将
它们</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提交</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到该条形图，以便稍后执行时可以访问它们的状态。但是，在未确认的条形图上，脚本会在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每次更新</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图数据时重新计算其值以与实时变化保持一致。在重新计算该条形图上的值之前，它会将计算的值恢复到其最后提交的状态，也称为
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回滚</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且只有在条形图关闭后才会将值提交到该条形图。</font></font></p>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在考虑使用request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从其他上下文请求数据的行为
</font><font style="vertical-align: inherit;">。与在主上下文中评估历史条形图时一样，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仅在其指定上下文中确认条形图时才返回新的历史值。在实时条形图上执行时，它会在每个图表条形图上返回重新计算的值，类似于脚本在打开的图表条形图上重新计算主上下文中的值的方式。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，该函数仅</font><font style="vertical-align: inherit;">在其上下文中的条形图关闭时</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认请求的值。当脚本重新开始执行时，之前被视为</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图的内容将成为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图。因此，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将仅返回它在这些条形图上确认的值。本质上，这种行为意味着请求的数据可能会</font><font style="vertical-align: inherit;">在其值在实时条形图上波动而没有上下文确认时</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新绘制。</font></font></em><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数时，区分历史条形图和实时条形图通常很有帮助。脚本可以通过
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate.ishistory"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barstate.ihistory</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barstate.isrealtime"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barstate.isrealtime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
变量确定条形图是否具有历史状态或实时状态。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在大多数情况下，当脚本从更广泛的上下文中请求数据时，通常需要确认的、稳定的值，这些值</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在实时条形图上波动。
</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下部分</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解释了如何实现这样的结果并避免重新绘制数据请求。</font></font></p>
<h3 id="avoiding-repainting" class="md-heading"><a href="#avoiding-repainting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">避免</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新粉刷</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<h4 id="higher-timeframe-data" class="md-heading"><a href="#higher-timeframe-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更高时间范围的</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当请求更高时间范围的值时，它们可能会被重新绘制，因为实时条形图可能包含来自正在开发的 HTF 条形图的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未确认</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信息，并且脚本可能会调整新值出现在历史条形图上的时间。为了避免重新绘制 HTF 数据，必须确保该函数仅返回所有条形图上具有一致时间的确认值，而不管条形图状态如何。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现非重新绘制结果的最可靠方法是使用</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅引用过去条形图的参数（例如
</font></font><code dir="auto">close[1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），同时使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font></font></p>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不建议将barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
与非偏移 HTF 数据请求
</font><font style="vertical-align: inherit;">结合使用
，因为它会提示</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
“向前看” HTF 条的最终值，</font><font style="vertical-align: inherit;">在脚本历史记录中实际可用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前</font></font></em><font style="vertical-align: inherit;"></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索已确认的值。但是，如果 中使用的值至少偏移了一个条，则函数检索的“未来”数据不再来自未来。相反，数据表示来自已建立的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTF 条的确认值。换句话说，对 施加偏移可</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效防止脚本重新启动执行时请求的数据重新绘制，并消除历史系列中的前瞻偏差。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下示例演示了重绘 HTF 数据请求。该脚本使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()而不使用偏移修改或其他参数来检索来自更高时间范围的</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.wma"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ta.wma()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用
的结果
</font><font style="vertical-align: inherit;">
。它还突出显示背景以指示在计算过程中哪些条处于实时状态。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下图所示，
请求的 WMA 的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘图</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仅在 HTF 条关闭时在历史条上发生变化，而它在所有实时条上波动，因为数据包含来自较高时间范围的未确认值：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Historical-and-realtime-behavior-Avoiding-repainting-Higher-timeframe-data-1.BaZM3HDu_2k78Ln.webp" alt="图像" width="1342" height="562" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="3xs"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Avoiding&nbsp;HTF&nbsp;repainting&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;multiplier&nbsp;applied&nbsp;to&nbsp;the&nbsp;chart's&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">tfMultiplier</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe&nbsp;multiplier"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;in&nbsp;the&nbsp;moving&nbsp;average.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">5</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"WMA&nbsp;smoothing&nbsp;length"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;valid&nbsp;timeframe&nbsp;string&nbsp;closest&nbsp;to&nbsp;`tfMultipli</span><span class="mtk9">er`&nbsp;times&nbsp;larger&nbsp;than&nbsp;the&nbsp;chart&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.from_seconds</span><span class="mtk13">(</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">tfMultiplier</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;weighted&nbsp;MA&nbsp;of&nbsp;`close`&nbsp;prices&nbsp;over&nbsp;`length`&nbsp;b</span><span class="mtk9">ars&nbsp;on&nbsp;the&nbsp;`timeframe`.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;request&nbsp;repaints&nbsp;because&nbsp;it&nbsp;inclu</span><span class="mtk9">des&nbsp;unconfirmed&nbsp;HTF&nbsp;data&nbsp;on&nbsp;realtime&nbsp;bars&nbsp;and&nbsp;it&nbsp;m</span><span class="mtk9">ay&nbsp;offset&nbsp;the</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;times&nbsp;of&nbsp;its&nbsp;historical&nbsp;results.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedWMA</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.wma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">))</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;requested&nbsp;series.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">requestedWMA</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"HTF&nbsp;WMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;on&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">70</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;bar&nbsp;highlight"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了避免在此脚本中重新绘制，我们可以将
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">
调用
添加</font></font><code dir="auto">lookahead = barmerge.lookahead_on</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.wma"><font style="vertical-align: inherit;">ta.wma()</font></a><font style="vertical-align: inherit;">调用历史记录
中，并使用历史引用运算符
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#op_%5B%5D"><font style="vertical-align: inherit;">[]</font></a><font style="vertical-align: inherit;">将 ta.wma() 的调用历史记录偏移一个条形图，确保请求始终在每个新请求开始时检索最后确认的 HTF 条形图的 WMA </font><font style="vertical-align: inherit;">。与之前的脚本不同，此版本在历史和实时条形图状态上具有一致的行为，如下所示：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.wma"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#op_%5B%5D"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">timeframe</code><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Historical-and-realtime-behavior-Avoiding-repainting-Higher-timeframe-data-2.DgoLhl8Y_1sHSHG.webp" alt="图像" width="1342" height="562" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="4ye"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Avoiding&nbsp;HTF&nbsp;repainting&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;multiplier&nbsp;applied&nbsp;to&nbsp;the&nbsp;chart's&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">tfMultiplier</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe&nbsp;multiplier"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;number&nbsp;of&nbsp;bars&nbsp;in&nbsp;the&nbsp;moving&nbsp;average.</span></span><br><span><span class="mtk18 mtkb">int</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">5</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"WMA&nbsp;smoothing&nbsp;length"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;valid&nbsp;timeframe&nbsp;string&nbsp;closest&nbsp;to&nbsp;`tfMultipli</span><span class="mtk9">er`&nbsp;times&nbsp;larger&nbsp;than&nbsp;the&nbsp;chart&nbsp;timeframe.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">timeframe.from_seconds</span><span class="mtk13">(</span><span class="mtk16">timeframe.in_seconds</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">tfMultiplier</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;weighted&nbsp;MA&nbsp;of&nbsp;`close`&nbsp;prices&nbsp;over&nbsp;`length`&nbsp;b</span><span class="mtk9">ars&nbsp;on&nbsp;the&nbsp;`timeframe`.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;request&nbsp;does&nbsp;not&nbsp;repaint,&nbsp;as&nbsp;it&nbsp;a</span><span class="mtk9">lways&nbsp;references&nbsp;the&nbsp;last&nbsp;confirmed&nbsp;WMA&nbsp;value&nbsp;on&nbsp;a</span><span class="mtk9">ll&nbsp;bars.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedWMA</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">timeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.wma</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">length</span><span class="mtk13">)[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;requested&nbsp;value.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">requestedWMA</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"HTF&nbsp;WMA"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;on&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">70</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;bar&nbsp;highlight"</span><span class="mtk13">)</span></span><br></code></div>
<h4 id="lower-timeframe-data" class="md-heading"><a href="#lower-timeframe-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低时间范围的</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数可从较低时间框架上下文中检索数据。
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数只能从每个图表条中的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部条中检索数据，而
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()可从</font></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用的内部条
中检索数据</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当使用这些函数检索条形图内数据时，请务必注意，此类请求无法</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">避免</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重绘行为。历史和实时序列通常依赖于</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单独的数据馈送。数据提供商可能会追溯修改实时数据，并且实时数据馈送中可能会发生竞争，如本页的</font></font></em><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#data-feeds"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据馈送</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分所述
</font><font style="vertical-align: inherit;">。任何一种情况都可能导致在脚本重新启动执行后，在实时条形图上检索到的条形图内数据重绘。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，一种</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致重新绘制 LTF 请求的特殊情况是使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从每个图表条中的第一个内部条中检索数据。虽然它通常会在历史条上按预期工作，但它只会跟踪实时条上最新的内部条，因为
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不会保留所有内部条信息，并且该函数在实时条上检索的内部条在重新启动脚本执行之前是未排序的：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Historical-and-realtime-behavior-Avoiding-repainting-Lower-timeframe-data-1.CBTFrSjr_3y4ey.webp" alt="图像" width="1342" height="562" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="11a"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Avoiding&nbsp;LTF&nbsp;repainting&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;lower&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;requested&nbsp;data.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;first&nbsp;intrabar&nbsp;`close`&nbsp;requested&nbsp;from&nbsp;the&nbsp;`lo</span><span class="mtk9">werTimeframe`&nbsp;on&nbsp;each&nbsp;bar.</span></span><br><span><span class="mtk9">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Only&nbsp;works&nbsp;as&nbsp;intended&nbsp;on&nbsp;historical&nbsp;b</span><span class="mtk9">ars.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`requestedClose`.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">requestedClose</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"First&nbsp;intrabar&nbsp;close"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">linewidth</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;on&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">60</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;bar&nbsp;Highlight"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以缓解此行为并通过使用request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来跟踪第一个 intrabar 或图表条中任何可用 intrabar 的值，
</font><font style="vertical-align: inherit;">
因为它维护一个
</font><font style="vertical-align: inherit;">
按它们进入时间排序的 intrabar 值
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组。在这里，我们在请求的 intrabar 数据</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;">数组</font></a><font style="vertical-align: inherit;">
上
调用</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array.first"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array.first()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来
从每个图表条中第一个可用的 intrabar</font><font style="vertical-align: inherit;">
检索
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;">收盘价：</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_array"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Historical-and-realtime-behavior-Avoiding-repainting-Lower-timeframe-data-2.6WrbL0Kk_wVrfM.webp" alt="图像" width="1342" height="562" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="l2"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Avoiding&nbsp;LTF&nbsp;repainting&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;lower&nbsp;timeframe&nbsp;of&nbsp;the&nbsp;requested&nbsp;data.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.timeframe</span><span class="mtk13">(</span><span class="mtk29">"1"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Timeframe"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;An&nbsp;array&nbsp;of&nbsp;intrabar&nbsp;`close`&nbsp;values&nbsp;requested&nbsp;fro</span><span class="mtk9">m&nbsp;the&nbsp;`lowerTimeframe`&nbsp;on&nbsp;each&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">array</span><span class="mtk13">&lt;</span><span class="mtk18 mtkb">float</span><span class="mtk13">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedCloses</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security_lower_tf</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lowerTimeframe</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;first&nbsp;intrabar&nbsp;`close`&nbsp;on&nbsp;each&nbsp;bar&nbsp;with&nbsp;avail</span><span class="mtk9">able&nbsp;data.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">firstClose</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedCloses</span><span class="mtk1">.</span><span class="mtk15">size</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk33">requestedCloses</span><span class="mtk1">.</span><span class="mtk15">first</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`firstClose`.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">firstClose</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"First&nbsp;intrabar&nbsp;close"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">linewidth</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;Highlight&nbsp;the&nbsp;background&nbsp;on&nbsp;realtime&nbsp;bars.</span></span><br><span><span class="mtk16">bgcolor</span><span class="mtk13">(</span><span class="mtk11">barstate.isrealtime</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">60</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">title</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Realtime&nbsp;bar&nbsp;Highlight"</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
针对处理历史和实时内部条形图进行了优化，但在某些情况下，由于与提供商的数据差异，仍有可能出现轻微的重绘，如上所述。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此代码可能不会显示所有可用图表条上的内部条数据，具体取决于每个图表条包含多少个内部条，因为</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数可以从 LTF 上下文中检索最多 100,000 个内部条。有关更多信息，请参阅
</font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;">限制页面的</font></a></font><a href="/pine-script-docs/writing/limitations#request-calls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分
</font><font style="vertical-align: inherit;">
。</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h2 id="requestcurrency_rate" class="md-heading"><a href="#requestcurrency_rate"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`请求.currency_rate()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当脚本需要将一种货币表示的值转换为另一种货币表示的值时，可以使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.currency_rate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.currency_rate()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。此函数根据“FX_IDC”数据请求</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每日汇率</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以进行货币转换计算，
为使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;">request.security()</font></a><font style="vertical-align: inherit;">获取特定货币对或
</font></font><a href="https://www.tradingview.com/support/solutions/43000502298/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价差</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了一种更简单的替代方法。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然可以使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()来检索每日货币汇率，但它的用例比</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.currency_rate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.currency_rate()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
更复杂
</font><font style="vertical-align: inherit;">，因为需要为货币对或价差提供有效的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码 ID</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">才能请求汇率。此外，历史偏移量和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.lookahead_on也是防止结果重绘所必需的，如</font></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#avoiding-repainting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
所述
</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另一方面，request.currency_rate() 函数只需要</font><font style="vertical-align: inherit;">货币
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.currency_rate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码</font></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用此函数请求汇率时不需要股票代码 ID，并且可以确保无需额外指定即可获得非重绘结果。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该函数的签名如下：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.currency_rate(from, to, ignore_invalid_currency) → series float</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font><code dir="auto">from</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定要转换的货币，参数</font></font><code dir="auto">to</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
指定目标货币。两个参数均接受</font></font><a href="https://en.wikipedia.org/wiki/ISO_4217#Active_codes" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISO 4217</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式的“字符串”值（例如“USD”）或任何内置</font></font><code dir="auto">currency.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量（例如
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_currency.USD"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">currency.USD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当函数无法计算出调用中提供的
</font></font><code dir="auto">from</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和货币</font><font style="vertical-align: inherit;">之间的有效兑换率时
，可以决定是否引发运行时错误或</font><font style="vertical-align: inherit;">通过参数返回</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;">na</font></a><font style="vertical-align: inherit;">。默认值为</font><font style="vertical-align: inherit;">，表示函数将引发运行时错误并停止脚本的执行。</font></font><code dir="auto">to</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">ignore_invalid_currency</code><font style="vertical-align: inherit;"></font><code dir="auto">false</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下示例演示了
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.currency_rate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.currency_rate()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的一个简单用例。假设我们想使用每日汇率
将以</font><font style="vertical-align: inherit;">土耳其里拉 ( </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_currency.TRY"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">currency.TRY</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) 表示的值转换为韩元 ( </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_currency.KRW"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">currency.KRW )。如果我们使用</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来检索汇率，我们必须提供有效的股票代码 ID 并请求
前一天</font><font style="vertical-align: inherit;">
最后确认的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘价。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，不存在允许我们直接使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索转换率的“FX_IDC”符号。因此，我们首先需要一个
</font></font><a href="https://www.tradingview.com/support/solutions/43000502298/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价差</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的股票代码 ID 
，该价差将 TRY 转换为中间货币（例如 USD），然后将中间货币转换为 KRW。然后，我们可以在 request.security() 中使用该股票代码 ID
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;">作为 barmerge.lookahead_on</font></a></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值</font><font style="vertical-align: inherit;">来
</font><font style="vertical-align: inherit;">
请求</font></font><code dir="auto">close[1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非</font><font style="vertical-align: inherit;">重绘每日汇率。</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.lookahead_on"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.currency_rate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，我们可以通过调用request.currency_rate()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更简单地实现相同的结果
</font><font style="vertical-align: inherit;">。此函数为我们完成了所有繁重的工作，只需要</font></font><code dir="auto">from</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
货币</font></font><code dir="auto">to</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数即可执行计算。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下所示，两种方法返回的每日利率相同：</font></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-currency-rate-1.C1rKgV4h_1dBAP1.webp" alt="图像" width="1342" height="558" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="71"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;currency&nbsp;rates&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;currency&nbsp;to&nbsp;convert.</span></span><br><span><span class="mtk18 mtkb">simple</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">fromCurrency</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">currency.TRY</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;resulting&nbsp;currency.</span></span><br><span><span class="mtk18 mtkb">simple</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">toCurrency</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">currency.KRW</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;spread&nbsp;symbol&nbsp;to&nbsp;request.&nbsp;Required&nbsp;in&nbsp;`reques</span><span class="mtk9">t.security()`&nbsp;since&nbsp;no&nbsp;direct&nbsp;"FX_IDC"&nbsp;rate&nbsp;exists</span><span class="mtk9">.</span></span><br><span><span class="mtk18 mtkb">simple</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">spreadSymbol</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format</span><span class="mtk13">(</span><span class="mtk29">"FX_IDC:{0}{2}&nbsp;*&nbsp;FX_IDC:{2}{1}"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">fromCurrency</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">toCurrency</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">currency.USD</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;non-repainting&nbsp;conversion&nbsp;rate&nbsp;from&nbsp;`request.</span><span class="mtk9">security()`&nbsp;using&nbsp;the&nbsp;`spreadSymbol`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">securityRequestedRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.security</span><span class="mtk13">(</span><span class="mtk33">spreadSymbol</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"1D"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">lookahead</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.lookahead_on</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;non-repainting&nbsp;conversion&nbsp;rate&nbsp;from&nbsp;`request.</span><span class="mtk9">currency_rate()`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">nonSecurityRequestedRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.currency_rate</span><span class="mtk13">(</span><span class="mtk33">fromCurrency</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">toCurrency</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;requested&nbsp;rates.&nbsp;We&nbsp;can&nbsp;multiply&nbsp;TRY&nbsp;v</span><span class="mtk9">alues&nbsp;by&nbsp;these&nbsp;rates&nbsp;to&nbsp;convert&nbsp;them&nbsp;to&nbsp;KRW.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">securityRequestedRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"`request.security()`&nbsp;value"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">nonSecurityRequestedRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"`request.currency_rate()`&nbsp;value"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.yellow</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span></span><br></code></div>
<h2 id="requestdividends-requestsplits-and-requestearnings" class="md-heading"><a href="#requestdividends-requestsplits-and-requestearnings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.dividends()`、`request.splits()` 和</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.earnings()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析股票的收益数据和公司行为有助于了解其潜在的财务实力。Pine Script™ 能够通过
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.dividends"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.dividends()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.splits()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.earnings()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索有关适用股票的基本信息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些是函数的签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.dividends(ticker, field, gaps, lookahead, ignore_invalid_symbol, currency) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.splits(ticker, field, gaps, lookahead, ignore_invalid_symbol) → series float</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.earnings(ticker, field, gaps, lookahead, ignore_invalid_symbol, currency) → series float</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个函数在其签名中都有相同的参数，但request.splits()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除外
</font><font style="vertical-align: inherit;">，它没有</font></font><code dir="auto">currency</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，与</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数中的参数不同，</font></font><code dir="auto">ticker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些函数中的参数仅接受
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“交易所：符号”对</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如“NASDAQ：AAPL”。内置的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.ticker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syminfo.ticker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
变量不适用于这些函数，因为它不包含交易所信息。在这种情况下，必须使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syminfo.tickerid</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">决定函数将检索的数据。每个函数都接受不同的内置变量作为参数，
</font></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为每个函数请求的股票信息不同：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.dividends
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.dividends"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数检索股票的当前股息信息，即发行公司向除息日之前购买股票的投资者支付的每股金额。将内置的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_dividends.gross"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profits.gross</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_dividends.net"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profits.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
变量传递给</font></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数可指定返回值是代表公司从其支出中扣除费用之前的股息还是之后的股息。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.splits()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
</font><font style="vertical-align: inherit;">
检索股票的当前拆分和反向拆分信息。当公司增加其流通股数以促进流动性时，就会发生拆分。当公司合并其股票并以更高的价格提供，以吸引特定投资者或维持其在具有最低每股价格的市场上的上市时，就会发生反向拆分。公司将其拆分信息表示为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比率</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。例如，5:1 拆分意味着公司向其股东发行了额外的股份，以便他们拥有拆分前的五倍股份，并且每股的原始价格变为之前价格的五分之一。将
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_splits.numerator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">splits.numerator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_splits.denominator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">splits.denominator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传递
给</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;">request.splits()</font></a></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的参数
</font><font style="vertical-align: inherit;">
决定它是否返回拆分比率的分子或分母。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.earnings
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数检索股票发行公司的每股收益 (EPS) 信息</font></font><code dir="auto">ticker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。EPS 值是公司净收入与流通股数的比率，投资者将其视为公司盈利能力的指标。将
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_earnings.actual"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profits.actual</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_earnings.estimate"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profits.estimate</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_earnings.standardized"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profits.standardized</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;">request.earnings()</font></a></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数
</font><font style="vertical-align: inherit;">
分别传递可确定函数请求的是实际 EPS 值、估计 EPS 值还是标准化 EPS 值。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关这些函数的、</font></font><code dir="auto">lookahead</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><code dir="auto">ignore_invalid_symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数的
</font><font style="vertical-align: inherit;">详细说明，请参阅</font><font style="vertical-align: inherit;">本页顶部的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#common-characteristics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共同特征部分。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值得注意的是，这些函数返回的值反映了可用的数据。此行为不同于来自
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用的财务数据，因为此类调用的基础数据根据公司的财务报告期而可用。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"></font><code dir="auto">earnings.future_*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本还可以通过内置
变量</font><font style="vertical-align: inherit;">检索有关某个工具的即将到来的收益和股息的信息</font></font><code dir="auto">dividends.future_*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里我们提供了一个示例，该示例显示了一个方便的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
，其中包含最新的股息、拆分和 EPS 数据。该脚本调用</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节中讨论的函数来检索数据，然后使用函数将值转换为“字符串” ，并</font><font style="vertical-align: inherit;">使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.cell"><font style="vertical-align: inherit;">table.cell()</font></a></font><code dir="auto">str.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
显示结果</font><font style="vertical-align: inherit;">：</font></font><code dir="auto">infoTable</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table.cell"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-dividends-request-splits-and-request-earnings-1.DVVI7Tee_yVHYk.webp" alt="图像" width="1342" height="560" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="g7"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Dividends,&nbsp;splits,&nbsp;and&nbsp;earnings&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;size&nbsp;of&nbsp;the&nbsp;table's&nbsp;text.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.string</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">size.large</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Table&nbsp;size"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk11">size.auto</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.small</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.normal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.large</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.huge</span><span class="mtk13">]</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;color&nbsp;of&nbsp;the&nbsp;table's&nbsp;text&nbsp;and&nbsp;frame.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">chart.fg_color</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;A&nbsp;`table`&nbsp;displaying&nbsp;the&nbsp;latest&nbsp;dividend,&nbsp;split,&nbsp;</span><span class="mtk9">and&nbsp;EPS&nbsp;information.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">table</span><span class="mtk1">&nbsp;</span><span class="mtk33">infoTable</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">table.new</span><span class="mtk13">(</span><span class="mtk11">position.top_right</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">4</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">frame_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">frame_width</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Add&nbsp;header&nbsp;cells&nbsp;on&nbsp;the&nbsp;first&nbsp;bar.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.isfirst</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Field"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Value"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Date"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Dividend"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Split"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"EPS"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;amount&nbsp;of&nbsp;the&nbsp;last&nbsp;reported&nbsp;dividend&nbsp;as&nbsp;of&nbsp;th</span><span class="mtk9">e&nbsp;current&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">latestDividend</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.dividends</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">dividends.gross</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.gaps_on</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;numerator&nbsp;of&nbsp;that&nbsp;last&nbsp;reported&nbsp;split&nbsp;ratio&nbsp;a</span><span class="mtk9">s&nbsp;of&nbsp;the&nbsp;current&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">latestSplitNum</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.splits</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">splits.numerator</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.gaps_on</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;denominator&nbsp;of&nbsp;the&nbsp;last&nbsp;reported&nbsp;split&nbsp;ratio&nbsp;</span><span class="mtk9">as&nbsp;of&nbsp;the&nbsp;current&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">latestSplitDen</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.splits</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">splits.denominator</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.gaps_on</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;last&nbsp;reported&nbsp;earnings&nbsp;per&nbsp;share&nbsp;as&nbsp;of&nbsp;the&nbsp;cu</span><span class="mtk9">rrent&nbsp;bar.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">latestEPS</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.earnings</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">earnings.actual</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.gaps_on</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;"Value"&nbsp;and&nbsp;"Date"&nbsp;columns&nbsp;when&nbsp;new&nbsp;</span><span class="mtk9">values&nbsp;come&nbsp;in.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk18">not</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">latestDividend</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk16">math.round</span><span class="mtk13">(</span><span class="mtk33">latestDividend</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">))</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format_time</span><span class="mtk13">(</span><span class="mtk11">time</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"yyyy-MM-dd"</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk18">not</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">latestSplitNum</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format</span><span class="mtk13">(</span><span class="mtk29">"{0}-for-{1}"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">latestSplitNum</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">latestSplitDen</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format_time</span><span class="mtk13">(</span><span class="mtk11">time</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"yyyy-MM-dd"</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk18">not</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk33">latestEPS</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">latestEPS</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">infoTable</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format_time</span><span class="mtk13">(</span><span class="mtk11">time</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"yyyy-MM-dd"</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text_size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tableSize</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们在调用中</font><font style="vertical-align: inherit;">包含了
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.gaps_on"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.gaps_on</font></font></a><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此它们仅在有新数据可用时才返回值。否则，它们返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本会为第一个图表条上的变量分配一个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_table"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ID </font></font><code dir="auto">infoTable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。在后续条上，只要有数据可用，它就会用新信息更新必要的单元格。</font></font></li>
<li><font style="vertical-align: inherit;"></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果图表历史记录中</font><font style="vertical-align: inherit;">的任何调用均未提供任何信息（例如，如果</font></font><code dir="auto">ticker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有股息信息），则脚本不会初始化相应的单元格，因为这是不必要的。</font></font></li>
</ul>
<h2 id="requestquandl" class="md-heading"><a href="#requestquandl"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.quandl()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TradingView 与多家金融科技公司建立了合作伙伴关系，为用户提供关于金融工具、经济数据等的大量信息。我们的众多合作伙伴之一是</font></font><a href="https://data.nasdaq.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nasdaq Data Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（前身为 Quandl），它提供了多个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据源，脚本可以通过
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.quandl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.quandl()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数访问这些数据源。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是该函数的签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.quandl(ticker, gaps, index, ignore_invalid_symbol) → series float</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">ticker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数接受一个“简单字符串”，表示纳斯达克数据链接上发布的数据库的 ID 及其时间序列代码，以“/”分隔符分隔。例如，代码“FRED/DFF”表示来自“美联储经济数据”数据库的“有效联邦基金利率”时间序列。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">index</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数接受一个“简单 int”，表示请求数据的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列索引</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中 0 是第一个可用列。请参阅 Nasdaq Data Link 网站上的数据库文档以查看可用列。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code dir="auto">ignore_invalid_symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数的详细信息，请参阅
</font><font style="vertical-align: inherit;">本页的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#common-characteristics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共同特征部分。</font></font></a><font style="vertical-align: inherit;"></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.quandl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.quandl()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
</font><font style="vertical-align: inherit;">
只能从 Nasdaq Data Link 请求</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免费</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据。此函数无法访问需要付费订阅其服务的数据。Nasdaq Data Link 可能会随时间更改其提供的数据，并且可能不会定期更新可用的数据集。因此，程序员需要研究可供请求的支持数据并查看为每个数据集提供的文档。您可以在此处搜索免费
</font></font><a href="https://data.nasdaq.com/search?filters=%5B%22Free%22%5D" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本从“比特币数据洞察”（“BCHAIN”）数据库请求比特币哈希率（“HRATE”）信息，并
</font><font style="vertical-align: inherit;">在图表上
</font></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制检索到的时间序列数据。它使用</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_color.from_gradient"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">color.from_gradient()根据从当前哈希率到其</font></font></a><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.max"><font style="vertical-align: inherit;">历史最高点</font></a><font style="vertical-align: inherit;">
的距离为面积</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_plot.style_area"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
着色
</font><font style="vertical-align: inherit;">：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta.max"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-quandl-1.WXplEe1P_1WvLGp.webp" alt="图像" width="1342" height="558" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="23m"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Quandl&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"BTC&nbsp;hash&nbsp;rate"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;estimated&nbsp;hash&nbsp;rate&nbsp;for&nbsp;the&nbsp;Bitcoin&nbsp;network.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">hashRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.quandl</span><span class="mtk13">(</span><span class="mtk29">"BCHAIN/HRATE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">barmerge.gaps_off</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;percentage&nbsp;threshold&nbsp;from&nbsp;the&nbsp;all-time&nbsp;highes</span><span class="mtk9">t&nbsp;`hashRate`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">dropThreshold</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">40</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Drop&nbsp;threshold"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;all-time&nbsp;highest&nbsp;`hashRate`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxHashRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.max</span><span class="mtk13">(</span><span class="mtk33">hashRate</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;value&nbsp;`dropThreshold`&nbsp;percent&nbsp;below&nbsp;the&nbsp;`maxH</span><span class="mtk9">ashRate`.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">minHashRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxHashRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk12">100</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk33">dropThreshold</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk12">100</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;color&nbsp;of&nbsp;the&nbsp;plot&nbsp;based&nbsp;on&nbsp;the&nbsp;`minHashRate`&nbsp;</span><span class="mtk9">and&nbsp;`maxHashRate`.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">plotColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.from_gradient</span><span class="mtk13">(</span><span class="mtk33">hashRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">minHashRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxHashRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.blue</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;`hashRate`.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">hashRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Hash&nbsp;Rate&nbsp;Estimate"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">plotColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br></code></div>
<h2 id="requestfinancial" class="md-heading"><a href="#requestfinancial"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.financial()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务指标为投资者提供了有关公司经济和财务状况的见解，而这些见解仅通过分析其股价是无法获得的。TradingView 提供了来自</font></font><a href="https://www.factset.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FactSet的各种财务指标，交易者可以通过图表“指标”菜单中的“财务”选项卡访问这些指标。脚本可以通过</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数直接访问工具的可用指标
</font><font style="vertical-align: inherit;">
。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是该函数的签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.financial(symbol, financial_id, period, gaps, ignore_invalid_symbol, currency) → series float</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.dividends"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与request.dividends()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.splits()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.earnings()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的第一个参数一样
</font><font style="vertical-align: inherit;">，</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;">request.financial()</font></a></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数
</font><font style="vertical-align: inherit;">
需要</font><em><font style="vertical-align: inherit;">“Exchange:Symbol”对</font></em><font style="vertical-align: inherit;">。要请求图表股票代码 ID 的财务信息，请使用
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;">syminfo.tickerid</font></a><font style="vertical-align: inherit;">，因为
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.ticker"><font style="vertical-align: inherit;">syminfo.ticker</font></a><font style="vertical-align: inherit;">
不起作用。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.ticker"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">financial_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数接受一个“简单字符串”，表示所请求财务指标的 ID。TradingView 有许多财务指标可供选择。请参阅
下面的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#financial-ids"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务 ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分，了解所有可访问指标及其“字符串”标识符的概述。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">period</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数指定新请求数据的会计期间。它接受以下参数之一：
 </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“FQ”（季度）、“FH”（半年）、“FY”（年度）或“TTM”（过去十二个月） 。并非所有指标或工具都提供所有会计期间。要确认哪些期间适用于特定指标，请参阅</font></font></strong><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#financial-ids"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务 ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分中表格的第二列
</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关该函数的、</font><font style="vertical-align: inherit;">和参数</font><font style="vertical-align: inherit;">的详细说明，
</font><font style="vertical-align: inherit;">请参阅本页的
</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#common-characteristics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常见特性</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"></font><code dir="auto">ignore_invalid_symbol</code><font style="vertical-align: inherit;"></font><code dir="auto">currency</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要注意的是，从该函数检索的数据以</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固定频率</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现，与财务期间内提供数据的确切日期无关。对于公司的股息、分拆和每股收益 (EPS) 信息，可以通过
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.dividends"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.dividends()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.splits"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.splits()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.earnings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.earnings()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求按确切日期报告的数据。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
检索股票发行公司的收入和支出信息，并可视化其典型业务运营的盈利能力。它请求
</font><font style="vertical-align: inherit;">
最新的</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;">syminfo.tickerid</font></a><font style="vertical-align: inherit;">的
“OPER_INCOME”、“TOTAL_REVENUE”和“TOTAL_OPER_EXPENSE”</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#financial-ids"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务 ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后
将结果</font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;">绘制</font></a><font style="vertical-align: inherit;">在图表上：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">fiscalPeriod</code><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-financial-1.B9cESm-h_ZhOVcV.webp" alt="图像" width="1342" height="560" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="6hw"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;financial&nbsp;data&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">format</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.volume</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;size&nbsp;of&nbsp;the&nbsp;fiscal&nbsp;reporting&nbsp;period.&nbsp;Some&nbsp;opt</span><span class="mtk9">ions&nbsp;may&nbsp;not&nbsp;be&nbsp;available,&nbsp;depending&nbsp;on&nbsp;the&nbsp;instru</span><span class="mtk9">ment.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">fiscalPeriod</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.string</span><span class="mtk13">(</span><span class="mtk29">"FQ"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Period"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk13">[</span><span class="mtk29">"FQ"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"FH"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"FY"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TTM"</span><span class="mtk13">])</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;operating&nbsp;income&nbsp;after&nbsp;expenses&nbsp;reported&nbsp;for&nbsp;</span><span class="mtk9">the&nbsp;stock's&nbsp;issuing&nbsp;company.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">operatingIncome</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"OPER_INCOME"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">fiscalPeriod</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;total&nbsp;revenue&nbsp;reported&nbsp;for&nbsp;the&nbsp;stock's&nbsp;issuin</span><span class="mtk9">g&nbsp;company.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">totalRevenue</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TOTAL_REVENUE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">fiscalPeriod</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;total&nbsp;operating&nbsp;expenses&nbsp;reported&nbsp;for&nbsp;the&nbsp;sto</span><span class="mtk9">ck's&nbsp;issuing&nbsp;company.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">totalExpenses</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TOTAL_OPER_EXPENSE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">fiscalPeriod</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Is&nbsp;aqua&nbsp;when&nbsp;the&nbsp;`totalRevenue`&nbsp;exceeds&nbsp;the&nbsp;`tota</span><span class="mtk9">lExpenses`,&nbsp;fuchsia&nbsp;otherwise.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">incomeColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">operatingIncome</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.aqua</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.new</span><span class="mtk13">(</span><span class="mtk11">color.fuchsia</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Display&nbsp;the&nbsp;requested&nbsp;data.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">operatingIncome</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Operating&nbsp;income"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">incomeColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">totalRevenue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Total&nbsp;revenue"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">totalExpenses</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Total&nbsp;operating&nbsp;expenses"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">3</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并非所有</font></font><code dir="auto">fiscalPeriod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项都适用于每个股票代码。例如，美国公司通常发布
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">季度</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告，而许多欧洲公司则发布
</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">半年</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告。请参阅</font><font style="vertical-align: inherit;">
我们帮助中心的</font></font><a href="https://www.tradingview.com/support/solutions/43000540147"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此页面了解更多信息。</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h3 id="calculating-financial-metrics" class="md-heading"><a href="#calculating-financial-metrics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算财务</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指标</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
</font><font style="vertical-align: inherit;">
可以为脚本提供大量有用的财务指标，这些指标无需额外计算。但是，一些常用的财务估算需要将工具的当前市场价格与请求的财务数据相结合。例如：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市值（市场价格 * 流通股总数）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收益率（12个月每股收益/市场价格）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市净率（市场价格/BVPS）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市盈率（市场价格/每股收益）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市销率（市值/12 个月总收入）</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下脚本包含
</font></font><a href="/pine-script-docs/language/user-defined-functions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数，用于计算</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo.tickerid"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syminfo.tickerid</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的上述财务指标
</font><font style="vertical-align: inherit;">。我们创建了这些函数，以便用户可以轻松地将它们复制到他们的脚本中。此示例在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str.format"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str.format()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用中使用它们来构造一个，它使用</font><a href="/pine-script-docs/concepts/text-and-shapes#labels"><font style="vertical-align: inherit;">标签</font></a></font><code dir="auto">tooltipText</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在图表上的工具提示中显示</font><font style="vertical-align: inherit;">。将鼠标悬停在任何条形图的
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_label"><font style="vertical-align: inherit;">标签</font></a><font style="vertical-align: inherit;">上将
显示包含该条形图上计算的指标的工具提示：</font></font><a href="/pine-script-docs/concepts/text-and-shapes#labels"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#type_label"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-financial-Calculating-financial-metrics-1.BXp-EVdL_Z2nJnG7.webp" alt="图像" width="1342" height="592" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="21o"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Calculating&nbsp;financial&nbsp;metrics&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">max_labels_count</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">500</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Calculates&nbsp;the&nbsp;market&nbsp;capitalization&nbsp;(market&nbsp;cap)</span><span class="mtk9">&nbsp;for&nbsp;the&nbsp;chart's&nbsp;symbol.</span></span><br><span><span class="mtk15">marketCap</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;most&nbsp;recent&nbsp;number&nbsp;of&nbsp;outstanding&nbsp;shares&nbsp;repo</span><span class="mtk9">rted&nbsp;for&nbsp;the&nbsp;symbol.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">totalSharesOutstanding</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TOTAL_SHARES_OUTSTANDING"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"FQ"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;the&nbsp;market&nbsp;cap&nbsp;value.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">totalSharesOutstanding</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Calculates&nbsp;the&nbsp;Earnings&nbsp;Yield&nbsp;for&nbsp;the&nbsp;chart's&nbsp;sym</span><span class="mtk9">bol.</span></span><br><span><span class="mtk15">earningsYield</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;most&nbsp;recent&nbsp;12-month&nbsp;earnings&nbsp;per&nbsp;share&nbsp;repor</span><span class="mtk9">ted&nbsp;for&nbsp;the&nbsp;symbol.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">eps</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"EARNINGS_PER_SHARE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TTM"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//Return&nbsp;the&nbsp;Earnings&nbsp;Yield&nbsp;percentage.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk12">100.0</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">eps</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Calculates&nbsp;the&nbsp;Price-to-Book&nbsp;(P/B)&nbsp;ratio&nbsp;for&nbsp;the&nbsp;</span><span class="mtk9">chart's&nbsp;symbol.</span></span><br><span><span class="mtk15">priceBookRatio</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;most&nbsp;recent&nbsp;Book&nbsp;Value&nbsp;Per&nbsp;Share&nbsp;(BVPS)&nbsp;repor</span><span class="mtk9">ted&nbsp;for&nbsp;the&nbsp;symbol.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">bookValuePerShare</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"BOOK_VALUE_PER_SHARE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"FQ"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;the&nbsp;P/B&nbsp;ratio.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk33">bookValuePerShare</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Calculates&nbsp;the&nbsp;Price-to-Earnings&nbsp;(P/E)&nbsp;ratio&nbsp;for&nbsp;</span><span class="mtk9">the&nbsp;chart's&nbsp;symbol.</span></span><br><span><span class="mtk15">priceEarningsRatio</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;most&nbsp;recent&nbsp;12-month&nbsp;earnings&nbsp;per&nbsp;share&nbsp;repor</span><span class="mtk9">ted&nbsp;for&nbsp;the&nbsp;symbol.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">eps</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"EARNINGS_PER_SHARE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TTM"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;the&nbsp;P/E&nbsp;ratio.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk33">eps</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@function</span><span class="mtk9">&nbsp;Calculates&nbsp;the&nbsp;Price-to-Sales&nbsp;(P/S)&nbsp;ratio&nbsp;for&nbsp;the</span><span class="mtk9">&nbsp;chart's&nbsp;symbol.</span></span><br><span><span class="mtk15">priceSalesRatio</span><span class="mtk13">()</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;most&nbsp;recent&nbsp;number&nbsp;of&nbsp;outstanding&nbsp;shares&nbsp;repo</span><span class="mtk9">rted&nbsp;for&nbsp;the&nbsp;symbol.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">totalSharesOutstanding</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TOTAL_SHARES_OUTSTANDING"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"FQ"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;most&nbsp;recent&nbsp;12-month&nbsp;total&nbsp;revenue&nbsp;reported&nbsp;f</span><span class="mtk9">or&nbsp;the&nbsp;symbol.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">totalRevenue</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.financial</span><span class="mtk13">(</span><span class="mtk11">syminfo.tickerid</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TOTAL_REVENUE"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"TTM"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Return&nbsp;the&nbsp;P/S&nbsp;ratio.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">totalSharesOutstanding</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">/</span><span class="mtk1">&nbsp;</span><span class="mtk33">totalRevenue</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;text&nbsp;to&nbsp;display&nbsp;in&nbsp;label&nbsp;tooltips.</span></span><br><span><span class="mtk18 mtkb">string</span><span class="mtk1">&nbsp;</span><span class="mtk33">tooltipText</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.format</span><span class="mtk13">(</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk29">"Market&nbsp;Cap:&nbsp;{0}&nbsp;{1}\nEarnings&nbsp;Yield:&nbsp;{2}%\nP/B&nbsp;Ra</span><span class="mtk29">tio:&nbsp;{3}\nP/E&nbsp;Ratio:&nbsp;{4}\nP/S&nbsp;Ratio:&nbsp;{5}"</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">marketCap</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.volume</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">syminfo.currency</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">earningsYield</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceBookRatio</span><span class="mtk13">()</span><span class="mtk18">,</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">priceEarningsRatio</span><span class="mtk13">()</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">priceSalesRatio</span><span class="mtk13">()</span></span><br><span><span class="mtk1">&nbsp;</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;Displays&nbsp;a&nbsp;blank&nbsp;label&nbsp;with&nbsp;a&nbsp;tooltip&nbsp;containing&nbsp;</span><span class="mtk9">the&nbsp;`tooltipText`.</span></span><br><span><span class="mtk18 mtkb">label</span><span class="mtk1">&nbsp;</span><span class="mtk33">info</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk16">chart.point.now</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">tooltip</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">tooltipText</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于并非所有公司都会发布季度财务报告，因此可能需要更改这些函数中的“FQ”以匹配特定公司的最低报告期，因为
</font><font style="vertical-align: inherit;">
当“FQ”数据不可用时，</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用将返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na 。</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<h3 id="financial-ids" class="md-heading"><a href="#financial-ids"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是可通过request.financial()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求的所有财务指标的概述
</font><font style="vertical-align: inherit;">，以及报告可用的时间段。我们将这些信息分为四个表格，与“指标”菜单的“财务”部分中显示的类别相对应：</font></font></p>
<ul>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#income-statements"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收入报表</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#balance-sheet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产负债表</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#cash-flow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金周转</font></font></a></li>
<li><a href="/pine-script-docs/concepts/other-timeframes-and-data#statistics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">统计数据</font></font></a></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个表均包含以下三列：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一列包含每个指标的描述，并带有指向帮助中心页面的链接以获取更多信息。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二列列出了</font></font><code dir="auto">period</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该指标允许的可能参数。请注意，所有可用值可能并不与特定的股票代码 ID 兼容，例如，虽然“FQ”可能是一个可能的参数，但如果发行公司不发布季度数据，它将不起作用。</font></font></li>
<li><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;">第三列列出了request.financial()</font></a></font><code dir="auto">financial_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中参数
</font><font style="vertical-align: inherit;">的“字符串”ID </font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.financial"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些部分中的表格相当长，因为有许多
</font></font><code dir="auto">financial_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用的参数。使用每个表格上方的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“单击以显示/隐藏”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
选项可切换其可见性。</font></font></p></div></aside>
<h4 id="income-statements" class="md-heading"><a href="#income-statements"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收入</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报表</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该表列出了提供有关公司收入、成本、利润和损失信息的指标。</font></font></p>
<details open=""><summary><a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击显示/隐藏</font></font></a></summary>







































































































































































































<table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">金融的</font></font></th><th><code dir="auto">period</code></th><th><code dir="auto">financial_id</code></th></tr></thead><tbody><tr><td><a href="https://www.tradingview.com/support/solutions/43000563497"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税后其他收入/支出</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税后其他收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000670320"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均基本流通股数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本股份未清偿</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563520"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本每股收益（Basic EPS）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股收益基本</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553618"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售成本</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产品的成本</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563477"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">折旧和摊销</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">违约金_支出_收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553616"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稀释每股收益（稀释 EPS）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稀释每股收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563516"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股股东可获得的稀释净利润</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稀释净收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000670322"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摊薄后流通股数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稀释流通股数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563504"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稀释调整</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稀释调整</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563502"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止运营</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已停止运营</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000670329"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">息税前利润</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">息税前利润</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553610"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">息税折旧摊销前利润</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">息税折旧摊销前利润</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563487"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收益权益</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股权收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553611"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛利</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛利</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563468"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利息资本化</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利息_大写</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563467"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务利息支出</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务利息支出</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563466"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利息费用，扣除资本化利息</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非经营性利息</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563479"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杂项非营业费用</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他的收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553617"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净利</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净利</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563500"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止经营前的净利润</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净收入_BEF_DISC_OPER</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563495"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非控股/少数股东权益</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少数群体利益指数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563471"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业外收入（不包括利息支出）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非营业收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563465"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业外收入总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总非营业收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563473"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业外利息收入</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非营业利息收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563463"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业费用（不含销货成本）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业费用</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563464"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业收入</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563478"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他销售成本</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商品成本（扣除利息摊销）</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563483"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他运营费用总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他运营费用总计</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563506"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先股息</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先股股息</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563474"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税前收益权益</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税前权益收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563462"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税前收入</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税前收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553612"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">研究和发展</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">研究与开发</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553614"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售/一般/管理费用，其他</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出售_GEN_ADMIN_EXP_OTHER</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553613"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售/一般/管理费用总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售管理经验总计</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563492"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税费</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所得税</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553615"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总营业费用</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总运营费用</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553619"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总收入</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563476"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不寻常的收入/支出</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常支出</font></font></td></tr></tbody></table></details>
<h4 id="balance-sheet" class="md-heading"><a href="#balance-sheet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产负债</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该表列出了提供有关公司资本结构信息的指标。</font></font></p>
<details open=""><summary><a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击显示/隐藏</font></font></a></summary>
























































































































































































































































































































































<table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">金融的</font></font></th><th><code dir="auto">period</code></th><th><code dir="auto">financial_id</code></th></tr></thead><tbody><tr><td><a href="https://www.tradingview.com/support/solutions/43000563619"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付账款</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付账款</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款 - 贸易，净额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款净额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563628"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应计工资</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应计工资单</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563673"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">累计折旧总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">累计折旧总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563874"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外实收资本/资本公积</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本的额外支付</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000670330"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股账面价值</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股账面价值</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563522"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本和经营租赁义务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本经营租赁义务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563527"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本化租赁义务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本租赁义务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563709"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金等价物</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金等价物</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563702"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金和短期投资</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金和短期投资</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563866"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股权益总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股权益总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563873"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股面值/账面价值</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股票标准价</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563557"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期债务和资本租赁的当前部分</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前港口债务资本租赁</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563631"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延收入，当前</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延收入当前</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563540"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延收入，非流动</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延收入_非当前</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563683"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延税项资产</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延税项资产</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563536"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延所得税负债</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延所得税负债</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563624"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付股息</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付股息</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563688"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商誉净额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">善意</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563667"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">物业/厂房/设备总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPE_TOTAL_GROSS</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563621"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应缴所得税</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应缴所得税</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563749"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存-成品</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存成品</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563748"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存 - 进度款及其他</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存进度付款</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563753"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存-原材料</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存原材料</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563746"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存 - 在制品</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存工作正在进行中</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563645"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对非合并子公司的投资</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未合并的投资</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553621"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563521"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期债务（不包括租赁负债）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期债务扣除资本租赁</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563639"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期投资</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期投资</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563884"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少数股东权益</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少数股东权益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000665310"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563686"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净无形资产</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无形资产净值</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563657"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净资产/厂房/设备</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPE 总净值</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563641"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收票据-长期</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期应收票据</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563600"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付票据</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短期债务支付票据</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563532"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经营租赁负债</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经营租赁负债</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563877"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他普通股</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他普通股</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563761"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他流动资产总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他当前资产总计</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563635"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他流动负债</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他流动负债</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563689"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他无形资产净值</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他无形资产净值</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563649"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他投资</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他投资</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563693"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他长期资产总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期其他资产总计</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563545"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他非流动负债总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他负债总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563741"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他应收款</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他应收账款</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563614"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他短期债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他短期债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563871"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实收资本</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实收资本</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563879"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先股，账面价值</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首选库存价值</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563757"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预付的费用</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预付的费用</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563535"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">风险准备及费用</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备金风险</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563867"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">留存收益</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">留存收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000557442"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股东权益</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563554"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短期债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短期债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563563"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短期债务（不包括长期债务的流动部分）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短期债务扣除当前端口</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563716"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短期投资</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短期投资</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597072"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股有形账面价值</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每份有形书籍</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553623"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总资产</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总资产</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000557441"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流动资产总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流动资产总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000557437"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流动负债总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流动负债总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553622"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553625"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总权益</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总权益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563745"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总库存</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总库存</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553624"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负债总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负债总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553626"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负债及股东权益合计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总负债_SHRHLDRS_权益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000557440"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非流动资产总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非流动资产总计</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000557436"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非流动负债总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非流动负债总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563738"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款总额，净额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款净总额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563875"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存股 - 普通股</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国库券_普通股</font></font></td></tr></tbody></table></details>
<h4 id="cash-flow" class="md-heading"><a href="#cash-flow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">周转</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下表列出了可用的指标，可提供有关公司现金流动情况的信息。</font></font></p>
<details open=""><summary><a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击显示/隐藏</font></font></a></summary>










































































































































































































































<table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">金融的</font></font></th><th><code dir="auto">period</code></th><th><code dir="auto">financial_id</code></th></tr></thead><tbody><tr><td><a href="https://www.tradingview.com/support/solutions/43000564143"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摊销</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摊销</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本支出</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本支出</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564167"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本支出-固定资产</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本支出固定资产</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564168"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本支出-其他资产</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本支出其他资产</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553629"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">筹资活动产生的现金</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金融资活动</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553628"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资活动产生的现金</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金投资活动</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553627"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经营活动产生的现金</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金运营活动</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付账款变动</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改应付账款</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564148"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款变动</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款变化</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564151"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应计费用的变化</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应计费用的变化</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564153"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存变化</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存变化</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564154"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他资产/负债的变化</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他资产的变化</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564149"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付税款变化</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应缴税款变化</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564147"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营运资本变化</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营运资本变化</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564185"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已支付的普通股股息</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股股息现金流</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564144"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">递延税项（现金流）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金流递延税项</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563892"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">折旧和摊销（现金流）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金流折旧摊销</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564142"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">折旧/耗竭</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">折旧消耗</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564181"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">融资活动-其他来源</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他融资现金流来源</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564182"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">融资活动-其他用途</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他融资现金流用途</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000553630"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由现金流</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由现金流</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563886"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营运资金</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资金运作</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564164"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资活动-其他来源</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他投资现金流来源</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资活动-其他用途</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他投资现金流用途</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564176"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行长期债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供长期债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564172"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务发行/偿还净额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务净发行</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564175"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行/偿还长期债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行长期债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564178"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行/偿还其他债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行其他债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564173"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行/偿还短期债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行短期债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564169"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股票发行/退出净额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股票发行净额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000563888"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净收入（现金流）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净收入起始线</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564146"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非现金物品</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非现金物品</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564179"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他融资现金流量项目总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他融资现金流项目总计</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564163"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他投资现金流项目总计</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他投资现金流项目总计</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564186"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已支付优先股股息</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先股息现金流</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564162"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买投资</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买投资</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564159"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买/收购业务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买业务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564156"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买/出售业务净额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买_销售_业务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564160"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买/出售投资净额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买_销售_投资</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564177"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减少长期债务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减少长期债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564171"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回购普通股和优先股</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">购买库存</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564170"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出售普通股和优先股</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存销售</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564158"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出售固定资产和业务</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">业务销售额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564161"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资出售/到期</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资销售额</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000564183"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已支付的现金股息总额</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已支付现金股息总额</font></font></td></tr></tbody></table></details>
<h4 id="statistics" class="md-heading"><a href="#statistics"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">统计数据</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该表包含各种统计指标，包括常用的财务比率。</font></font></p>
<details open=""><summary><a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击显示/隐藏</font></font></a></summary>

















































































































































































































































































































































































<table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">金融的</font></font></th><th><code dir="auto">period</code></th><th><code dir="auto">financial_id</code></th></tr></thead><tbody><tr><td><a href="https://www.tradingview.com/support/solutions/43000597073"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应计项目</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应计比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597092"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Altman Z 分数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTMAN_Z_分数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597022"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产周转率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产周转率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597835"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beneish M 评分</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贝内什分数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597088"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回购收益率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回购收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597026"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销货成本与收入比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业收入与成本之比</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597089"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金转换周期</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金转换周期</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597023"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金负债比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金转债务</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597051"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目前的比例</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目前的比例</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597028"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存天数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发明日</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597029"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应付天数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">付款天数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597030"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款周转天数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日销售量</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597032"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务与 EBITDA 比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务与息税折旧摊销前利润</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597031"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产负债率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务与资产</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负债权益比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债权转股权</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597033"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务收入比</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务与收入之比</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597738"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股息支付率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股息支付率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597817"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股息收益率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股息收益率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000670334"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股股息 - 普通股首次发行</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DPS_COMMON_STOCK_PRIM_ISSUE</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597075"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EBITDA 利润率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EBITDA 利润率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597069"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EPS基本一年增长</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股基本收益一年增长</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597071"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EPS 摊薄一年增长</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股收益逐年递减</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597066"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股收益预测</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预计收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597034"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务实际利率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">债务实际利率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597077"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业价值</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业价值</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597063"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业价值与息税前利润之比</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业利润</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597064"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业价值与 EBITDA 比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业价值 EBITDA</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597065"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业价值与收入比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597035"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权益与资产比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股权与资产之比</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000670341"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流通股数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流通股数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597813"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由现金流利润率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由现金流保证金</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597847"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">富尔默 H 因子</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FULMER_H_FACTOR</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597036"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商誉与资产比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产信誉</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597084"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格雷厄姆数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格雷厄姆数字</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597811"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛利率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛利率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597087"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛利与资产比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产毛利润</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597037"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利息覆盖率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTERST_COVER</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597047"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存收入比</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发明创造转化为收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597046"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存货周转率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发明周转率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597844"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KZ 指数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KZ_索引</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597048"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期负债与总资产比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期资产负债</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597085"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每股净流动资产值</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NCAVPS_比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597082"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每位员工的净收入</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每位员工的净收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597074"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净利润率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净保证金</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597080"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在职员工人数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在职员工人数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000684072"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业收益率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业利润率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597076"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业利润率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营业利润率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市盈率与增长率 (PEG) 比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市盈率与增长率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597734"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piotroski F 分数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">皮奥特罗斯基分数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597831"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市盈率预测</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预期价格收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597832"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价格销售比率前进</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价格销售预测</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597086"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">质量比</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">质量比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597050"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速动比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速动比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597739"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">研发与收入比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">研究与开发以实现收益</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597054"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产收益率 ％</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产收益率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000656797"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股权益回报率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普通股回报率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597021"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股本回报率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股本回报率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597055"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调整至账面价值的股本回报率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调整后股权回报率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597056"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资资本回报率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资回报率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597052"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有形资产回报率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产回报率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597053"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有形权益回报率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股权回报率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597067"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收入估算</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售估算</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597068"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收入一年增长</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY、TTM</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收入一年增长</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597081"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每位员工的收入</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财年</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每位员工的收入</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597057"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股票回购比例 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">股票回购比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597058"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯隆比率 %</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯隆比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597848"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Springate 评分</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SPRINGATE_SCORE</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597736"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可持续增长率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可持续增长率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597079"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有形普通股权益比率</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有形普通股权益比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597834"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">托宾 Q 值（近似值）</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOBIN_Q_比率</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000670331"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已发行普通股总数</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FQ、FH、FY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已发行股份总数</font></font></td></tr><tr><td><a href="https://www.tradingview.com/support/solutions/43000597850"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zmijewski 评分</font></font></a></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务季度、财务年度</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">兹米杰夫斯基分数</font></font></td></tr></tbody></table></details>
<h2 id="requesteconomic" class="md-heading"><a href="#requesteconomic"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.economic()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.economic
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.economic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数使脚本能够检索指定国家或地区的经济数据，包括有关经济状况（GDP、通货膨胀率等）或特定行业（钢铁产量、ICU 床位等）的信息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是该函数的签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.economic(country_code, field, gaps, ignore_invalid_symbol) → series float</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">country_code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数接受一个“简单字符串”，表示要请求经济数据的国家或地区的标识符（例如“美国”、“欧盟”等）。请参阅
</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#country-region-codes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家/地区代码</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分，了解此函数支持的代码的完整列表。请注意，可用的经济指标取决于函数调用中指定的国家或地区。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数指定函数将请求的指标。
</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#field-codes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段代码</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分涵盖所有可访问的指标以及它们适用的国家/地区。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关该函数最后两个参数的详细说明，请参阅
</font><font style="vertical-align: inherit;">本页顶部的</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#common-characteristics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常见特性部分。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.economic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个简单的例子使用request.economic()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求美国（“US”）的国内生产总值（“GDPQQ”）的增长率
</font><font style="vertical-align: inherit;">，然后用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_color.from_gradient"><font style="vertical-align: inherit;">渐变颜色</font></a><font style="vertical-align: inherit;">在图表上</font></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘制</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其值：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_color.from_gradient"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-economic-1.B5XiS4A4_2mUcAV.webp" alt="图像" width="1342" height="588" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="4hs"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Requesting&nbsp;economic&nbsp;data&nbsp;demo"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;GDP&nbsp;growth&nbsp;rate&nbsp;for&nbsp;the&nbsp;US&nbsp;economy.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">gdpqq</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.economic</span><span class="mtk13">(</span><span class="mtk29">"US"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"GDPQQ"</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;all-time&nbsp;maximum&nbsp;growth&nbsp;rate.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.max</span><span class="mtk13">(</span><span class="mtk33">gdpqq</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;all-time&nbsp;minimum&nbsp;growth&nbsp;rate.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">minRate</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.min</span><span class="mtk13">(</span><span class="mtk33">gdpqq</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;color&nbsp;of&nbsp;the&nbsp;`gdpqq`&nbsp;plot.</span></span><br><span><span class="mtk18 mtkb">color</span><span class="mtk1">&nbsp;</span><span class="mtk33">rateColor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">switch</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">gdpqq</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">color.from_gradient</span><span class="mtk13">(</span><span class="mtk33">gdpqq</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.blue</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">color.from_gradient</span><span class="mtk13">(</span><span class="mtk33">gdpqq</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">minRate</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.purple</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;results.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">gdpqq</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"US&nbsp;GDP&nbsp;Growth&nbsp;Rate"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">rateColor</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_area</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例未</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.economic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.economic()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用中包含参数，因此该函数使用默认的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_barmerge.gaps_off"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barmerge.gaps_off</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。换句话说，当新数据尚不可用时，它会返回最后检索到的值。</font></font></li>
</ul>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下部分中的表格相当大，因为有众多
可用的</font></font><code dir="auto">country_code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。使用每个表格上方的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“单击以显示/隐藏”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项可切换其可见性。</font></font></p></div></aside>
<h3 id="countryregion-codes" class="md-heading"><a href="#countryregion-codes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家/地区</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节中的表格列出了可与
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.economic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.economic()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一起使用的所有国家/地区代码。表格的第一列包含代表国家或地区代码的“字符串”值，第二列包含相应的国家/地区名称。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值得注意的是，用作参数的值决定了</font><font style="vertical-align: inherit;">函数可以访问</font></font><code dir="auto">country_code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
哪些
</font></font><a href="/pine-script-docs/concepts/other-timeframes-and-data#field-codes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段代码。</font></font></a><font style="vertical-align: inherit;"></font></p>
<details open=""><summary><a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击显示/隐藏</font></font></a></summary>












































































































































































































































































































































































































































































































































































































































































































































































































































<table><thead><tr><th><code dir="auto">country_code</code></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家/地区名称</font></font></th></tr></thead><tbody><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动对焦</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿富汗</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">艾尔</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿尔巴尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大正</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿尔及利亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广告</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安道尔</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AO</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安哥拉</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">银</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安提瓜和巴布达</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应收账款</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿根廷</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亚美尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">噢</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿鲁巴</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非盟</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">澳大利亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">奥地利</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亚利桑那州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿塞拜疆</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学士学位</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴哈马</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">波黑</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴林</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">屋宇署</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">孟加拉国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BB</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴巴多斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">白俄罗斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比利时</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴兹</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伯利兹</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">北京</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贝宁</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马来亚</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">百慕大</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英国电信</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不丹</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鲍尔</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">玻利维亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文学士</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">波斯尼亚和黑塞哥维那</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">体重</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">博茨瓦纳</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴西雷亚尔</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴西</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国阵</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文莱</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保利</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保加利亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高炉</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布基纳法索</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">双</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布隆迪</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凯赫</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">柬埔寨</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">厘米</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喀麦隆</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加拿大</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简历</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">佛得角</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">肯塔基州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开曼群岛</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CF</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中非共和国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">道明</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乍得</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">氯</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智利</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一氧化碳</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哥伦比亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">知识管理</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科摩罗</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CG</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">刚果</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">碳排放</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哥斯达黎加</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人力资源</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克罗地亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CU</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古巴</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CY</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塞浦路斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捷克共和国</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">捷克共和国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">丹麦</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">丹麦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DJ</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">吉布提</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">糖尿病</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多米尼加</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">做</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多明尼加共和国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">順利</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">东帝汶</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子商务</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">厄瓜多尔</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">埃及</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SV</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">萨尔瓦多</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GQ</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">赤道几内亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">急诊室</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">厄立特里亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子工程</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爱沙尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">埃塞俄比亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欧洲联盟</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欧元区</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">福</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法罗群岛</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缩略词</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斐济</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务信息</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">芬兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法国</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遗传算法</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加蓬</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用汽车</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冈比亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用电气</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乔治亚州</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生长激素</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加纳</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生长素</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希腊</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GL</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格陵兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广东</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格林纳达</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">燃气涡轮</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">危地马拉</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">肾小球肾炎</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几内亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛里求斯</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几内亚比绍</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贵阳</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">圭亚那</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H T</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">海地</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">氢</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">洪都拉斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">香港</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">香港</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">胡</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匈牙利</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冰岛</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">印度</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">印度尼西亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">红外线</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伊朗</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智商</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伊拉克</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IE</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爱尔兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我是</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马恩岛</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">白细胞介素</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以色列</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意大利</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CI</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象牙海岸</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">吉姆</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">牙买加</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J.P</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日本</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乔</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约旦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喀什</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哈萨克斯坦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">柯尔特</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">肯尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">碘化钾</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基里巴斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">西科</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科索沃</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">千瓦</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科威特</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公斤</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">吉尔吉斯斯坦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">洛杉矶</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">老挝</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路威酩轩</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拉脱维亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磅</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黎巴嫩</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LS</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莱索托</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左心室</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利比里亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">閣下</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利比亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">李</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列支敦士登</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LT</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">立陶宛</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鲁</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卢森堡</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莫</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">澳门</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MK</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马其顿</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MG</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马达加斯加</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">兆瓦</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马拉维</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马来西亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MV</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马尔代夫</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器学习</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马里</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公吨</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马耳他</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">先生</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛里塔尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亩</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毛里求斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">墨西哥</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">墨西哥</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">医学博士</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摩尔多瓦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国会议员</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摩纳哥</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明尼苏达州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蒙古</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黑山</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嘛</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摩洛哥</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">麦哲伦</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莫桑比克</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毫米</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缅甸</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不适用</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纳米比亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名词解释</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尼泊尔</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">荷兰</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">荷兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数控</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新喀里多尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新西兰</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新西兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尼加拉瓜</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">东北</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尼日尔</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">天然气</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尼日利亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键政策</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">北朝鲜</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">挪威</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">奥姆</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿曼</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴基斯坦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附言</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴勒斯坦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宾夕法尼亚州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴拿马</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前列腺素</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴布亚新几内亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磷</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴拉圭</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聚乙烯</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秘鲁</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">肺动脉高压</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲律宾</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">波兰</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">波兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">太平洋标准时间</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">葡萄牙</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公共关系</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">波多黎各</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">质量保证</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡塔尔</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">光盘</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">刚果共和国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反渗透</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗马尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">俄罗斯</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">俄罗斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RW</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卢旺达</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WS</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">萨摩亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">山猫</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">圣马力诺</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英石</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">圣多美和普林西比</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">南非</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">沙特阿拉伯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序号</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塞内加尔</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遥感</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塞尔维亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">南卡罗来纳州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塞舌尔</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SL</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塞拉利昂</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新加坡</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新加坡</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SK</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯洛伐克</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国际单位制</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯洛文尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴拿马</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所罗门群岛</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索马里</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">南非</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">南非</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韩国</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韩国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SS</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">南苏丹</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ES</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">西班牙</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莱克</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯里兰卡</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LC</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">圣卢西亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">风险投资</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">圣文森特和格林纳丁斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准差</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">苏丹</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简写</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">苏里南</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">深圳</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">斯威士兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">东南</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">瑞典</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">瑞士</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韓國</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">叙利亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">台湾</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">台湾</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TJ</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塔吉克斯坦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">泰泽</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">坦桑尼亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頓</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">泰国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甘油三酸酯</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多哥</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汤加</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TT</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特立尼达和多巴哥</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">田纳西州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">突尼斯</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贸易</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">火鸡</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TM值</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">土库曼斯坦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本科</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乌干达</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UA</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乌克兰</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声发射</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿拉伯联合酋长国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英国</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">美国</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尤因</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乌拉圭</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乌兹别克斯坦</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乌兹别克斯坦</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似曾相识</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">瓦努阿图</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">维生素E</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">委内瑞拉</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">越南</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">越南</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">叶</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也门</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">郑州</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">赞比亚</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">津巴布韦</font></font></td></tr></tbody></table></details>
<h3 id="field-codes" class="md-heading"><a href="#field-codes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节中的表格列出了可用于
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.economic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.economic()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的字段代码。第一列包含用作</font></font><code dir="auto">field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参数的“字符串”值，第二列包含每个指标的名称以及指向我们的帮助中心的链接，其中包含更多信息，包括它们适用的国家/地区。</font></font></p>
<details open=""><summary><a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击显示/隐藏</font></font></a></summary>
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































<table><thead><tr><th><code dir="auto">field</code></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公制</font></font></th></tr></thead><tbody><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AA</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650926"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">庇护申请</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乙酰胆碱酯酶</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650920"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 原油加工量</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声发射</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汽车出口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">急性高热病</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650928"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均时薪</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">美洲人权委员会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650924"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 取暖油</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">急性肺损伤</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650929"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均每周工作时间</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论坛</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650932"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">银行资产负债表</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加拿大不列颠哥伦比亚省</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650935"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业景气指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">澳大利亚国立大学</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650936"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业信心指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">双</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650937"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业库存</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础利率</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650933"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">银行贷款利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投资促进会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651133"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NFIB 商业乐观指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器人</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650930"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贸易平衡</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英国石油公司</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650934"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建筑许可证</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">巴西雷亚尔</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650931"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">破产</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加州</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650988"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经常账户</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">慢性胃炎</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650987"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经常账户占 GDP 的比例</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帽</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650945"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汽车生产</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">车</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650946"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">车辆登记</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加拿大广播电视公司</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650952"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央银行资产负债表</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CCC</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650959"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">申领人数变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加拿大国际公司</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650966"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者信心指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央控制室</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650989"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库欣原油库存</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国共产党</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650974"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心消费者物价指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中美合作</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650973"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心CPI</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央控制测试中心</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650967"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者信心价格趋势</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连续循环电阻</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650968"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费信贷</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">碳捕获和封存协会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650982"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信用卡消费</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接蚀刻法</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650951"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">水泥生产</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CF</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650944"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资本流动</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者网络信息中心</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650957"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">芝加哥联储全国活动指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CI</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650918"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 原油进口量</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核情报中心</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650960"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同步指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">载波频率</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650975"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心通胀率，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加拿大</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650971"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持续申领失业救济人数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650921"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 库欣数值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利益冲突</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650983"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原油进口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">椰壳纤维增强塑料</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679670"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从俄罗斯进口的原油</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常量</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650965"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建筑支出</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警察</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650984"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原油产量</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考尔</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650985"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原油钻井平台</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绳索</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650963"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建筑订单同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">科尔皮</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650980"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清廉指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共轭亚油酸</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650981"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">腐败率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">瑞士官方天文台</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650986"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原油库存变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650964"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建筑业产出，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CP</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650972"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">铜产量</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPCEPI</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650976"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心PCE价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者物价指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650969"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者物价指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650939"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPI 住房公用事业</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPIM</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650940"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者物价指数中值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贸促会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650941"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中电投运输</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国国际贸易促进委员会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650942"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPI 截尾均值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPMI</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650958"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">芝加哥采购经理人指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者价格指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650977"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心生产者价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">心肺复苏</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650978"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业利润</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">慢性淋巴细胞白血病</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679669"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷物价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">慢性肾脏病</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650950"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金准备金率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650970"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费支出</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加拿大证券交易委员会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650919"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 原油库存变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中枢神经系统疾病学会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650947"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凯斯席勒房价指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中科院上海海洋科学技术研究院</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650948"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凯斯席勒房价指数，月率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中华民国史研究会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650949"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凯斯席勒房价指数，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650954"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连锁店销售</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击率</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650979"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公司税率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CU</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650943"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产能利用率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">双向磁共振</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650990"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">达拉斯联储制造业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DFP</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650996"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">馏分燃料生产</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DFS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650997"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">馏分油库存</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">东风日产</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650991"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">达拉斯联储服务业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国防科学研究院</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650992"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">达拉斯联储服务收入指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">危险品</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650993"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存款增长</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直销局</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">耐用品订单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">东印度公司</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650998"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">耐用品订单（不包括国防）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">东印度公司</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">耐用品订单（不包括运输）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650994"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存款利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">详细参数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650995"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人可支配收入</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据挖掘与信息处理</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679668"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乳制品价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650922"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 馏分油库存</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DT</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650938"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CBI 分销贸易</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子商务</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650917"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADP就业变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ED</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651012"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外债</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EDBR</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651001"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">营商便利度排名</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境健康安全</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651009"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成屋销售</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言处理</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651004"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电力生产</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电磁兼容 (EMC)</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651006"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就业变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电磁兼容性</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651007"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就业成本指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电磁脉冲</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651005"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就业人员</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子病历</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651008"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就业率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意向书</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651002"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经济乐观指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EP</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651011"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口价格</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静电放电</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651213"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZEW 经济景气指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远程预警系统</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651003"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经济观察家调查</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经验值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651010"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快递</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679671"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固定资产投资</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651016"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固定资产投资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联邦调查局</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651018"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">海外债券投资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外商直接投资</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651019"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外商直接投资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">费米</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651015"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财政支出</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">费用率</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651020"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外汇储备</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务信息</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651017"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">食品通胀率同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">福</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651014"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工厂订单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">足部损伤评估</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651013"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工厂订单（不含运输）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外国投资</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679667"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">食品价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">金融服务业</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651021"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">海外股票投资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全日制</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651022"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全职工作</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财政年GDPG</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679672"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全年 GDP 增长</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喘气</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651040"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汽油价格</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英镑</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651050"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府预算</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">性传播疾病</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651049"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府预算价值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">气相色谱</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650961"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">竞争力指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">气相色谱</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650962"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">竞争力排名</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广东</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651052"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府债务</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广东地区发展局</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651051"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府债务占 GDP 比重</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651038"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651025"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">农业国内生产总值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651026"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建筑业国内生产总值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651023"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值不变价格</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651024"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GDP平减指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值增长机构</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651033"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GDP年化增长率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值管理署</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651027"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制造业GDP</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651028"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">采矿业产生的国内生产总值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651029"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公共行政GDP</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人均国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651035"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人均国内生产总值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651036"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人均国内生产总值（PPP）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651034"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值增长率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651030"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务业GDP</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651037"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值销售额</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651031"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交通运输业产生的国内生产总值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651032"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公用事业产生的 GDP</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651039"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国内生产总值同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广东外语外贸大学</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651043"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球乳制品贸易价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">广义金融</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651060"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固定资本形成总额</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国民生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651061"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国民生产总值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GP</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651044"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黄金产量</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均绩点 (GPA)</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651053"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府工资单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格普罗</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651041"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汽油生产</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生长素</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651054"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府收入</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格雷斯</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651045"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黄金储备</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650923"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 汽油库存</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加拿大</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651057"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷物库存 玉米</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷胱甘肽顺式酶</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651042"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汽油库存变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国土安全部</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651055"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府支出占 GDP 比重</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普惠制</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651056"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">政府开支</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">胃肠道疾病</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651058"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷物库存 大豆</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格斯沃</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651059"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粮食库存 小麦</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黄金旅游</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651046"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商品贸易差额</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乙肝</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651067"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">医院病床</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">热镀锌</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651068"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家庭债务占 GDP 比重</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人类发展指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651069"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家庭债务与收入之比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高血压控制计划</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651062"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消费者物价协调指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重型机械制造工程</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679673"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">协调通货膨胀率，月率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希里</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679674"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同比调和通胀率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人机界面</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651132"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NAHB 住房市场指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">霍利</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651065"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房屋自有率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">居屋</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651063"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取暖油库存</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">霍普</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651066"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">医院</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高血压指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651071"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房价指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高性能注塑成型机</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679678"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房价指数，月率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高血压</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679679"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房价指数，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651064"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房屋贷款</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">热休克蛋白</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651070"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家庭支出</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高压输电</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651072"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房屋开工</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我知道了</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650956"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新生儿科</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651073"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重症监护病床</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IE</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651081"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通胀预期</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异氰酸单酰化酶</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651074"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IFO商业状况评估</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爱尔兰石油工程师学会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651075"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IFO 业务发展预期</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伊杰</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651084"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首次申请失业救济人数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进口</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651076"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韋皮</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679681"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进口额同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异丁烯橡胶</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651085"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">银行同业拆借利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因特尔</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651086"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国际音标协会 (IPA)</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651088"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP 地址</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智能多模光纤</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工业生产月率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伊普利</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651077"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进口价格</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国际青年年会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651079"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工业生产，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">红外测量仪</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651082"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通货膨胀率，环比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伊里耶</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651083"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通货膨胀率，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651080"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工业信心</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">互联网服务提供商</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651087"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">互联网速度</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JA</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651091"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">招聘广告</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罐</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">职位与申请比例</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JC</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650955"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">挑战者裁员</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JC4W</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651089"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失业救济申请，四周平均值</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乔</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651092"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作邀请</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合资</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651093"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">职位空缺</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韩国金融市场信息研究所</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651094"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堪萨斯联邦制造业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磅</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651104"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">银行贷款</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LC</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">劳动力成本</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">雷</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651102"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">领先经济指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低频功率比</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">劳动参与率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LG</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贷款同比增长</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">里维拉</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过逆回购注入流动性</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中低收入国家</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651096"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMI 物流经理人指数 当前</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中低收入国家</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651095"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMI 库存成本</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低分子免疫因子</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651097"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMI 物流经理人指数期货</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低分子甲基转移酶</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651098"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMI 运输价格</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低密度聚乙烯</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMI 仓库价格</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脂多糖</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651105"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私营部门贷款</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左心室</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650953"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">央行贷款利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期放射治疗</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651107"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长期失业率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左心室射血分数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679691"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低生活工资家庭</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">轻度水肿</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679702"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人生活工资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M0</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651125"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">货币供应量 M0</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M1</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651126"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">货币供应量 M1</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M2</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651127"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">货币供应量（M2）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M3</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651128"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">货币供应量 M3</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嘛</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651130"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抵押贷款审批</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651129"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抵押贷款申请</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">麦考林</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651119"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密歇根州消费者预期</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">墨尔本企业中心</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651120"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密歇根州当前经济状况</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">医学博士</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651117"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">医生</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651122"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">军费</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均国内生产总值</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679714"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">月度 GDP 同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MIE1Y</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651121"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密歇根通胀预期</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MIE5Y</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651118"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密歇根州 5 年通胀预期</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">混合IP</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651124"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">采矿业产量同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多媒体接口</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651108"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MBA抵押贷款市场指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莫</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651111"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机械订单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">议员</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651113"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制造业工资单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移动基础设施</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679666"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">肉类价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多目标预测模型</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651114"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制造业生产，月率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韋利亞</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651115"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制造业生产同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">先生</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651131"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">房贷利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁共振成像</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651109"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MBA 抵押贷款再融资指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多发性硬化症</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651116"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制造销售</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甲醇制烯烃</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651112"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机床订单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">兆瓦</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651123"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低工资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">北达科他州政府</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651148"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除飞机外的非国防资本货物订单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负向</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651047"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与非欧盟国家的商品贸易逆差</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非农就业数据</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651141"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非农就业人数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一代互联网</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679719"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">天然气进口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一代红外成像系统</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679721"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从俄罗斯进口天然气</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家安全委员会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651136"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">天然气库存变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家预防医学委员会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651135"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全国房价指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">英国国家医疗服务体系</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新屋销售</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家卫生和人口研究所</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新屋销售，月率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二甲基甲酰胺</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651143"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非制造业PMI</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新订单</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">诺德西韦</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651144"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非石油国内出口，环比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">诺德西耶</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651145"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非石油国内出口同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未观察到效应</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651142"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非石油出口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核电站</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651140"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非农就业数据 私人</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">神经外科学会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651146"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">护士</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纽约现代艺术博物馆</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纽约帝国州制造业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原厂配件</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651147"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">石油出口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">偏头痛</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679665"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">石油价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人消费支出指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651149"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人消费支出价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前列腺增生症</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651160"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私人债务占 GDP 比重</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聚四氟乙烯</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651158"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">费城联储制造业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人计算机</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651152"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">待售房屋销售指数，月率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生理盐水</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651153"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">待售房屋销售指数，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PI</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651155"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人收入</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">别针</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651161"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私人投资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人识别号码</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MBA 购买指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">皮特里普</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651154"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人所得税税率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流行音乐</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651159"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生产者价格指数 (PPI)</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生产者价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蛋白激酶Ⅱ</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651164"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生产者价格指数输入</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聚苯乙烯聚合物模塑料</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679724"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生产者价格通胀率，环比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">皮皮岛</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651163"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生产者价格指数，同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先等级</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000650925"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API 产品进口</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产品</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生产率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附言</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651156"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人储蓄</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">太平洋标准委员会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651162"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私营部门信贷</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">掌上游戏机</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651157"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人支出</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新加坡英语考试 (PTE)</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651151"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">兼职工作</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普阿克苏</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">疫情期间失业援助申请</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651177"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退休年龄男性</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生的</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651178"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退休年龄女性</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相对反应率</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651168"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">炼油厂原油加工量</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速眼动 (REM)</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651169"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汇款</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">射频微机接口</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651181"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">里士满联储制造业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">射频微分信号</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651182"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">里士满联储制造业出货指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">射频信号</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651183"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">里士满联储服务业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗德岛州</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651167"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">红皮书指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放射免疫分析协会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651171"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零售库存（不包括汽车）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零售物价指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651172"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零售物价指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无线电规则</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651170"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回购利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存款准备金率</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651180"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逆回购利率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放射科协会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651173"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零售额（不包括汽车）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">辐射防护基金会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651174"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零售额（不包括燃料）</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遥感监测模型</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651175"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零售销售，环比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韋斯特韋斯特</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651176"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零售额同比</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放射治疗</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651179"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路透短观指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">南半球服务指数</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651187"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小型企业信心指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SFHP</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651186"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单户住宅价格</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务供应商</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651191"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">钢铁生产</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">串行外设接口</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679563"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">糖价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651185"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务情绪</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">苏维埃社会主义共和国</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651190"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社会保障率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">南海资源研究中心</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651188"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业社会保障税率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSRE</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651189"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">雇员社会保障率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">强度</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651184"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售税率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">助教</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651199"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">游客人数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税务筹划</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651192"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">税收</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贸易管制局</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651200"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国库现金余额</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传输控制协议</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651196"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">东京消费者物价指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">德州仪器</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651194"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">恐怖主义指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特里布</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651195"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第三产业指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">托卡马克</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651193"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交易条件</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贸易</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651198"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旅游收入</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电视管</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651197"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汽车总销量</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加州大学</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651202"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失业率变化</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651201"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失业人员</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乌尔</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651203"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失业率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摇摆</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651205"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">韦斯</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651207"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">武器销售</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作组</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651206"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工资同比增长</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">世界卫生大会</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679725"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工资 高技能</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">威斯康星州</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651208"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">批发库存</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加权最小二乘法</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000679727"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低技能工资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">西医</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651204"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制造业工资</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">世贸组织</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651209"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">批发价格指数</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WS</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651210"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">批发销售</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尤尔</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651211"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">青年失业率</font></font></a></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中科院</font></font></td><td><a href="https://www.tradingview.com/support/solutions/43000651212"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZEW 当前状况</font></font></a></td></tr></tbody></table></details>
<h2 id="requestseed" class="md-heading"><a href="#requestseed"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`请求.seed()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TradingView 从众多提供商处汇总了大量数据，包括可交易工具的价格和数量信息、财务数据、经济数据等，用户可以使用上面讨论的函数以及多个内置变量在 Pine Script™ 中检索这些数据。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了进一步扩大可以在 TradingView 上分析的可能数据的范围，我们推出了</font></font><a href="https://github.com/tradingview-pine-seeds/docs" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Seeds</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它允许用户通过 GitHub 提供自定义的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户维护的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EOD 数据源，以用于 TradingView 图表和 Pine Script™ 代码中。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节仅包含Pine Seeds 的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简要</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述。有关 Pine Seeds 功能、设置存储库、数据格式等的详细信息，请参阅
</font></font><a href="https://github.com/tradingview-pine-seeds/docs/blob/main/README.md" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要从脚本中的 Pine Seeds 数据源中检索数据，可以使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.seed()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是该函数的签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">request.seed(source, symbol, expression, ignore_invalid_symbol, calc_bars_count) → series &lt;type&gt;</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数指定包含数据馈送的用户维护的 GitHub 存储库的唯一名称。有关创建存储库的详细信息，请参阅</font></font><a href="https://github.com/tradingview-pine-seeds/docs/blob/main/repo.md" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此页面</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code dir="auto">symbol</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数表示存储库“data/”目录中的文件名</font></font><code dir="auto">source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，不包括“.csv”文件扩展名。</font><font style="vertical-align: inherit;">
有关存储库中存储的数据结构的信息，请参阅</font></font><a href="https://github.com/tradingview-pine-seeds/docs/blob/main/data.md" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此页面。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是使用从请求上下文中提取的数据来评估的系列。它类似于
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的等效项。存储在用户维护的存储库中的数据馈送包含
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_open"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开盘价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最高价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_low"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_volume"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成交量</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
信息，这意味着用作</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数的表达式可以使用相应的内置变量，包括从它们派生的变量（例如
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_bar_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bar_index</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_ohlc4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ohlc4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等）从自定义数据的上下文中请求它们的值。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.security_lower_tf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.security_lower_tf()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.seed()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会复制在另一个上下文中评估其所需的范围</font></font><code dir="auto">expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这会增加编译限制和脚本内存需求。有关更多信息，请参阅</font></font><a href="/pine-script-docs/writing/limitations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面中有关
</font></font><a href="/pine-script-docs/writing/limitations#scope-count"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围计数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制的部分。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面的脚本可视化了来自
</font></font><a href="https://github.com/tradingview-pine-seeds/seed_crypto_santiment" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seed_crypto_santiment</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
演示存储库的示例数据。它使用两次对
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.seed()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的调用
来从存储库的
</font><a href="https://github.com/tradingview-pine-seeds/seed_crypto_santiment/blob/master/data/BTC_SENTIMENT_POSITIVE_TOTAL.csv" rel="nofollow"><font style="vertical-align: inherit;">BTC_SENTIMENT_POSITIVE_TOTAL</font></a><font style="vertical-align: inherit;">
和
</font><a href="https://github.com/tradingview-pine-seeds/seed_crypto_santiment/blob/master/data/BTC_SENTIMENT_NEGATIVE_TOTAL.csv" rel="nofollow"><font style="vertical-align: inherit;">BTC_SENTIMENT_NEGATIVE_TOTAL</font></a><font style="vertical-align: inherit;">
数据源中</font><font style="vertical-align: inherit;">
检索
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘价，并将结果</font></font></a><font style="vertical-align: inherit;"><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;">绘制</font></a><font style="vertical-align: inherit;">在图表上作为</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_plot.style_stepline"><font style="vertical-align: inherit;">阶梯线</font></a><font style="vertical-align: inherit;">：</font></font><a href="https://github.com/tradingview-pine-seeds/seed_crypto_santiment/blob/master/data/BTC_SENTIMENT_POSITIVE_TOTAL.csv" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://github.com/tradingview-pine-seeds/seed_crypto_santiment/blob/master/data/BTC_SENTIMENT_NEGATIVE_TOTAL.csv" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/plots"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_plot.style_stepline"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><img src="/pine-script-docs/_astro/Other-timeframes-and-data-Request-seed-1.8Jb0VyN__ZS6XAH.webp" alt="图像" width="1342" height="570" loading="lazy" decoding="async"></p>
<div class="pine-colorizer not-content colorized" data-id="n7"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Pine&nbsp;Seeds&nbsp;demo"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">format</span><span class="mtk18">=</span><span class="mtk11">format.volume</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;total&nbsp;positive&nbsp;sentiment&nbsp;for&nbsp;BTC&nbsp;extracted&nbsp;fr</span><span class="mtk9">om&nbsp;the&nbsp;"seed_crypto_santiment"&nbsp;repository.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">positiveTotal</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.seed</span><span class="mtk13">(</span><span class="mtk29">"seed_crypto_santiment"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"BTC_SENTIMENT_POSITIVE_TOTAL"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@variable</span><span class="mtk9">&nbsp;The&nbsp;total&nbsp;negative&nbsp;sentiment&nbsp;for&nbsp;BTC&nbsp;extracted&nbsp;fr</span><span class="mtk9">om&nbsp;the&nbsp;"seed_crypto_santiment"&nbsp;repository.</span></span><br><span><span class="mtk18 mtkb">float</span><span class="mtk1">&nbsp;</span><span class="mtk33">negativeTotal</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">request.seed</span><span class="mtk13">(</span><span class="mtk29">"seed_crypto_santiment"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"BTC_SENTIMENT_NEGATIVE_TOTAL"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Plot&nbsp;the&nbsp;data.</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">positiveTotal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Positive&nbsp;sentiment"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_stepline</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">negativeTotal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Negative&nbsp;sentiment"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.maroon</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_stepline</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://github.com/tradingview-pine-seeds/docs/blob/main/README.md" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例从Pine Seeds 文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中突出显示的 repo 请求数据
</font><font style="vertical-align: inherit;">。它仅用于示例目的，其数据</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
定期更新。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与大多数其他</font></font><code dir="auto">request.*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数不同，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_request.seed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">request.seed()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
没有参数。</font><font style="vertical-align: inherit;">
当没有新数据时，</font></font><code dir="auto">gaps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它将始终返回
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na值。</font></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以从图表的符号搜索栏中搜索 Pine Seeds 数据。要在图表上加载数据馈送，请输入</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Repo:File”对</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，类似于搜索“Exchange:Symbol”对。</font></font></li>
</ul>      </div> <div class="pagination-buttons not-content" data-astro-cid-xgirumru=""> <a href="/pine-script-docs/concepts/non-standard-charts-data" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前的</font></font></p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf=""> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow-back">  <use xlink:href="#ai:local:theme/arrow-back"></use>  </svg><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表数据  </font></font></h4> </a>  <a href="/pine-script-docs/concepts/plots" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  图</font></font><svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow">  <symbol id="ai:local:theme/arrow"><path fill="none" stroke="var(--arrow-fill-color, #131722)" d="m11 8 6 6-6 6"></path></symbol><use xlink:href="#ai:local:theme/arrow"></use>  </svg> </h4> </a>  </div>  </main>   <div id="toc" data-pagefind-ignore="" data-astro-cid-oor6cujd=""><aside class="document-toc-container ml-4 w-48" data-astro-cid-oor6cujd=""><section data-astro-cid-oor6cujd=""><header data-astro-cid-oor6cujd=""><h2 class="toc-header" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本页</font></font></h2></header><ul class="" id="toc-entries" data-astro-cid-oor6cujd=""><a href="#other-timeframes-and-data" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-current="" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和数据</font></font></li></a><a href="#introduction" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></li></a><a href="#common-characteristics" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共同特征</font></font></li></a><a href="#usage" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用法</font></font></li></a><a href="#gaps" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`差距`</font></font></li></a><a href="#ignore_invalid_symbol" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`忽略无效符号`</font></font></li></a><a href="#currency" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`货币`</font></font></li></a><a href="#lookahead" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`前瞻`</font></font></li></a><a href="#data-feeds" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据馈送</font></font></li></a><a href="#requestsecurity" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.security()`</font></font></li></a><a href="#timeframes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font></li></a><a href="#higher-timeframes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更高的时间范围</font></font></li></a><a href="#lower-timeframes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低的时间范围</font></font></li></a><a href="#requestable-data" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可请求的数据</font></font></li></a><a href="#built-in-variables-and-functions" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置变量和函数</font></font></li></a><a href="#calculated-variables" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算变量</font></font></li></a><a href="#tuples" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组</font></font></li></a><a href="#user-defined-functions" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></li></a><a href="#chart-points" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表要点</font></font></li></a><a href="#collections" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收藏</font></font></li></a><a href="#user-defined-types" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义类型</font></font></li></a><a href="#requestsecurity_lower_tf" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`请求.security_lower_tf()`</font></font></li></a><a href="#requesting-intrabar-data" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求内部数据</font></font></li></a><a href="#intrabar-data-arrays" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intrabar 数据阵列</font></font></li></a><a href="#tuples-of-intrabar-data" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条内数据元组</font></font></li></a><a href="#requesting-collections" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求收藏</font></font></li></a><a href="#custom-contexts" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义上下文</font></font></li></a><a href="#historical-and-realtime-behavior" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">历史和实时行为</font></font></li></a><a href="#avoiding-repainting" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">避免重新粉刷</font></font></li></a><a href="#higher-timeframe-data" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更高时间范围的数据</font></font></li></a><a href="#lower-timeframe-data" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低时间范围的数据</font></font></li></a><a href="#requestcurrency_rate" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`请求.currency_rate()`</font></font></li></a><a href="#requestdividends-requestsplits-and-requestearnings" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.dividends()`、`request.splits()` 和 `request.earnings()`</font></font></li></a><a href="#requestquandl" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.quandl()`</font></font></li></a><a href="#requestfinancial" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.financial()`</font></font></li></a><a href="#calculating-financial-metrics" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算财务指标</font></font></li></a><a href="#financial-ids" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">财务 ID</font></font></li></a><a href="#income-statements" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收入报表</font></font></li></a><a href="#balance-sheet" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产负债表</font></font></li></a><a href="#cash-flow" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现金周转</font></font></li></a><a href="#statistics" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-5" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">统计数据</font></font></li></a><a href="#requesteconomic" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`request.economic()`</font></font></li></a><a href="#countryregion-codes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家/地区代码</font></font></li></a><a href="#field-codes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域代码</font></font></li></a><a href="#requestseed" class="document-toc-link" data-astro-cid-oor6cujd="" aria-current="true"><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`请求.seed()`</font></font></li></a></ul><a class="back-top" href="#top" data-astro-cid-oor6cujd=""><svg width="16" height="16" viewBox="0 0 16 16" data-astro-cid-oor6cujd="" data-icon="theme/back-top">  <symbol id="ai:local:theme/back-top"><path fill="currentColor" fill-rule="evenodd" d="M6.25 12.5A2.75 2.75 0 0 0 9 9.75V4.56L6.78 6.78a.75.75 0 0 1-1.06-1.06l3.5-3.5a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1-1.06 1.06L10.5 4.56v5.19a4.25 4.25 0 0 1-8.5 0v-1a.75.75 0 0 1 1.5 0v1a2.75 2.75 0 0 0 2.75 2.75Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/back-top"></use>  </svg><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回到顶部
</font></font></a></section></aside></div> </main> </div>            <script data-astro-rerun="" src="/pine-script-docs/static/pine-highlighter-v06.js" data-astro-exec=""></script><div id="goog-gt-tt" class="VIpgJd-yAWNEb-L7lbkb skiptranslate" style="border-radius: 12px; margin: 0 0 0 -23px; padding: 0; font-family: 'Google Sans', Arial, sans-serif;" data-id=""><div id="goog-gt-vt" class="VIpgJd-yAWNEb-hvhgNd"><div class=" VIpgJd-yAWNEb-hvhgNd-l4eHX-i3jM8c"><img src="https://fonts.gstatic.com/s/i/productlogos/translate/v14/24px.svg" width="24" height="24" alt=""></div><div class=" VIpgJd-yAWNEb-hvhgNd-k77Iif-i3jM8c"><div class="VIpgJd-yAWNEb-hvhgNd-IuizWc" dir="ltr">Original text</div><div id="goog-gt-original-text" class="VIpgJd-yAWNEb-nVMfcd-fmcmS VIpgJd-yAWNEb-hvhgNd-axAV1"></div></div><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid ltr"><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od ltr" dir="ltr"><div class="VIpgJd-yAWNEb-hvhgNd-UTujCb">Rate this translation</div><div class="VIpgJd-yAWNEb-hvhgNd-eO9mKe">Your feedback will be used to help improve Google Translate</div></div><div class="VIpgJd-yAWNEb-hvhgNd-xgov5 ltr"><button id="goog-gt-thumbUpButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Good translation" aria-label="Good translation" aria-pressed="false"><span id="goog-gt-thumbUpIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7H2v13h16c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM7 18H4V9h3v9zm14-7l-3 7H9V8l4.34-4.34L12 9h9v2z"></path></svg></span><span id="goog-gt-thumbUpIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7v13h11c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM5 7H1v13h4V7z"></path></svg></span></button><button id="goog-gt-thumbDownButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Poor translation" aria-label="Poor translation" aria-pressed="false"><span id="goog-gt-thumbDownIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7h5V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zM17 6h3v9h-3V6zM3 13l3-7h9v10l-4.34 4.34L12 15H3v-2z"></path></svg></span><span id="goog-gt-thumbDownIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zm16 0h4V4h-4v13z"></path></svg></span></button></div></div><div id="goog-gt-votingHiddenPane" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><form id="goog-gt-votingForm" action="//translate.googleapis.com/translate_voting?client=te_lib" method="post" target="votingFrame" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><input type="text" name="sl" id="goog-gt-votingInputSrcLang"><input type="text" name="tl" id="goog-gt-votingInputTrgLang"><input type="text" name="query" id="goog-gt-votingInputSrcText"><input type="text" name="gtrans" id="goog-gt-votingInputTrgText"><input type="text" name="vote" id="goog-gt-votingInputVote"></form><iframe name="votingFrame" frameborder="0"></iframe></div></div></div> </body></html>