<html lang="zh-CN" data-theme="light" class="translated-ltr"><head><script data-astro-exec="">
			const url = window.location.href;
			const expectedUrl = url.replace(
				/^https:\/\/(?!beta)(\w+\.)?tradingview\.com/,
				'https://www.tradingview.com',
			);
			if (url !== expectedUrl) {
				window.location.replace(expectedUrl);
			}
		</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/pine-script-docs/static/favicon.ico"><link rel="icon" type="image/svg+xml" href="/pine-script-docs/favicon.svg"><title>概念 / 文本和形状</title><meta name="og:title" content="Concepts / Text and shapes"><meta name="twitter:title" content="Concepts / Text and shapes"><meta name="description" content="Everything you need to know about Pine Script™."><meta name="og:description" content="Everything you need to know about Pine Script™."><meta name="twitter:description" content="Everything you need to know about Pine Script™."><meta name="keywords" content="tradingview, pine, script, indicators, strategies"><meta name="og:image" content="/pine-script-docs/meta-image.png"><meta name="twitter:image" content="/pine-script-docs/meta-image.png"><meta name="og:image:width" content="1200"><meta name="og:image:height" content="630"><meta name="og:url" content="../../concepts/text-and-shapes/"><meta name="twitter:url" content="../../concepts/text-and-shapes/"><meta name="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TradingView"><link rel="canonical" href="../../concepts/text-and-shapes/"><link rel="sitemap" href="/pine-script-docs/sitemap-index.xml"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="none"><link rel="stylesheet" href="/pine-script-docs/_astro/index.jN9AZoBe.css">
<link rel="stylesheet" href="/pine-script-docs/_astro/index.C8b720yZ.css"><script type="module" src="/pine-script-docs/_astro/hoisted.D4iEV6y6.js" data-astro-exec=""></script><style type="text/css" media="screen">.monaco-editor-tv-pine-dark { 
    .mtk1 { color: #ffffff; }
    .mtk2 { color: #131722; }
    .mtk3 { color: #cc6666; }
    .mtk4 { color: #9cdcfe; }
    .mtk5 { color: #ce9178; }
    .mtk6 { color: #d4d4d4; }
    .mtk7 { color: #b5cea8; }
    .mtk8 { color: #608b4e; }
    .mtk9 { color: #787b86; }
    .mtk10 { color: #569cd6; }
    .mtk11 { color: #f77c80; }
    .mtk12 { color: #f57f17; }
    .mtk13 { color: #dcdcdc; }
    .mtk14 { color: #808080; }
    .mtk15 { color: #3179f5; }
    .mtk16 { color: #5b9cf6; }
    .mtk17 { color: #ba68c8; }
    .mtk18 { color: #42bda8; }
    .mtk19 { color: #f44747; }
    .mtk20 { color: #c586c0; }
    .mtk21 { color: #a79873; }
    .mtk22 { color: #dd6a6f; }
    .mtk23 { color: #5bb498; }
    .mtk24 { color: #909090; }
    .mtk25 { color: #778899; }
    .mtk26 { color: #ff00ff; }
    .mtk27 { color: #b46695; }
    .mtk28 { color: #388e3c; }
    .mtk29 { color: #ff0000; }
    .mtk30 { color: #4f76ac; }
    .mtk31 { color: #3dc9b0; }
    .mtk32 { color: #74b0df; }
    .mtk33 { color: #d1d4dc; }
    .mtk34 { color: #4864aa; }
    .mtki { font-style: italic; }
    .mtkb { font-weight: bold; }
    .mtku { text-decoration: underline; text-underline-position: under; }
    .mtks { text-decoration: line-through; }
    .mtks.mtku { text-decoration: underline line-through; text-underline-position: under; } }</style>
<style type="text/css" media="screen">.monaco-editor-tv-pine-light { 
.mtk1 { color: #131722; }
.mtk2 { color: #ffffff; }
.mtk3 { color: #808080; }
.mtk4 { color: #ff0000; }
.mtk5 { color: #0451a5; }
.mtk6 { color: #0000ff; }
.mtk7 { color: #098658; }
.mtk8 { color: #008000; }
.mtk9 { color: #9598a1; }
.mtk10 { color: #dd0000; }
.mtk11 { color: #cc2929; }
.mtk12 { color: #f57f17; }
.mtk13 { color: #000000; }
.mtk14 { color: #383838; }
.mtk15 { color: #0c3299; }
.mtk16 { color: #2962ff; }
.mtk17 { color: #8e24aa; }
.mtk18 { color: #22ab94; }
.mtk19 { color: #cd3131; }
.mtk20 { color: #863b00; }
.mtk21 { color: #af00db; }
.mtk22 { color: #800000; }
.mtk23 { color: #e00000; }
.mtk24 { color: #3030c0; }
.mtk25 { color: #666666; }
.mtk26 { color: #778899; }
.mtk27 { color: #c700c7; }
.mtk28 { color: #a31515; }
.mtk29 { color: #388e3c; }
.mtk30 { color: #4f76ac; }
.mtk31 { color: #008080; }
.mtk32 { color: #001188; }
.mtk33 { color: #2a2e39; }
.mtk34 { color: #4864aa; }
.mtki { font-style: italic; }
.mtkb { font-weight: bold; }
.mtku { text-decoration: underline; text-underline-position: under; }
.mtks { text-decoration: line-through; }
.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; } }</style><link type="text/css" rel="stylesheet" charset="UTF-8" href="https://www.gstatic.com/_/translate_http/_/ss/k=translate_http.tr.26tY-h6gH9w.L.W.O/am=GAY/d=0/rs=AN8SPfrev-A3NvrBP0gNq8zXCqKY7IcBLA/m=el_main_css"></head> <body> <div id="search-content-blur" hidden=""></div> <script data-astro-exec="">
	/* eslint-disable @typescript-eslint/typedef */
	window.ThemeProvider = (() => {
		function getCurrent() {
			return (
				// eslint-disable-next-line no-restricted-syntax
				typeof localStorage !== 'undefined' &&
				localStorage.getItem('tv-docs-theme')
			);
		}
		const storedTheme = getCurrent();
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ?
				'light'
			:	'dark');
		document.documentElement.dataset.theme =
			theme === 'light' ? 'light' : 'dark';
		document.documentElement.classList.toggle(
			'theme-dark',
			theme === 'dark',
		); // add support for ui-lib themes
		document.documentElement.classList.toggle(
			'sl-theme-dark',
			theme === 'dark',
		); // add support for shoelace themes

		return {
			updatePickers(themeArg = storedTheme || 'auto') {
				let currentTheme = themeArg;
				if (currentTheme === 'unknown') {
					currentTheme = getCurrent() || 'auto';
				}
				document
					.querySelectorAll('docs-theme-select')
					.forEach((picker) => {
						const select = picker.querySelector('select');
						if (select) select.value = currentTheme;
						/** @type {HTMLTemplateElement | null} */
						const tmpl = document.querySelector(`#theme-icons`);
						const newIcon =
							tmpl &&
							tmpl.content.querySelector('.' + currentTheme);
						if (newIcon) {
							const oldIcon =
								picker.querySelector('svg.label-icon');
							if (oldIcon) {
								oldIcon.replaceChildren(
									...newIcon.cloneNode(true).childNodes,
								);
							}
						}
					});
			},
		};
	})();
	/* eslint-enable @typescript-eslint/typedef */
</script><template id="theme-icons"><svg width="16px" height="16px" viewBox="0 0 28 28" class="light" data-icon="theme/sun-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg><svg width="16px" height="16px" viewBox="0 0 28 28" class="dark" data-icon="theme/moon-28">  <symbol id="ai:local:theme/moon-28"><path fill="currentColor" fill-rule="evenodd" d="M21 7.02A9.23 9.23 0 0 0 15.2 5 9.1 9.1 0 0 0 6 14c0 4.97 4.12 9 9.2 9a9.33 9.33 0 0 0 5.8-2.02A7 7 0 0 1 14.36 14 7 7 0 0 1 21 7.02Zm-3.95-.3a7.91 7.91 0 0 0-1.85-.22A7.6 7.6 0 0 0 7.5 14a7.6 7.6 0 0 0 7.7 7.5 8 8 0 0 0 1.85-.22A8.46 8.46 0 0 1 12.86 14c0-3.1 1.69-5.8 4.19-7.28Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/moon-28"></use>  </svg><svg width="16px" height="16px" viewBox="0 0 28 28" class="auto" data-icon="theme/system-28">  <symbol id="ai:local:theme/system-28"><path fill="currentColor" d="M8 4h1v2H8V4Zm0 9v2h1v-2H8Zm6-3V9h-2v1h2ZM3 9v1h2V9H3Zm5.5 3a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm4.2-6-.7-.7-1.4 1.4.7.7L12.7 6ZM5 13.7l-.7-.7 1.4-1.4.7.7L5 13.7Zm7.7-.7-.7.7-1.4-1.4.7-.7 1.4 1.4ZM4.3 6l.7-.7 1.4 1.4-.7.7L4.3 6Zm3 17 14-14 .8.7L8 23.7l-.7-.7Zm17.2-.1a3.5 3.5 0 0 1-3.4-5.9H21a4 4 0 1 0 3.5 5.9Z"></path></symbol><use xlink:href="#ai:local:theme/system-28"></use>  </svg></template> <div class="backdrop" data-mobile-menu-backdrop="" data-astro-cid-h2irkosh=""></div> <div class="menu-container" data-astro-cid-h2irkosh=""> <div class="header" data-astro-cid-h2irkosh=""> <div class="header-group" data-astro-cid-h2irkosh="">    <docs-theme-select class="" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;黑暗的&nbsp;&nbsp;</font></font></option><option value="light" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;明亮&nbsp;&nbsp;</font></font></option><option value="auto" selected="true" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;自动&nbsp;&nbsp;</font></font></option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </div> <div class="header-group" data-astro-cid-h2irkosh="">  <div class="not-content" style="stroke-width:2px" data-astro-cid-pkzv2hgs=""> <button id="mobile-menu-back-button" title="关闭菜单" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-primary stvb-icon">  <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-h2irkosh="" data-icon="theme/arrow-back">  <symbol id="ai:local:theme/arrow-back"><g fill="none"><g clip-path="url(#a)"><path stroke="var(--arrow-fill-color, #131722)" d="m17 20-6-6 6-6"></path></g><defs><clipPath id="a"><path fill="#fff" d="M28 28H0V0h28z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/arrow-back"></use>  </svg>  </button> </div>  </div> </div> <aside id="nav" class="keep-visible" style="--navbar-right-border-width: 0px" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-mobile="" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="文档侧边栏" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎使用 Pine Script™ v5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初识Pine Script™</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一步</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个指标</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模型</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/time-series" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间序列</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份标识</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量声明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型系统</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/backgrounds" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-coloring" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图色彩</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-plotting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图状态</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表信息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/colors" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">颜色</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/fills" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">填充</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/levels" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/lines-and-boxes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线条和盒子</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/plots" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新粉刷</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/tables" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/text-and-shapes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和形状</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写脚本</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">风格指南</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析和优化</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布脚本</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常问问题</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行说明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迁移指南</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 4</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 3</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里可以获得更多信息？</font></font></a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  </div>   <header class="header" data-astro-cid-d74r2unp=""> <nav role="navigation" aria-label="主导航" data-astro-cid-d74r2unp=""> <mobile-menu-button id="mobile-menu-button-wc" data-astro-cid-oojooh3d=""> <!-- Annoyingly I need to wrap this. TODO: improve this --> <div id="mobile-menu-button-header" data-astro-cid-oojooh3d=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button title="打开导航菜单" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-gray stvb-medium stvb-secondary stvb-icon stvb-icon-force-color stvb-force-no-border">  <svg width="28" height="28" viewBox="0 0 24 24" data-astro-cid-oojooh3d="" data-icon="theme/bars">  <symbol id="ai:local:theme/bars"><path fill="currentColor" d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"></path></symbol><use xlink:href="#ai:local:theme/bars"></use>  </svg>  </button> </div>  </div> </mobile-menu-button>   <div data-hide-when-search="" data-astro-cid-d74r2unp=""> <div class="header-logo" data-astro-cid-tycb33lk=""> <a href="/pine-script-docs/" aria-label="主页按钮" data-astro-cid-tycb33lk=""> <div class="documentation-logo logo" data-astro-cid-tycb33lk=""><svg width="188" height="44" viewBox="0 0 188 44" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M26.9989 28.0001L18.4281 20.7531L11.3382 23.2611C10.402 23.5923 9.60771 22.5041 10.2085 21.7134L21.0877 7.39502C21.4749 6.88536 22.2346 6.86567 22.6478 7.35459L34.7627 21.6923C35.1531 22.1543 35.0472 22.8544 34.5376 23.1802L26.9989 28.0001ZM32.4978 22.1105L27.1641 25.5207L19.7195 19.2258C19.1767 18.7669 18.4312 18.6305 17.7611 18.8676L13.8245 20.2602L21.9253 9.59841L32.4978 22.1105Z" fill="currentColor"></path>
<path d="M33.432 28.0842L38.3592 34.7471C38.7427 35.2657 38.3724 36 37.7274 36H6.27248C5.62746 36 5.25722 35.2657 5.64074 34.7471L10.8523 27.6996C10.9484 27.5697 11.0822 27.4725 11.2356 27.4214L17.6878 25.2707C17.9285 25.1904 18.1932 25.2314 18.3984 25.3806L26.2854 31.1166C26.5445 31.3051 26.8922 31.3173 27.1639 31.1475L32.3838 27.885C32.7316 27.6677 33.1881 27.7544 33.432 28.0842Z" fill="currentColor"></path>
<path d="M59.56 13.96C63.016 13.96 65.536 16.456 65.536 19.696C65.536 22.936 63.016 25.432 59.56 25.432H57.376V31H53.896V13.96H59.56ZM59.512 22.168C61.096 22.168 62.152 21.088 62.152 19.696C62.152 18.304 61.096 17.224 59.512 17.224H57.376V22.168H59.512ZM70.8636 14.944C70.8636 16.096 69.9276 17.032 68.7516 17.032C67.6236 17.032 66.6636 16.096 66.6636 14.944C66.6636 13.792 67.6236 12.856 68.7516 12.856C69.9276 12.856 70.8636 13.792 70.8636 14.944ZM67.1196 31V19H70.4076V31H67.1196ZM73.0849 31V19H76.3729V20.368C76.9969 19.408 78.2449 18.736 79.8049 18.736C82.7089 18.736 84.4369 20.848 84.4369 23.968V31H81.1489V24.52C81.1489 22.792 80.4049 21.736 79.0369 21.736C77.5249 21.736 76.3729 22.84 76.3729 25.144V31H73.0849ZM86.2041 25C86.2041 21.448 88.8681 18.736 92.5161 18.736C95.6601 18.736 98.4201 20.752 98.4201 24.64C98.4201 24.928 98.4201 25.264 98.3721 25.768H89.3961C89.5881 27.376 91.0041 28.264 92.5881 28.264C94.0761 28.264 95.1561 27.568 95.6841 26.752L98.1321 28.576C97.0281 30.184 95.0841 31.264 92.5641 31.264C88.9881 31.264 86.2041 28.792 86.2041 25ZM92.4201 21.448C91.1961 21.448 89.8281 22.072 89.5161 23.536H95.1321C94.8441 22.12 93.6441 21.448 92.4201 21.448ZM104.412 28.24L107.076 26.008C107.916 27.28 109.38 28.024 110.772 28.024C112.14 28.024 113.052 27.352 113.052 26.368C113.052 25.408 112.356 24.736 110.676 24.16L109.236 23.656C106.5 22.696 105.036 21.112 105.036 18.784C105.036 15.568 107.484 13.672 110.796 13.672C112.884 13.672 114.708 14.392 116.172 16.024L113.868 18.4C113.052 17.416 111.996 16.936 110.82 16.936C109.644 16.936 108.54 17.44 108.54 18.448C108.54 19.48 109.38 19.936 111.18 20.584L112.548 21.088C115.044 22 116.604 23.584 116.604 26.152C116.58 29.2 114.156 31.288 110.628 31.288C107.916 31.288 105.636 30.112 104.412 28.24ZM129.859 27.808C128.827 29.872 126.667 31.264 124.171 31.264C120.619 31.264 117.811 28.624 117.811 25C117.811 21.376 120.619 18.736 124.171 18.736C126.667 18.736 128.827 20.128 129.859 22.192L127.003 23.728C126.523 22.624 125.491 21.808 124.171 21.808C122.443 21.808 121.123 23.152 121.123 25C121.123 26.848 122.443 28.192 124.171 28.192C125.491 28.192 126.523 27.376 127.003 26.272L129.859 27.808ZM131.482 31V19H134.77V20.92C135.178 19.744 136.402 18.856 137.746 18.856C138.082 18.856 138.442 18.88 138.85 19V22.336C138.346 22.168 137.89 22.072 137.362 22.072C135.802 22.072 134.77 23.296 134.77 25.264V31H131.482ZM144.215 14.944C144.215 16.096 143.279 17.032 142.103 17.032C140.975 17.032 140.015 16.096 140.015 14.944C140.015 13.792 140.975 12.856 142.103 12.856C143.279 12.856 144.215 13.792 144.215 14.944ZM140.471 31V19H143.759V31H140.471ZM146.436 36.016V19H149.724V20.344C150.276 19.576 151.548 18.736 153.204 18.736C156.396 18.736 158.844 21.592 158.844 25C158.844 28.408 156.396 31.264 153.204 31.264C151.548 31.264 150.276 30.424 149.724 29.656V36.016H146.436ZM155.508 25C155.508 23.128 154.284 21.736 152.484 21.736C150.684 21.736 149.46 23.128 149.46 25C149.46 26.872 150.684 28.264 152.484 28.264C154.284 28.264 155.508 26.872 155.508 25ZM168.407 30.88C167.879 31.048 167.231 31.144 166.319 31.144C163.775 31.144 161.735 29.728 161.735 26.8V21.88H159.311V19H161.735V15.664H165.023V19H168.407V21.88H165.023V26.152C165.023 27.616 165.647 28.192 167.063 28.192C167.591 28.192 168.023 28.12 168.407 27.976V30.88ZM177.626 22.648V13.96H179.978L181.874 16.888L183.746 13.96H186.122V22.648H183.698V18.184L181.874 20.968L180.026 18.136V22.648H177.626ZM171.386 22.648V16.456H169.058V13.96H176.258V16.456H173.93V22.648H171.386Z" fill="currentColor"></path>
</svg>
</div> </a> </div>  </div> <div class="flex" data-astro-cid-d74r2unp=""></div> <div class="flex" data-astro-cid-d74r2unp=""> <div class="search-container" data-astro-cid-fg37foga=""> <div class="search-wrapper" data-astro-cid-fg37foga=""> <input class="search-input" type="text" placeholder="搜索文档" name="s" value="" data-astro-cid-fg37foga="" data-has-input-listener="true"> <svg width="28" height="28" viewBox="0 0 28 28" class="search-button" data-astro-cid-fg37foga="" data-icon="theme/search">  <symbol id="ai:local:theme/search"><path fill="currentColor" fill-rule="evenodd" d="M18.5 12.5a6 6 0 1 1-12 0 6 6 0 0 1 12 0Zm-1.25 5.8a7.5 7.5 0 1 1 1.06-1.06l4.22 4.23.53.53L22 23.06l-.53-.53-4.22-4.22Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/search"></use>  </svg> <button class="search-clear" type="button" title="重置" data-search-clear="" data-astro-cid-fg37foga=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清除</font></font></button> <span class="divider" data-astro-cid-fg37foga=""></span> <button class="search-close" type="button" title="关闭" data-search-close="" data-astro-cid-fg37foga=""> <svg width="18" height="18" viewBox="0 0 18 18" data-astro-cid-fg37foga="" data-icon="theme/cross-18">  <use xlink:href="#ai:local:theme/cross-18"></use>  </svg> </button> </div> <div id="search-results-wrapper" data-astro-cid-fg37foga=""> <aside id="search-results" hidden="" data-astro-cid-fg37foga="" data-has-button-listener="true"> <!-- Don't use h1 because when built it will be used as the first heading on the page --> <div class="heading" data-astro-cid-fg37foga=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索结果</font></font></div> <div id="search-results-contents" data-astro-cid-fg37foga=""></div> </aside> </div> </div>   </div> <ul class="links" data-astro-cid-d74r2unp="">  </ul> <div class="flex" data-astro-cid-d74r2unp=""></div> <div data-hide-when-search="" data-astro-cid-d74r2unp="">    </div> <button id="search-button" data-astro-cid-6zeqadij="" data-has-listener="true" style="display:none"> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-6zeqadij="" data-icon="theme/search">  <use xlink:href="#ai:local:theme/search"></use>  </svg> </button>  <script data-base-url="/pine-script-docs" data-astro-exec="">
	async function loadPageFind() {
		const base = document.currentScript.getAttribute('data-base-url');
		const pageFindBundleUrl = `${base}/pagefind/`;
		const pagefind = await import(`${pageFindBundleUrl}pagefind.js`);
		await pagefind.options({
			bundlePath: pageFindBundleUrl,
		});
		window.pagefind = pagefind;
	}
	loadPageFind().catch();
</script>  <docs-theme-select class="hide-with-breakpoint-568" data-astro-cid-3wpspbi7=""> <label style="--sl-select-width: 48px; --sl-label-icon-size: 28px;" data-astro-cid-lmznfliq=""> <span class="sr-only" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span> <svg width="28" height="28" viewBox="0 0 28 28" class="icon label-icon" data-button="" data-round="" data-astro-cid-lmznfliq="" data-icon="theme/system-28">  <symbol id="ai:local:theme/sun-28"><g fill="currentColor"><path d="M14 3h1.5v5H14V3Zm0 18h1.5v5H14v-5Zm12-5.5V14h-5v1.5h5ZM8 14v1.5H3V14h5Zm15.3-7-1-1-3.6 3.6 1.1 1 3.5-3.5ZM9.5 18.7l1.1 1.1-3.5 3.5-1-1 3.4-3.6ZM22 23.3l1-1-3.6-3.6-1 1.1 3.5 3.5ZM10.3 9.6l-1.1 1-3.5-3.5 1-1 3.6 3.5Z"></path><path fill-rule="evenodd" d="M19 14.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd"></path></g></symbol><use xlink:href="#ai:local:theme/sun-28"></use>  </svg> <select value="auto" data-button="" data-astro-cid-lmznfliq=""> <option value="dark" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;黑暗的&nbsp;&nbsp;</font></font></option><option value="light" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;明亮&nbsp;&nbsp;</font></font></option><option value="auto" selected="true" data-astro-cid-lmznfliq=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;自动&nbsp;&nbsp;</font></font></option> </select>  </label>  </docs-theme-select>   <script data-astro-exec="">
	ThemeProvider.updatePickers('unknown');
</script>  </nav> </header>        <div id="image-lightbox" class="not-content" hidden="" data-astro-cid-kws7taxh=""> <div class="button-wrapper" data-astro-cid-kws7taxh=""> <div class="not-content" style="" data-astro-cid-pkzv2hgs=""> <button id="lightbox-close-button" title="关闭图片预览" data-astro-cid-pkzv2hgs="" class="not-content stvb-base stvb-pointer stvb-black stvb-medium stvb-secondary stvb-icon stvb-force-no-border">  <svg width="24" height="24" viewBox="0 0 18 18" data-astro-cid-kws7taxh="" data-icon="theme/cross-18">  <symbol id="ai:local:theme/cross-18"><g fill="none"><g clip-path="url(#a)"><path fill="currentColor" fill-rule="evenodd" d="M5.53 4.47 4.47 5.53 7.94 9l-3.47 3.47 1.06 1.06L9 10.06l3.47 3.47 1.06-1.06L10.06 9l3.47-3.47-1.06-1.06L9 7.94 5.53 4.47Z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v18H0z"></path></clipPath></defs></g></symbol><use xlink:href="#ai:local:theme/cross-18"></use>  </svg>  </button> </div>  </div> <img id="lightbox-image" src="" data-astro-cid-kws7taxh=""> </div>   <div id="page-container" data-astro-cid-xgirumru=""> <aside id="nav" class="" style="" data-astro-cid-sa57sq6l=""> <div class="sidebar-viewport" data-astro-cid-sa57sq6l=""> <div class="sidebar" data-astro-cid-sa57sq6l=""> <ul class="toc" aria-label="文档侧边栏" data-astro-cid-sa57sq6l=""> <li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/welcome" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎使用 Pine Script™ v5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初识Pine Script™</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <symbol id="ai:local:theme/right-caret"><path fill="currentColor" d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></symbol><use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一步</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/first-indicator" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个指标</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/primer/next-steps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/execution-model" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模型</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/time-series" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间序列</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/script-structure" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/identifiers" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份标识</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/operators" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/variable-declarations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量声明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/conditional-structures" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件结构</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/loops" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">循环</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/type-system" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型系统</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/built-ins" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内置</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/user-defined-functions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户定义函数</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/objects" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/enums" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/methods" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/arrays" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/matrices" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/language/maps" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details open="" data-is-parent="" data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/alerts" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警报</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/backgrounds" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-coloring" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图色彩</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-plotting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/bar-states" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条形图状态</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/chart-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表信息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/colors" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">颜色</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/fills" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">填充</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/inputs" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/levels" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/libraries" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/lines-and-boxes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线条和盒子</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/non-standard-charts-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非标准图表数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/other-timeframes-and-data" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他时间范围和数据</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/plots" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/repainting" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新粉刷</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/sessions" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/strategies" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/tables" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a></li><li class="item" data-current="" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/text-and-shapes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和形状</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/time" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/concepts/timeframes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间范围</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写脚本</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/style-guide" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">风格指南</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/debugging" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/profiling-and-optimization" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析和优化</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/publishing" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布脚本</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/writing/limitations" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/faq" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常问问题</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/error-messages" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误消息</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/release-notes" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发行说明</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><details data-astro-cid-omxx3dey=""><summary data-astro-cid-omxx3dey=""><div class="summary-link" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迁移指南</font></font></div><div class="caret" data-astro-cid-omxx3dey=""><svg width="18" height="18" viewBox="0 0 24 24" class="icon" data-astro-cid-omxx3dey="" data-icon="theme/right-caret">  <use xlink:href="#ai:local:theme/right-caret"></use>  </svg></div></summary><ul class="children" data-astro-cid-omxx3dey=""><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-5" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 5</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-4" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 4</font></font></a></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/migration-guides/to-pine-version-3" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转至 Pine Script™ 版本 3</font></font></a></li></ul></details></li><li class="item" data-astro-cid-omxx3dey=""><a class="page-link" href="/pine-script-docs/where-can-i-get-more-information" data-astro-cid-omxx3dey=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里可以获得更多信息？</font></font></a></li> </ul> <div class="toc-bottom" data-astro-cid-sa57sq6l=""></div> </div> </div> </aside>  <main class="main-pane" data-page-type="md" data-astro-cid-xgirumru=""> <a id="top" data-astro-cid-xgirumru=""></a> <main class="content" data-toc-shown="" data-astro-cid-ju3wuhkz="">  <div class="content-width" data-astro-cid-xgirumru=""> <div class="breadcrumbs" data-pagefind-ignore="" data-astro-cid-wlavna2o=""> <a href="/pine-script-docs" aria-label="返回文档主页。" data-astro-cid-wlavna2o=""> <span data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户手册</font></font></span>  </a>  <span class="divider" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span> <a href="/pine-script-docs/concepts/alerts" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></a> <span class="divider" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span> <span class="current-item" data-astro-cid-wlavna2o=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和形状</font></font></span> </div>     </div> <div id="slot-container" data-astro-cid-xgirumru="">  <h1 id="text-and-shapes" class="md-heading"><a href="#text-and-shapes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形状</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h1>
<h2 id="introduction" class="md-heading"><a href="#introduction"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Pine Script™ 的五种不同方式显示文本或形状：</font></font></p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘图字符（）</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘图形状（）</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图箭头()</font></font></a></li>
<li><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;">使用label.new()</font></a><font style="vertical-align: inherit;">创建的标签
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"></font></a></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_table%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用table.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建的表
</font><font style="vertical-align: inherit;">
（参见</font></font><a href="/pine-script-docs/concepts/tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用哪一个取决于您的需求：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格可以在图表上以各种相对位置显示文本，这些文本不会随着用户滚动或水平缩放图表而移动。其内容不受条形图的束缚。相比之下，使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new()显示的文本始终受特定条形图的束缚，因此它将随着图表上条形图的位置而移动。有关它们的更多信息，请参阅</font></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
页面
</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括三个函数能够显示预定义的形状：
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotarrow()和用</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
创建的标签
</font><font style="vertical-align: inherit;">。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotarrow()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不能显示文本，只能显示向上或向下的箭头。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以在图表的任意条或所有条上显示非动态文本。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
只能显示一个字符，而
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以显示字符串，包括换行符。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最多可在图表上显示 500 个标签。其文本</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
包含动态文本或“系列字符串”。标签文本还支持换行。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以以过去或将来的固定偏移量显示文本，并且该偏移量在脚本执行期间不会改变，但每个
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用都可以使用可以动态计算的“系列”偏移量。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于 Pine Script™ 琴弦，需要记住以下几点：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;">plotchar()</font></a><font style="vertical-align: inherit;">
和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;">plotshape()</font></a></font><code dir="auto">text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数都
</font><font style="vertical-align: inherit;">
需要“const string”参数，因此它不能包含只能在条形图上知道的值（例如价格（“系列字符串”）。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在使用label.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示的文本中包含“系列”值
，首先需要使用</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str%7Bdot%7Dtostring"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str.tostring()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将它们转换为字符串
</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine 中的字符串连接运算符是</font></font><code dir="auto">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。它用于将字符串组件连接成一个字符串，例如
</font></font><code dir="auto">msg = "Chart symbol: " + syminfo.tickerid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（其中
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_syminfo%7Bdot%7Dtickerid"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syminfo.tickerid</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是一个内置变量，以字符串格式返回图表的交易所和符号信息）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有这些函数显示的字符都可以是 Unicode 字符，其中可能包括 Unicode 符号。请参阅此</font></font><a href="https://www.tradingview.com/script/0rFQOCKf-Exploring-Unicode/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exploring Unicode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
脚本，了解 Unicode 字符可以做什么。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时可以使用函数参数来控制文本的颜色或大小，但无法进行内联格式化（粗体、斜体、等宽字体等）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine 脚本中的文本始终以 Trebuchet MS 字体显示在图表上，该字体用于许多 TradingView 文本，包括这个。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该脚本使用 Pine Script™ 中提供的四种方法显示文本：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="1hu"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Four&nbsp;displays&nbsp;of&nbsp;text"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"`plotchar()`"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"🠅"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.belowbar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.small</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotshape</span><span class="mtk13">(</span><span class="mtk16">ta.falling</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">5</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"`plotchar()`"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">location</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.abovebar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"•`plotshape()•`\n🠇"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">textcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.fuchsia</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.huge</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">%</span><span class="mtk1">&nbsp;</span><span class="mtk12">25</span><span class="mtk1">&nbsp;</span><span class="mtk18">==</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"•LABEL•\nHigh&nbsp;=&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.mintick</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">"\n🠇"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">yloc</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">yloc.abovebar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_none</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">textcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.black</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.normal</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk15">printTable</span><span class="mtk13">(</span><span class="mtk33">txt</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">=&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk18 mtkb">table</span><span class="mtk1">&nbsp;</span><span class="mtk33">t</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">table.new</span><span class="mtk13">(</span><span class="mtk11">position.middle_right</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">table.cell</span><span class="mtk13">(</span><span class="mtk33">t</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">txt</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">bgcolor</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.yellow</span><span class="mtk13">)</span></span><br><span><span class="mtk15">printTable</span><span class="mtk13">(</span><span class="mtk29">"•TABLE•\n"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">"&nbsp;bars\nin&nbsp;the&nbsp;dataset"</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Introduction-01.Caf7GxqL_Z22HKK1.webp" alt="图像" width="1348" height="566" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于显示每个文本字符串的方法与文本一起显示，除了使用plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示的向上箭头外
</font><font style="vertical-align: inherit;">，因为它只能显示一个字符。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签和表格调用可以插入条件结构中，以控制何时执行它们，而
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
则不能。它们的条件绘图必须使用其第一个参数来控制，该参数是一个“系列布尔值”，其</font></font><code dir="auto">true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code dir="auto">false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值决定何时显示文本。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格和标签中显示的数字值首先使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_str%7Bdot%7Dtostring"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str.tostring()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换为字符串。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用</font></font><code dir="auto">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符来连接字符串组件。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
旨在显示带有文本的形状。其</font></font><code dir="auto">size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参数控制形状的大小，而不是文本的大小。我们使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为其</font></font><code dir="auto">color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，这样形状就不可见了。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与其他文本相反，表格文本不会随着图表滚动或缩放而移动。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些文本字符串包含🠇 Unicode 箭头 (U+1F807)。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些文本字符串包含</font></font><code dir="auto">\n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代表新行的序列。</font></font></li>
</ul>
<h2 id="plotchar" class="md-heading"><a href="#plotchar"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`plotchar()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此函数可用于在条形图上显示单个字符。其语法如下：</font></font></p>
<div class="expressive-code not-content"><link rel="stylesheet" href="/pine-script-docs/_astro/ec.dtidy.css"><script type="module" src="/pine-script-docs/_astro/ec.8gcug.js" data-astro-exec=""></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">plotchar(series, title, char, location, color, offset, text, textcolor, editable, size, show_last, display, force_overlay) → void</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参数的详细信息，</font><font style="vertical-align: inherit;">请参阅参考手册中的条目。</font></font></p>
<p><font style="vertical-align: inherit;"><a href="/pine-script-docs/writing/debugging"><font style="vertical-align: inherit;">正如我们调试页面中</font></a></font><a href="/pine-script-docs/writing/debugging#when-the-scripts-scale-must-be-preserved"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当必须保留脚本的比例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分
</font><font style="vertical-align: inherit;">所述
</font><font style="vertical-align: inherit;">，该函数可用于显示和检查数据窗口中的值，或图表上脚本名称右侧显示的指标值：</font></font><a href="/pine-script-docs/writing/debugging"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="4jl"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Bar&nbsp;index"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.top</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Plotchar-01.Bocx9V6g_Z13RLu0.webp" alt="图像" width="1842" height="532" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">光标位于图表的最后一条柱上。</font></font></li>
<li><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">该条</font></strong><font style="vertical-align: inherit;">
上的</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_bar_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bar_index</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值
</font><font style="vertical-align: inherit;">显示在指标值 (1) 和数据窗口 (2) 中。</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_location%7Bdot%7Dtop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">location.top</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因为默认的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_location%7Bdot%7Dabovebar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">location.abovebar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会在脚本的比例中考虑价格，这通常会干扰其他图表。</font></font></li>
</ul>
<p><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
还可以很好地识别图表上的特定点或验证条件是否</font></font><code dir="auto">true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符合我们的预期。此示例在
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收盘价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最高价</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_volume"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成交量</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
连续两个柱状图上升的柱状图下方显示一个向上箭头：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="6od"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk18 mtkb">bool</span><span class="mtk1">&nbsp;</span><span class="mtk33">longSignal</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plotchar</span><span class="mtk13">(</span><span class="mtk33">longSignal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"▲"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.belowbar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.gray</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.blue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">size</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">size.tiny</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Plotchar-02.CP9gwRwQ_cuUlM.webp" alt="图像" width="1770" height="480" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用，这样我们的脚本就可以在没有</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_volume"><font style="vertical-align: inherit;">成交量</font></a></font><code dir="auto">(na(volume) or ta.rising(volume, 2))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据的情况下工作
</font><font style="vertical-align: inherit;">
。如果我们没有为没有
</font><font style="vertical-align: inherit;">成交量数据的情况做好准备，</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_volume"><font style="vertical-align: inherit;">那么</font></a><font style="vertical-align: inherit;">
变量</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">值永远不会是，</font><font style="vertical-align: inherit;">
因为</font><font style="vertical-align: inherit;">在这些情况下会</font><font style="vertical-align: inherit;">产生收益。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_volume"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_volume"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">na(volume)</code><font style="vertical-align: inherit;"></font><code dir="auto">true</code><font style="vertical-align: inherit;"></font><code dir="auto">longSignal</code><font style="vertical-align: inherit;"></font><code dir="auto">true</code><font style="vertical-align: inherit;"></font><code dir="auto">ta.rising(volume, 2)</code><font style="vertical-align: inherit;"></font><code dir="auto">false</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当没有成交量时，我们会将箭头显示为灰色，以提醒我们所有三个基本条件均未得到满足。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在在图表上显示一个字符，我们用它
</font></font><code dir="auto">size = size.tiny</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来控制它的大小。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经调整了</font></font><code dir="auto">location</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论点，以显示条下的字符。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您不介意只绘制圆形，您也可以使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plot()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
来实现类似的效果：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="17c"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">longSignal</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">longSignal</span><span class="mtk1">&nbsp;</span><span class="mtk18">?</span><span class="mtk1">&nbsp;</span><span class="mtk11">low</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">ta.tr</span><span class="mtk1">&nbsp;</span><span class="mtk18">:</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.blue</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">plot.style_circles</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plot"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种方法的不便之处在于，由于plot()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有相对定位机制，因此
必须使用类似</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_ta%7Bdot%7Dtr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ta.tr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
（条形图的“真实范围”）</font><font style="vertical-align: inherit;">
将圆圈向下移动
：</font></font></p>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Plotchar-03.lnUtjJIt_5GDoG.webp" alt="图像" width="1408" height="534" loading="lazy" decoding="async"></p>
<h2 id="plotshape" class="md-heading"><a href="#plotshape"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`plotshape()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此函数可用于在条形图上显示预定义的形状和/或文本。其语法如下：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">plotshape(series, title, style, location, color, offset, text, textcolor, editable, size, show_last, display, force_overlay) → void</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参数的详细信息，</font><font style="vertical-align: inherit;">请参阅参考手册中的条目。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们使用该函数来实现与上一节的第二个示例大致相同的结果：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="72c"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">longSignal</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">and</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk16">na</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">or</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rising</span><span class="mtk13">(</span><span class="mtk11">volume</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">2</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plotshape</span><span class="mtk13">(</span><span class="mtk33">longSignal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Long"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">shape.arrowup</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.belowbar</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，这里我们没有使用箭头字符，而是使用参数
</font></font><code dir="auto">shape.arrowup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为参数</font></font><code dir="auto">style</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Plotshape-01.JOPpSRCa_1wGGd4.webp" alt="图像" width="1416" height="484" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用不同的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用将文本叠加在条形图上。您需要使用</font></font><code dir="auto">\n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟不会被删除的特殊非打印字符来保留换行符的功能。这里我们使用 Unicode 零宽度空格 (U+200E)。虽然您在以下代码的字符串中看不到它，但它确实存在并且可以复制/粘贴。</font><font style="vertical-align: inherit;">对于向上的文本，特殊的 Unicode 字符必须是字符串中的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个字符，而当您在条形图下方绘图并且文本向下时，则必须是第一个字符</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></strong><font style="vertical-align: inherit;"></font></p>
<div class="pine-colorizer not-content colorized" data-id="40t"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Lift&nbsp;text"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotshape</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">shape.arrowup</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk11">location.abovebar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">text</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"A"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotshape</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">shape.arrowup</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk11">location.abovebar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.lime</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;</span><span class="mtk33">text</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"B\n​"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotshape</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">shape.arrowdown</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.belowbar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">text</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"C"</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotshape</span><span class="mtk13">(</span><span class="mtk11">true</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">shape.arrowdown</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">location.belowbar</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.maroon</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">text</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"​\nD"</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Plotshape-02.CuvXGcSI_3Ad17.webp" alt="图像" width="1410" height="618" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以与</font></font><code dir="auto">style</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数一起使用的形状有：</font></font></p>





























































<table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">争论</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形状</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带文字</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">争论</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形状</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带文字</font></font></th></tr></thead><tbody><tr><td><code dir="auto">shape.xcross</code></td><td><img src="/pine-script-docs/_astro/Plotshape_xcross.CqpTSatD_12B5cN.webp" alt="图形_xcross" width="23" height="23" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Xcross_with_text.CsITFsrT_1pTrdp.webp" alt="Xcross_with_text" width="64" height="64" loading="lazy" decoding="async"></td><td><code dir="auto">shape.arrowup</code></td><td><img src="/pine-script-docs/_astro/Plotshape_arrowup.CW1yrDMp_Z1rr90M.webp" alt="图形_箭头向上" width="27" height="26" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Arrowup_with_text.DZDHU0_8_1FaupX.webp" alt="带文本向上箭头" width="64" height="64" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">shape.cross</code></td><td><img src="/pine-script-docs/_astro/Plotshape_cross.CKH3VPKx_Z2n6Nlr.webp" alt="图形_交叉" width="23" height="23" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Cross_with_text.CtReU8CU_ZIyc6H.webp" alt="Cross_with_text" width="64" height="64" loading="lazy" decoding="async"></td><td><code dir="auto">shape.arrowdown</code></td><td><img src="/pine-script-docs/_astro/Plotshape_arrowdown.B-q2lOyW_Z1DPN2R.webp" alt="图形_箭头向下" width="27" height="26" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Arrowdown_with_text.DjuzMvwv_liley.webp" alt="带文本的向下箭头" width="64" height="64" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">shape.circle</code></td><td><img src="/pine-script-docs/_astro/Plotshape_circle.C1i8wH61_Z1r7VpY.webp" alt="图形_圆形" width="23" height="23" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Circle_with_text.WA6whkZO_Z2ss0o7.webp" alt="带文字的圆圈" width="64" height="64" loading="lazy" decoding="async"></td><td><code dir="auto">shape.square</code></td><td><img src="/pine-script-docs/_astro/Plotshape_square.C0HqeKpT_Z2vP0aj.webp" alt="图形_正方形" width="26" height="26" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Square_with_text.Cs7f7vtU_ZQ5w6n.webp" alt="带文本的正方形" width="64" height="64" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">shape.triangleup</code></td><td><img src="/pine-script-docs/_astro/Plotshape_triangleup.DSdn-Z9j_Z1evkl7.webp" alt="图形_三角形向上" width="23" height="23" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Triangleup_with_text.QVon6H1r_Z1B8FDq.webp" alt="带文本的三角形向上" width="64" height="64" loading="lazy" decoding="async"></td><td><code dir="auto">shape.diamond</code></td><td><img src="/pine-script-docs/_astro/Plotshape_diamond.CPu2rKgV_MWJwF.webp" alt="图形_钻石" width="27" height="27" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Diamond_with_text.CGBBjhsU_1Mzs8I.webp" alt="带文字的钻石" width="64" height="64" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">shape.triangledown</code></td><td><img src="/pine-script-docs/_astro/Plotshape_triangledown.D3CZ8Iw5_1K890M.webp" alt="图形_三角形向下" width="23" height="22" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Triangledown_with_text.BNalFnw6_Z26gke6.webp" alt="带文本的三角形向下" width="64" height="64" loading="lazy" decoding="async"></td><td><code dir="auto">shape.labelup</code></td><td><img src="/pine-script-docs/_astro/Plotshape_labelup.BEl-5lc0_Z2kYQOT.webp" alt="图形标签" width="18" height="34" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Labelup_with_text.BZCbEuFR_Z1DJ1iU.webp" alt="标签向上_带文本" width="64" height="64" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">shape.flag</code></td><td><img src="/pine-script-docs/_astro/Plotshape_flag.Cj1OxWfL_1Hh1UW.webp" alt="Plotshape_flag" width="23" height="23" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Flag_with_text.PGNhrE2y_29i1uf.webp" alt="带有文本的标志" width="64" height="64" loading="lazy" decoding="async"></td><td><code dir="auto">shape.labeldown</code></td><td><img src="/pine-script-docs/_astro/Plotshape_labeldown.CoBObOmO_Z2sHwUh.webp" alt="图形标签向下" width="18" height="34" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/Labeldown_with_text.lJXVqT03_Z2nweNY.webp" alt="标签向下_带文本" width="64" height="64" loading="lazy" decoding="async"></td></tr></tbody></table>
<h2 id="plotarrow" class="md-heading"><a href="#plotarrow"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`plotarrow()`</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotarrow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
</font><font style="vertical-align: inherit;">
根据函数第一个参数中使用的系列的相对值显示可变长度的向上或向下箭头。它的语法如下：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">plotarrow(series, title, colorup, colordown, offset, minheight, maxheight, editable, show_last, display, force_overlay) → void</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有关其参数的详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考手册中的 plotarrow() 条目。</font></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;">plotarrow()</font></a></font><code dir="auto">series</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数
</font><font style="vertical-align: inherit;">不是</font><font style="vertical-align: inherit;">
plotchar
 </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;">()</font></a><font style="vertical-align: inherit;">
和
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;">plotshape()</font></a><font style="vertical-align: inherit;">中的“系列布尔值” ；它是一个“系列 int/float”，它不仅仅是一个简单的
</font><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">值，用于确定何时绘制箭头。这是控制提供给 plotarrow() 的参数如何影响</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;">plotarrow()</font></a><font style="vertical-align: inherit;">行为的
逻辑</font><font style="vertical-align: inherit;">：</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">true</code><font style="vertical-align: inherit;"></font><code dir="auto">false</code><font style="vertical-align: inherit;"></font><code dir="auto">series</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<ul>
<li><code dir="auto">series &gt; 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：显示一个向上的箭头，其长度与该条上的系列相对于其他系列值的相对值成比例。</font></font></li>
<li><code dir="auto">series &lt; 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：显示向下的箭头，使用相同的规则按比例调整大小。</font></font></li>
<li><code dir="auto">series == 0 or na(series)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：不显示箭头。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"></font><code dir="auto">minheight</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用和参数</font><font style="vertical-align: inherit;">控制箭头的最大和最小可能尺寸（以像素为单位）</font></font><code dir="auto">maxheight</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个简单的脚本，说明
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotarrow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotarrow() 的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
工作原理：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="5fu"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">body</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span></span><br><span><span class="mtk16">plotarrow</span><span class="mtk13">(</span><span class="mtk33">body</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">colorup</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.teal</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">colordown</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Plotarrow-01.KkXXJXUI_Z1LV4X8.webp" alt="图像" width="1405" height="592" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意箭头的高度与条体的相对尺寸成比例。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用任何系列来绘制箭头。这里我们使用“Chaikin 振荡器”的值来控制箭头的位置和大小：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="63t"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">"Chaikin&nbsp;Oscillator&nbsp;Arrows"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">overlay</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">fastLengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">3</span><span class="mtk18">,</span><span class="mtk1">&nbsp;&nbsp;</span><span class="mtk33">minval</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span class="mtk33">slowLengthInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">minval</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">1</span><span class="mtk13">)</span></span><br><span><span class="mtk33">osc</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk11">ta.accdist</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">fastLengthInput</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.ema</span><span class="mtk13">(</span><span class="mtk11">ta.accdist</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">slowLengthInput</span><span class="mtk13">)</span></span><br><span><span class="mtk16">plotarrow</span><span class="mtk13">(</span><span class="mtk33">osc</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-Plotarrow-02.ChRmPIiy_Zb0OYl.webp" alt="图像" width="1412" height="684" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，我们在图表下方的窗格中显示实际的“Chaikin 振荡器”，因此您可以看到使用哪些值来确定箭头的位置和大小。</font></font></p>
<h2 id="labels" class="md-heading"><a href="#labels"> <span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签仅在 Pine Script™ v4 及更高版本中可用。它们的工作方式与
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常不同。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签是对象，如
</font></font><a href="/pine-script-docs/concepts/lines-and-boxes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线条和框</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
</font></font><a href="/pine-script-docs/concepts/tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。与它们一样，它们使用 ID 来引用，其作用类似于指针。标签 ID 属于“标签”类型。与其他对象一样，标签 ID 是“时间序列”，用于管理它们的所有函数都接受“序列”参数，这使它们非常灵活。</font></font></p>
<aside aria-label="注意！" class="tv-informer not-content" style="--informer-header-color:#FF9800;--informer-back-color-light:#FFF3E0;--informer-back-color-dark:#33261A"><div class="tv-informer-icon"><svg viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"></path></svg></div><div class="tv-informer-content"><p><span class="tv-informer-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 TradingView 图表上，一整套</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绘图工具</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许用户使用鼠标操作创建和修改绘图。虽然它们有时看起来与使用 Pine Script™ 代码创建的绘图对象相似，但它们是无关的实体。使用 Pine 代码创建的绘图对象无法通过鼠标操作进行修改，并且图表用户界面上的手绘绘图在 Pine 脚本中不可见。</font></font></p></div></aside>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签具有以下优势：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们允许将“系列”值转换为文本并放置在图表上。这意味着它们非常适合显示无法提前知道的值，例如价格值、支撑位和阻力位，以及脚本计算的任何其他值。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们的定位选项比功能的定位选项更灵活
</font></font><code dir="auto">plot*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们提供更多显示模式。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><code dir="auto">plot*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数相反，标签处理函数可以插入条件或循环结构中，从而更容易控制其行为。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以向标签添加工具提示。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotchar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与plotchar()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_plotshape"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotshape()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相比，使用标签的一个缺点
</font><font style="vertical-align: inherit;">
是，您只能在图表上绘制有限数量的标签。默认值为 ~50，但您可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;">indicator()</font></a><font style="vertical-align: inherit;">
或
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy"><font style="vertical-align: inherit;">strategies()</font></a></font><code dir="auto">max_labels_count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明语句中的参数
</font><font style="vertical-align: inherit;">
指定最多 500 个。标签（如
</font><a href="/pine-script-docs/concepts/lines-and-boxes"><font style="vertical-align: inherit;">线条和框</font></a><font style="vertical-align: inherit;">）使用垃圾收集机制进行管理，该机制会删除图表上最旧的标签，以便只有最近绘制的标签可见。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_strategy"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/concepts/lines-and-boxes"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于管理标签的内置工具箱全部位于</font></font><code dir="auto">label</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
命名空间中。它们包括：</font></font></p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
创建标签。</font></font></li>
<li><code dir="auto">label.set_*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数来修改现有标签的属性。</font></font></li>
<li><code dir="auto">label.get_*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数来读取现有标签的属性。</font></font></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Ddelete"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.delete()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
删除标签</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_label%7Bdot%7Dall"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.all</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组
</font><font style="vertical-align: inherit;">
始终包含图表上所有可见标签的 ID。数组的大小取决于脚本的最大标签数量以及您绘制的标签数量。
</font></font><code dir="auto">aray.size(label.all)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将返回数组的大小。</font></font></li>
</ul>
<h3 id="creating-and-modifying-labels" class="md-heading"><a href="#creating-and-modifying-labels"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建和修改</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数创建一个新标签。它具有以下签名：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text" tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">label.new(x, y, text, xloc, yloc, color, style, textcolor, size, textalign, tooltip, force_overylay) → series label</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许您更改标签属性的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数是：</font></font></p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_x"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.set_x()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.set_y()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.set_xy()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.设置文本（）</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xloc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.set_xloc()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_yloc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.set_yloc()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_color"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.设置颜色（）</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_style"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.设置样式（）</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_textcolor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.设置文本颜色()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_size"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.设置大小()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_set_textalign"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.set_textalign()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.设置工具提示()</font></font></a></li>
</ul>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_color"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们都有类似的签名。label.set_color ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的签名
</font><font style="vertical-align: inherit;">
是：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">label.set_color(id, color) → void</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里：</font></font></p>
<ul>
<li><code dir="auto">id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是要修改属性的标签的ID。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个参数是要修改的标签的属性。这取决于使用的 setter 函数。label.set_xy
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会更改两个属性，因此它有两个这样的参数。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以按照以下方式以最简单的形式创建标签：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="41a"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-CreatingLabels-01.BHaO-o78_Y8WYV.webp" alt="图像" width="1764" height="530" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该标签是使用参数</font></font><code dir="auto">x = bar_index</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（当前条的索引，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_bar_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bar_index</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和</font></font><code dir="auto">y = high</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（条的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最高</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值）创建的。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们没有为函数的</font></font><code dir="auto">text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数提供实参。其默认值为空字符串，不显示任何文本。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有逻辑控制我们的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用，因此在每个条上都会创建标签。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅显示最后 54 个标签，因为我们的
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicator()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调用没有使用</font></font><code dir="auto">max_labels_count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数来指定除 ~50 默认值之外的值。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签会一直保留在条形图上，直到脚本使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Ddelete"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.delete()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其删除，或被垃圾收集器移除。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在下一个示例中，我们在最近 50 个条形图中具有最高</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_high"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值的条形图上显示一个标签
：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="68p"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Find&nbsp;the&nbsp;highest&nbsp;`high`&nbsp;in&nbsp;last&nbsp;50&nbsp;bars&nbsp;and&nbsp;its</span><span class="mtk9">&nbsp;offset.&nbsp;Change&nbsp;it's&nbsp;sign&nbsp;so&nbsp;it&nbsp;is&nbsp;positive.</span></span><br><span><span class="mtk33">LOOKBACK</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">50</span></span><br><span><span class="mtk33">hi</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.highest</span><span class="mtk13">(</span><span class="mtk33">LOOKBACK</span><span class="mtk13">)</span></span><br><span><span class="mtk33">highestBarOffset</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.highestbars</span><span class="mtk13">(</span><span class="mtk33">LOOKBACK</span><span class="mtk13">)</span></span><br><span><span></span></span><br><span><span class="mtk9">//&nbsp;Create&nbsp;label&nbsp;on&nbsp;bar&nbsp;zero&nbsp;only.</span></span><br><span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">lbl</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">color</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.orange</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_lower_left</span><span class="mtk13">)</span></span><br><span><span class="mtk9">//&nbsp;When&nbsp;a&nbsp;new&nbsp;high&nbsp;is&nbsp;found,&nbsp;move&nbsp;the&nbsp;label&nbsp;there&nbsp;</span><span class="mtk9">and&nbsp;update&nbsp;its&nbsp;text&nbsp;and&nbsp;tooltip.</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.change</span><span class="mtk13">(</span><span class="mtk33">hi</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Build&nbsp;label&nbsp;and&nbsp;tooltip&nbsp;strings.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">labelText</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"High:&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">hi</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.mintick</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">tooltipText</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Offest&nbsp;in&nbsp;bars:&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">highestBarOffset</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk29">"\nLow:&nbsp;"</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk11">low</span><span class="mtk13">[</span><span class="mtk33">highestBarOffset</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.mintick</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Update&nbsp;the&nbsp;label's&nbsp;position,&nbsp;text&nbsp;and&nbsp;tooltip.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_xy</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk13">[</span><span class="mtk33">highestBarOffset</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">hi</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_text</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">labelText</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_tooltip</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">tooltipText</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-CreatingLabels-02.CaxmDfMG_1vmoqQ.webp" alt="图像" width="1766" height="644" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#kw_var"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们仅通过使用var</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
关键字声明</font></font><code dir="auto">lbl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含标签 ID 的变量，</font><font style="vertical-align: inherit;">即可在第一个条形图上创建标签
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;">。label.new()</font></a><font style="vertical-align: inherit;">调用中的
</font></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code dir="auto">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和参数</font><font style="vertical-align: inherit;">
无关紧要，因为标签将在后续条形图上更新。不过，我们确实会小心使用</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">我们想要的标签，这样它们以后就不需要更新了。</font></font><code dir="auto">text</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">color</code><font style="vertical-align: inherit;"></font><code dir="auto">style</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在每根柱线上，我们通过测试以下值的变化来检测是否发现了新高：</font></font><code dir="auto">hi</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当高值发生变化时，我们会用新信息更新标签。为此，我们使用三个</font></font><code dir="auto">label.set*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用来更改标签的相关信息。我们使用
</font></font><code dir="auto">lbl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含标签 ID 的变量来引用标签。因此，脚本在所有条形图中都保持相同的标签，但在检测到新高值时移动它并更新其信息。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里我们在每个条形上创建一个标签，但是我们根据条形的极性有条件地设置它的属性：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="76u"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">lbl</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">close</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;=</span><span class="mtk1">&nbsp;</span><span class="mtk11">open</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_text</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"green"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_color</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.green</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_yloc</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">yloc.belowbar</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_style</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_up</span><span class="mtk13">)</span></span><br><span><span class="mtk18">else</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_text</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"red"</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_color</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">color.red</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_yloc</span><span class="mtk13">(</span><span class="mtk1">&nbsp;</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">yloc.abovebar</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_style</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_down</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-CreatingLabels-03.ClglPmUL_Z1Jm6jL.webp" alt="图像" width="1766" height="642" loading="lazy" decoding="async"></p>
<h3 id="positioning-labels" class="md-heading"><a href="#positioning-labels"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定位</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签根据</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（条形图）和</font><font style="vertical-align: inherit;">y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
价格）坐标定位在图表上。五个参数影响此行为：</font></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code dir="auto">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
</font></font><code dir="auto">xloc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">：</font></font><code dir="auto">yloc</code><font style="vertical-align: inherit;"></font><code dir="auto">style</code><font style="vertical-align: inherit;"></font></p>
<p><code dir="auto">x</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是条形索引或时间值。使用条形索引时，值可以偏移过去或将来（未来最多 500 条）。使用时间值时，也可以计算过去或未来的偏移。可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_x"><font style="vertical-align: inherit;">label.set_x()</font></a><font style="vertical-align: inherit;">
或
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xy"><font style="vertical-align: inherit;">label.set_xy()</font></a></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改现有标签的值
</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_x"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xy"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><code dir="auto">xloc</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_xloc%7Bdot%7Dbar_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xloc.bar_index</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
(默认) 或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_xloc%7Bdot%7Dbar_time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xloc.bar_time</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。它决定必须使用哪种类型的参数</font></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。对于
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_xloc%7Bdot%7Dbar_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xloc.bar_index</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
</font></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须是绝对条形索引。对于
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_xloc%7Bdot%7Dbar_time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xloc.bar_time</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
必须是与</font><font style="vertical-align: inherit;">
条形的
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_open"><font style="vertical-align: inherit;">打开</font></a><a href="https://www.tradingview.com/pine-script-reference/v5/#var_time"><font style="vertical-align: inherit;">时间</font></a></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值相对应的 UNIX 时间（以毫秒为单位）
 </font><font style="vertical-align: inherit;">。可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xloc"><font style="vertical-align: inherit;">label.set_xloc()</font></a><font style="vertical-align: inherit;">修改现有标签的值
</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_time"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_open"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">xloc</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xloc"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><code dir="auto">y</code></p>
<p><font style="vertical-align: inherit;"></font><code dir="auto">yloc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签所在的价格水平。只有在使用默认值</font><font style="vertical-align: inherit;">时才会考虑</font></font><code dir="auto">yloc.price</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。如果
</font></font><code dir="auto">yloc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dabovebar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yloc.abovebar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dbelowbar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yloc.belowbar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
，则</font></font><code dir="auto">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忽略该参数。可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_y"><font style="vertical-align: inherit;">label.set_y()</font></a><font style="vertical-align: inherit;">
或
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xy"><font style="vertical-align: inherit;">label.set_xy()</font></a></font><code dir="auto">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改现有标签的值
</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_y"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_xy"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><code dir="auto">yloc</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dprice"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yloc.price</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
（默认值）、
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dabovebar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yloc.abovebar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dbelowbar"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yloc.belowbar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 使用的参数仅在</font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dprice"><font style="vertical-align: inherit;">yloc.price</font></a></font><code dir="auto">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时考虑
</font><font style="vertical-align: inherit;">。可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_yloc"><font style="vertical-align: inherit;">label.set_yloc()</font></a><font style="vertical-align: inherit;">修改现有标签的值
</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dprice"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">yloc</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_yloc"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><code dir="auto">style</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用的参数会影响标签的外观，以及当</font><font style="vertical-align: inherit;">
使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dabovebar"><font style="vertical-align: inherit;">yloc.abovebar</font></a><font style="vertical-align: inherit;">
或
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dbelowbar"><font style="vertical-align: inherit;">yloc.belowbar</font></a></font><code dir="auto">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，其相对于参考点的位置（由条形图的值或顶部/底部
决定）。可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_style"><font style="vertical-align: inherit;">label.set_style()</font></a><font style="vertical-align: inherit;">修改现有标签的样式
</font><font style="vertical-align: inherit;">。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dabovebar"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_yloc%7Bdot%7Dbelowbar"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">style</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dset_style"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些是可用的</font></font><code dir="auto">style</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数：</font></font></p>





























































































<table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">争论</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带文本的标签</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">争论</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带文本的标签</font></font></th></tr></thead><tbody><tr><td><code dir="auto">label.style_xcross</code></td><td><img src="/pine-script-docs/_astro/label.style_xcross.C9JSUQRE_v14T2.webp" alt="label_style_xcross" width="45" height="43" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_xcross_t.DPHiuTMd_ZArsHs.webp" alt="label_style_xcross_t" width="39" height="58" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_up</code></td><td><img src="/pine-script-docs/_astro/label.style_labelup.BwgLLtO1_Z1l1um8.webp" alt="label_style_label_up" width="26" height="32" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_labelup_t.BGJ7MtwJ_xL0VI.webp" alt="标签样式标签上" width="55" height="39" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_cross</code></td><td><img src="/pine-script-docs/_astro/label.style_cross.rv8J58or_Uz067.webp" alt="label_style_cross" width="38" height="33" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_cross_t.CMucKs6T_ZSh4W0.webp" alt="标签样式交叉t" width="41" height="57" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_down</code></td><td><img src="/pine-script-docs/_astro/label.style_labeldown.BFAq-8ZE_ZIvq7L.webp" alt="标签样式标签向下" width="26" height="31" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_labeldown_t.L-NIjl15_k2Tfr.webp" alt="label_style_label_down_t" width="49" height="40" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_flag</code></td><td><img src="/pine-script-docs/_astro/label.style_flag.B5SqpJOR_ZNiesK.webp" alt="标签样式标志" width="43" height="41" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_flag_t.Yd9se8TY_ZcPibj.webp" alt="标签样式标志" width="40" height="60" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_left</code></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelleft.CoJwMI_X_ZHLCfA.webp" alt="标签样式标签左" width="34" height="35" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelleft_t.CMNu0DBH_Z1Mtkbi.webp" alt="标签样式标签左" width="70" height="57" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_circle</code></td><td><img src="/pine-script-docs/_astro/label.style_circle.B1NdiRhT_15VqGC.webp" alt="标签样式圆圈" width="40" height="40" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_circle_t.DfdC3pj7_ZP9V9R.webp" alt="标签样式圆圈" width="38" height="61" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_right</code></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelright.DgXGrRa9_ipC7A.webp" alt="标签样式标签右" width="33" height="36" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelright_t.D44pTqgu_2umAQq.webp" alt="标签样式标签右_t" width="65" height="55" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_square</code></td><td><img src="/pine-script-docs/_astro/label.style_square.CUNIiJ9b_ZlvPE0.webp" alt="标签样式_正方形" width="36" height="34" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_square_t.-OUB179q_Z1BAnvM.webp" alt="标签样式方形" width="36" height="61" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_lower_left</code></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labellowerleft.D2hZptp3_ZUxi8P.webp" alt="标签样式标签左下角" width="33" height="37" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labellowerleft_t.Kwxk7klP_Z18eq2A.webp" alt="标签样式标签左下角" width="67" height="54" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_diamond</code></td><td><img src="/pine-script-docs/_astro/label.style_diamond.COncn0Zi_1lDxHq.webp" alt="标签样式_钻石" width="36" height="38" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_diamond_t.e7SsTV_d_VN69k.webp" alt="标签样式钻石" width="40" height="60" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_lower_right</code></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labellowerright.GvDkEi7V_Z2o0oHI.webp" alt="标签样式标签右下角" width="35" height="40" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labellowerright_t.CT8ecmHn_2dYi27.webp" alt="标签样式标签右下角" width="68" height="56" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_triangleup</code></td><td><img src="/pine-script-docs/_astro/label.style_triangleup.DHU9hA18_19xNp4.webp" alt="标签样式_三角形向上" width="36" height="39" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_triangleup_t.C6XS8y_c_12VNsS.webp" alt="标签样式_三角形向上_t" width="42" height="54" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_upper_left</code></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelupperleft.DzaMZ6Lm_Z2jdeMW.webp" alt="标签样式标签左上角" width="30" height="37" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelupperleft_t.jBf41_qj_1z9Nuv.webp" alt="标签样式标签左上角" width="64" height="50" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_triangledown</code></td><td><img src="/pine-script-docs/_astro/label.style_triangledown.CVD8jP47_AOqWU.webp" alt="label_style_triangledown" width="40" height="34" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_triangledown_t.Ds2S1BfO_hU5ru.webp" alt="标签样式_triangledown_t" width="42" height="61" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_upper_right</code></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelupperright.Cs_tEjae_1q9D6Y.webp" alt="标签样式标签右上" width="28" height="37" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelupperright_t.gHx7FqVU_2jKzoK.webp" alt="标签样式标签右上部" width="63" height="50" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_arrowup</code></td><td><img src="/pine-script-docs/_astro/label.style_arrowup.Bnnvniie_Zvzaa5.webp" alt="label_style_arrowup" width="35" height="36" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_arrowup_t.CSukCsAU_Z2kIGh6.webp" alt="label_style_arrowup_t" width="40" height="54" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_label_center</code></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelcenter.BDNM-3_M_Z1yvaCH.webp" alt="标签样式标签中心" width="34" height="38" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/TextAndShapes-LabelStyles-labelcenter_t.DGjIAaki_VY0Yv.webp" alt="标签样式标签中心" width="65" height="51" loading="lazy" decoding="async"></td></tr><tr><td><code dir="auto">label.style_arrowdown</code></td><td><img src="/pine-script-docs/_astro/label.style_arrowdown.DHUuQ7Xu_Z8bfOV.webp" alt="label_style_arrowdown" width="35" height="35" loading="lazy" decoding="async"></td><td><img src="/pine-script-docs/_astro/label.style_arrowdown_t.BsY5apvs_iNdTw.webp" alt="label_style_arrowdown_t" width="37" height="56" loading="lazy" decoding="async"></td><td><code dir="auto">label.style_none</code></td><td></td><td><img src="/pine-script-docs/_astro/label.style_none_t.iibFInW6_1QhWd.webp" alt="label_style_none_t" width="32" height="15" loading="lazy" decoding="async"></td></tr></tbody></table>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#const_xloc%7Bdot%7Dbar_time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xloc.bar_time</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，该</font></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值必须是以毫秒为单位的 UNIX 时间戳。
</font><font style="vertical-align: inherit;">有关更多信息，
请参阅</font></font><a href="/pine-script-docs/concepts/time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间页面。当前条的开始时间可以从</font></font></a><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">time</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内置变量中获取。前几条的条时间为</font></font><code dir="auto">time[1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，依此类推。还可以使用</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timestamp"><font style="vertical-align: inherit;">timestamp</font></a></font><code dir="auto">time[2]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数
将时间设置为绝对值
</font><font style="vertical-align: inherit;">
。您可以添加或减去时间段以实现相对时间偏移。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_timestamp"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在最后一栏的日期前一天放置一个标签：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="30p"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk13">)</span></span><br><span><span class="mtk33">daysAgoInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">1</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">tooltip</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Use&nbsp;negative&nbsp;values&nbsp;to&nbsp;offset&nbsp;in&nbsp;the&nbsp;future"</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.islast</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">MS_IN_ONE_DAY</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">24</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk12">60</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk12">60</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk12">1000</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk33">oneDayAgo</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">time</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk13">(</span><span class="mtk33">daysAgoInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">*</span><span class="mtk1">&nbsp;</span><span class="mtk33">MS_IN_ONE_DAY</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk33">oneDayAgo</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">xloc</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">xloc.bar_time</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_label_right</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，由于市场关闭时存在不同的时间间隔和缺失条形图，标签的定位可能并不总是准确的。这种时间偏移在 24x7 市场上往往更可靠。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还可以使用条形索引来偏移值</font></font><code dir="auto">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="3c2"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">+</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk1">&nbsp;</span><span class="mtk18">-</span><span class="mtk1">&nbsp;</span><span class="mtk12">10</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">[</span><span class="mtk12">10</span><span class="mtk13">])</span></span><br><span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk13">[</span><span class="mtk12">10</span><span class="mtk13">]</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">[</span><span class="mtk12">10</span><span class="mtk13">])</span></span><br></code></div>
<h3 id="reading-label-properties" class="md-heading"><a href="#reading-label-properties"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取标签</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签可以使用</font><font style="vertical-align: inherit;">以下</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getter函数：</font></font></em><font style="vertical-align: inherit;"></font></p>
<ul>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dget_x"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.get_x()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dget_y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.get_y()</font></font></a></li>
<li><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dget_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签.获取文本（）</font></font></a></li>
</ul>
<p><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dget_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们都有类似的签名。label.get_text ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的签名
</font><font style="vertical-align: inherit;">
是：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">label.get_text(id) → series string</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中</font></font><code dir="auto">id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是要检索其文本的标签。</font></font></p>
<h3 id="cloning-labels" class="md-heading"><a href="#cloning-labels"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克隆</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.copy
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dcopy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数用于克隆标签。其语法为：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">label.copy(id) → void</span></div></div></code></pre></figure></div>
<h3 id="deleting-labels" class="md-heading"><a href="#deleting-labels"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.delete
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Ddelete"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数用于删除标签。其语法为：</font></font></p>
<div class="expressive-code not-content"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8;--1:#24292e">label.delete(id) → void</span></div></div></code></pre></figure></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了在图表上仅保留用户定义数量的标签，可以使用如下代码：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="6gn"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk33">MAX_LABELS</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">500</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">max_labels_count</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">MAX_LABELS</span><span class="mtk13">)</span></span><br><span><span class="mtk33">qtyLabelsInput</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">input.int</span><span class="mtk13">(</span><span class="mtk12">5</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"Labels&nbsp;to&nbsp;keep"</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">minval</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">maxval</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk33">MAX_LABELS</span><span class="mtk13">)</span></span><br><span><span class="mtk33">myRSI</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.rsi</span><span class="mtk13">(</span><span class="mtk11">close</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk33">myRSI</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk16">ta.highest</span><span class="mtk13">(</span><span class="mtk33">myRSI</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">20</span><span class="mtk13">)[</span><span class="mtk12">1</span><span class="mtk13">]</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">myRSI</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk33">myRSI</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">"#.00"</span><span class="mtk13">)</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk33">style</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk11">label.style_none</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk16">array.size</span><span class="mtk13">(</span><span class="mtk11">label.all</span><span class="mtk13">)</span><span class="mtk1">&nbsp;</span><span class="mtk18">&gt;</span><span class="mtk1">&nbsp;</span><span class="mtk33">qtyLabelsInput</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.delete</span><span class="mtk13">(</span><span class="mtk16">array.get</span><span class="mtk13">(</span><span class="mtk11">label.all</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk12">0</span><span class="mtk13">))</span></span><br><span><span class="mtk16">plot</span><span class="mtk13">(</span><span class="mtk33">myRSI</span><span class="mtk13">)</span></span><br></code></div>
<p><img src="/pine-script-docs/_astro/TextAndShapes-DeletingLabels-01.CQiqGcEC_ZRD1mW.webp" alt="图像" width="1764" height="644" loading="lazy" decoding="async"></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们定义一个</font></font><code dir="auto">MAX_LABELS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常量来保存脚本可以容纳的最大标签数量。我们使用该值来设置
</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;">indicator()</font></a></font><code dir="auto">max_labels_count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用中的参数值
</font><font style="vertical-align: inherit;">
，并将其作为</font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_input%7Bdot%7Dint"><font style="vertical-align: inherit;">input.int()</font></a><font style="vertical-align: inherit;">调用中的值
</font><font style="vertical-align: inherit;">
来限制用户值。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_indicator"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">maxval</code><font style="vertical-align: inherit;"></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_input%7Bdot%7Dint"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们的 RSI 突破过去 20 条的最高值时，我们会创建一个新标签。请注意</font></font><code dir="auto">[1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在 中使用
的偏移量。这是必要的。如果没有它， </font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta%7Bdot%7Dhighest"><font style="vertical-align: inherit;">ta.highest()</font></a></font><code dir="auto">if myRSI &gt; ta.highest(myRSI, 20)[1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回的值
</font><font style="vertical-align: inherit;">
将始终包含 的当前值</font><font style="vertical-align: inherit;">，因此</font><font style="vertical-align: inherit;">永远不会高于函数的返回值。</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_ta%7Bdot%7Dhighest"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code dir="auto">myRSI</code><font style="vertical-align: inherit;"></font><code dir="auto">myRSI</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之后，我们删除
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#var_label%7Bdot%7Dall"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.all</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组中最旧的标签
，该数组由 Pine Script™ 运行时自动维护，包含我们脚本绘制的所有可见标签的 ID。我们使用 array.get
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_array%7Bdot%7Dget"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
函数检索索引为零的数组元素（最旧的可见标签 ID）。然后我们使用
</font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Ddelete"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.delete()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
删除与该 ID 关联的标签。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，如果只想在最后一个条形图上放置标签，则创建和删除标签是不必要的，也是低效的，因为脚本会在所有条形图上执行，因此只保留最后一个标签：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="3k"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//&nbsp;INEFFICENT!</span></span><br><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk33">lbl</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.mintick</span><span class="mtk13">))</span></span><br><span><span class="mtk16">label.delete</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk13">[</span><span class="mtk12">1</span><span class="mtk13">])</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是实现相同任务的有效方法：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="6bv"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk18">if</span><span class="mtk1">&nbsp;</span><span class="mtk11">barstate.islast</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;Create&nbsp;the&nbsp;label&nbsp;once,&nbsp;the&nbsp;first&nbsp;time&nbsp;the&nbsp;block</span><span class="mtk9">&nbsp;executes&nbsp;on&nbsp;the&nbsp;last&nbsp;bar.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk18">var</span><span class="mtk1">&nbsp;</span><span class="mtk33">lbl</span><span class="mtk1">&nbsp;</span><span class="mtk18">=</span><span class="mtk1">&nbsp;</span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">na</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">na</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk9">//&nbsp;On&nbsp;all&nbsp;iterations&nbsp;of&nbsp;the&nbsp;script&nbsp;on&nbsp;the&nbsp;last&nbsp;bar</span><span class="mtk9">,&nbsp;update&nbsp;the&nbsp;label's&nbsp;information.</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_xy</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br><span><span class="mtk1">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="mtk16">label.set_text</span><span class="mtk13">(</span><span class="mtk33">lbl</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk16">str.tostring</span><span class="mtk13">(</span><span class="mtk11">high</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">format.mintick</span><span class="mtk13">))</span></span><br></code></div>
<h3 id="realtime-behavior" class="md-heading"><a href="#realtime-behavior"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时</font></font><span class="fancy-wrap"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行为</font></font><span class="icon icon-link" aria-hidden="true"><svg width="28" height="28" viewBox="0 0 28 28"><g fill="currentColor" clip-path="url(#a)"><path d="M14.908 5.558a5.326 5.326 0 1 1 7.533 7.533l-3.236 3.236-1.061-1.061 3.236-3.236a3.826 3.826 0 1 0-5.411-5.411l-3.236 3.236-1.06-1.06 3.235-3.237ZM5.56 14.907a5.326 5.326 0 0 0 7.532 7.533l3.236-3.236-1.061-1.061-3.236 3.236a3.826 3.826 0 1 1-5.411-5.411l3.236-3.236-1.061-1.06-3.236 3.235Z"></path><path d="m16.346 10.592-5.753 5.753 1.061 1.06 5.753-5.752-1.06-1.06Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h28v28H0z"></path></clipPath></defs></svg></span></span></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签可执行</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提交</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回滚操作，这些操作会影响脚本在实时栏中执行时的行为。请参阅 Pine Script™ 的</font></font></em><font style="vertical-align: inherit;"></font><a href="/pine-script-docs/#execution-model"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模型</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面
</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此脚本演示了在实时栏中运行时回滚的效果：</font></font></p>
<div class="pine-colorizer not-content colorized" data-id="3dq"><div class="pine-colorizer__header"><a class="pine-colorizer__title" href="https://tradingview.com/pine-script-docs/en/v5/Introduction.html" target="_blank" rel="noopener"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pine Script™</font></font></span></a><button class="pine-colorizer__copy-btn"><div class="pine-colorizer__tooltip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已复制</font></font></div></button></div><code class="monaco-editor-tv-pine-light"><span><span class="mtk9">//</span><span class="mtk9 mtkb">@version=</span><span class="mtk9">5</span></span><br><span><span class="mtk16">indicator</span><span class="mtk13">(</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk29">""</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">true</span><span class="mtk13">)</span></span><br><span><span class="mtk16">label.new</span><span class="mtk13">(</span><span class="mtk11">bar_index</span><span class="mtk18">,</span><span class="mtk1">&nbsp;</span><span class="mtk11">high</span><span class="mtk13">)</span></span><br></code></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在实时柱上，
 </font></font><a href="https://www.tradingview.com/pine-script-reference/v5/#fun_label%7Bdot%7Dnew"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">label.new()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会在每次脚本更新时创建一个新标签，但由于回滚过程，同一柱上上次更新时创建的标签将被删除。只有在实时柱关闭前创建的最后一个标签才会被提交，从而保留下来。</font></font></p>      </div> <div class="pagination-buttons not-content" data-astro-cid-xgirumru=""> <a href="/pine-script-docs/concepts/tables" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前的</font></font></p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf=""> <svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow-back">  <use xlink:href="#ai:local:theme/arrow-back"></use>  </svg><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格  </font></font></h4> </a>  <a href="/pine-script-docs/concepts/time" class="pagination-card" data-pagefind-ignore="" data-astro-cid-assl6cvf=""> <p data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></p> <h4 class="pagination-card-header" data-astro-cid-assl6cvf=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  时间</font></font><svg width="28" height="28" viewBox="0 0 28 28" data-astro-cid-assl6cvf="" data-icon="theme/arrow">  <symbol id="ai:local:theme/arrow"><path fill="none" stroke="var(--arrow-fill-color, #131722)" d="m11 8 6 6-6 6"></path></symbol><use xlink:href="#ai:local:theme/arrow"></use>  </svg> </h4> </a>  </div>  </main>   <div id="toc" data-pagefind-ignore="" data-astro-cid-oor6cujd=""><aside class="document-toc-container ml-4 w-48" data-astro-cid-oor6cujd=""><section data-astro-cid-oor6cujd=""><header data-astro-cid-oor6cujd=""><h2 class="toc-header" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本页</font></font></h2></header><ul class="" id="toc-entries" data-astro-cid-oor6cujd=""><a href="#text-and-shapes" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-2" data-current="" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本和形状</font></font></li></a><a href="#introduction" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></li></a><a href="#plotchar" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`plotchar()`</font></font></li></a><a href="#plotshape" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`plotshape()`</font></font></li></a><a href="#plotarrow" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`plotarrow()`</font></font></li></a><a href="#labels" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-3" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font></li></a><a href="#creating-and-modifying-labels" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建和修改标签</font></font></li></a><a href="#positioning-labels" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定位标签</font></font></li></a><a href="#reading-label-properties" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取标签属性</font></font></li></a><a href="#cloning-labels" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克隆标签</font></font></li></a><a href="#deleting-labels" class="document-toc-link" data-astro-cid-oor6cujd="" aria-current="true"><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除标签</font></font></li></a><a href="#realtime-behavior" class="document-toc-link" data-astro-cid-oor6cujd=""><li class="l-4" data-astro-cid-oor6cujd=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时行为</font></font></li></a></ul><a class="back-top" href="#top" data-astro-cid-oor6cujd=""><svg width="16" height="16" viewBox="0 0 16 16" data-astro-cid-oor6cujd="" data-icon="theme/back-top">  <symbol id="ai:local:theme/back-top"><path fill="currentColor" fill-rule="evenodd" d="M6.25 12.5A2.75 2.75 0 0 0 9 9.75V4.56L6.78 6.78a.75.75 0 0 1-1.06-1.06l3.5-3.5a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1-1.06 1.06L10.5 4.56v5.19a4.25 4.25 0 0 1-8.5 0v-1a.75.75 0 0 1 1.5 0v1a2.75 2.75 0 0 0 2.75 2.75Z" clip-rule="evenodd"></path></symbol><use xlink:href="#ai:local:theme/back-top"></use>  </svg><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回到顶部
</font></font></a></section></aside></div> </main> </div>            <script data-astro-rerun="" src="/pine-script-docs/static/pine-highlighter-v06.js" data-astro-exec=""></script><div id="goog-gt-tt" class="VIpgJd-yAWNEb-L7lbkb skiptranslate" style="border-radius: 12px; margin: 0 0 0 -23px; padding: 0; font-family: 'Google Sans', Arial, sans-serif;" data-id=""><div id="goog-gt-vt" class="VIpgJd-yAWNEb-hvhgNd"><div class=" VIpgJd-yAWNEb-hvhgNd-l4eHX-i3jM8c"><img src="https://fonts.gstatic.com/s/i/productlogos/translate/v14/24px.svg" width="24" height="24" alt=""></div><div class=" VIpgJd-yAWNEb-hvhgNd-k77Iif-i3jM8c"><div class="VIpgJd-yAWNEb-hvhgNd-IuizWc" dir="ltr">Original text</div><div id="goog-gt-original-text" class="VIpgJd-yAWNEb-nVMfcd-fmcmS VIpgJd-yAWNEb-hvhgNd-axAV1"></div></div><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid ltr"><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od ltr" dir="ltr"><div class="VIpgJd-yAWNEb-hvhgNd-UTujCb">Rate this translation</div><div class="VIpgJd-yAWNEb-hvhgNd-eO9mKe">Your feedback will be used to help improve Google Translate</div></div><div class="VIpgJd-yAWNEb-hvhgNd-xgov5 ltr"><button id="goog-gt-thumbUpButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Good translation" aria-label="Good translation" aria-pressed="false"><span id="goog-gt-thumbUpIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7H2v13h16c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM7 18H4V9h3v9zm14-7l-3 7H9V8l4.34-4.34L12 9h9v2z"></path></svg></span><span id="goog-gt-thumbUpIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7v13h11c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM5 7H1v13h4V7z"></path></svg></span></button><button id="goog-gt-thumbDownButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Poor translation" aria-label="Poor translation" aria-pressed="false"><span id="goog-gt-thumbDownIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7h5V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zM17 6h3v9h-3V6zM3 13l3-7h9v10l-4.34 4.34L12 15H3v-2z"></path></svg></span><span id="goog-gt-thumbDownIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zm16 0h4V4h-4v13z"></path></svg></span></button></div></div><div id="goog-gt-votingHiddenPane" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><form id="goog-gt-votingForm" action="//translate.googleapis.com/translate_voting?client=te_lib" method="post" target="votingFrame" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><input type="text" name="sl" id="goog-gt-votingInputSrcLang"><input type="text" name="tl" id="goog-gt-votingInputTrgLang"><input type="text" name="query" id="goog-gt-votingInputSrcText"><input type="text" name="gtrans" id="goog-gt-votingInputTrgText"><input type="text" name="vote" id="goog-gt-votingInputVote"></form><iframe name="votingFrame" frameborder="0"></iframe></div></div></div> </body></html>